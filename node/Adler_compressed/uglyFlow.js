function nnn(e){for(var t=e.split("."),r=window,n="",i=0,l=t.length;l>i;i++)n=t[i],r[n]=r[n]||{},r=r[n];return r}function testnnn(e){nnn(e)}function r242(e){return"touchstart"==e.type?r90(e):("touchmove"==e.type?(e.preventDefault(),r87(e)):"touchend"==e.type?r91(e):"touchcancel"==e.type&&alert("cancel"),void 0)}function blr(){inp.style.zIndex="0",inp.style.visibility="hidden";var e=elementInFocus;null==e&&(e=document.getElementById("div"+(seq-1))),e.innerHTML=inp.value}function r249(e,t,r,n,i){var l=e.length,a=null,o=r.getAttribute("id");if(null==n){for(var s=l-1;s>-1;s--)if(a=e[s],o==a.tObj.getAttribute("id")){var d=a.to,c=d.length,u=c-1;0>u&&(u=0),null==d[u][1]?(d[u][0]=t,d[u][1]=i):(d[c]=new Array(2),d[c][0]=t,d[c][1]=i),s=-1}}else{var d=new Array;d[0]=new Array(2),d[0][0]=t,d[0][1]=null;var p=JSON.parse(JSON.stringify(n));a={tObj:r,from:p,to:d,event:"",sObj:null},e[l]=a}}function r172(e){canMove?r39():(canMove=!0,elementInFocus=document.getElementById("inp"+e),r122())}function r112(e,t){return null==t?t=e.firstElementChild:(t=t.nextElementSibling,t?t:null)}function r16(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),Adler.pageView?("Phone"===Adler.layout?(e=226,t=326):"Tablet"===Adler.layout&&(e=700),{winWidth:e,winHeight:t}):{winWidth:e,winHeight:t}}function r133(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t?decodeURIComponent(t[1].replace(/\+/g," ")):null}function confirmAction(e){Adler.txtSearch&&(Adler.txtSearch.style.visibility="hidden");var t=document.getElementById("confirm");t.style.display="block";var r=document.createElement("div");r.setAttribute("style","position:absolute;left:45%;top:45%;width:300px;height:100px;background:white;"),t.appendChild(r);var n=document.createElement("div");n.setAttribute("style","width:100%;height:100%"),r.appendChild(n);var i="height:50px;float:left;background:white;",l=document.createElement("div");l.setAttribute("style","width:25%;"+i);var a=document.createElement("div");a.setAttribute("style","width:50%;"+i);var o=document.createElement("div");o.setAttribute("style","width:25%;"+i),n.appendChild(l),n.appendChild(a),n.appendChild(o);var s=document.createElement("div");s.setAttribute("style","text-align:center;"),s.innerHTML=e.title,a.appendChild(s);for(var d=e.choices.length,c=["green","red","yellow","purple","aqua"],u=0;d>u;u++){var p=e.choices[u],g=document.createElement("button");g.setAttribute("style","text-align:center;background-color:"+c[u]),g.setAttribute("name","adlerBase"),g.innerHTML=p.text,g.callback=p.callback,g.onclick=function(){Adler.txtSearch&&(Adler.txtSearch.style.visibility="visible");var e=event.target;t.innerHTML="",t.style.display="none",e.callback.apply(null,[])},a.appendChild(g)}}function n3(e,t,r){var n=!0,i=null,l=function(e){e&&(i=e),i};r===!1&&(n=r);var a;window.XMLHttpRequest&&(a=new XMLHttpRequest),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=a.responseText,t=JSON.parse(e);if("0"===t.code)l&&l.apply(null,[t]);else{var r={code:-1,msg:"failed"};l&&l.apply(null,[r]),alert("failed")}}},window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var o=window.location.origin+t;return a.open("POST",o,n),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.send(e),i}function isDirty(){Adler.dirty&&Adler.j6()}function dataAdler(e,t){var r,n=e.actualObj.getAttribute("data-adler");r=n?JSON.parse(n):{};for(var i=t.length-1;i>-1;i--){var l=t[i];r[l.name]=l.value}e.actualObj.setAttribute("data-adler",JSON.stringify(r))}function print(e){debg.innerHTML=1==e.length?"":debg.innerHTML+" "+e}function r157(e,t){e.id=Adler.getNextId();for(var r in e.defaults)e[r]=e.defaults[r];for(var r in t)e[r]=t[r]}function r243(e){var t="";switch(e){case 1:t="W";break;case 2:t="E";break;case 3:t="SW";break;case 4:t="NE";break;case 5:t="S";break;case 6:t="N";break;case 7:t="SE";break;case 8:t="NW";break;default:t=""}return t}function r64(e,t,r){var n=0;return 0===e?n=t>0?2:1:90===e?n=r>0?5:6:45===e?n=r>0?7:8:-45===e?n=r>0?3:4:e>0?n=r>0?7:8:0>e?n=r>0?3:4:n}function r17(e,t){var r=e.ep1,n=e.ep2;null==r&&(r=r121(e.p1)),null==n&&(n=r121(e.p2)),"N"==t||"S"==t?e.p2.style.left=r.x+"px":e.p2.style.top=r.y+"px",r228("Aligning ")}function r90(e){if(!clickAllowed)return console.log("double clicked"),void 0;clickAllowed=!1,setTimeout(function(){clickAllowed=!0},500);var t=r97(e,Adler.canvas);if(targetElement=r142(e),targetName=targetElement.getAttribute("name"),targetName&&0===targetName.indexOf("adler")){if(targetElement!==Adler.selectDiv1&&targetElement!==Adler.selectDiv2)return targetView=targetElement,newCodeStart(t);var r=AdlerBaseExt.n1(null,{left:t.x,top:t.y,width:1,height:1});if(r&&r.length>0)if(targetElement=r[0].actualObj,targetElement===elementInFocus);else{var n=!0;AdlerBaseExt.r39(!1,null,elementInFocus,n)}else{var n=!0;AdlerBaseExt.r39(!1,null,elementInFocus,n)}}if(targetArray=new Array,targetArray.push({targetElement:targetElement,pos:t}),previousTargetElement=targetElement,targetId=targetElement.adlerId,targetView=targetId?Adler.globalCollection.getItem(targetId):null,null==targetView)Adler.trace&&(logStarted?console.groupEnd():logStarted=!0,console.groupCollapsed("event start - menu click target - "+targetElement.getAttribute("id"))),null!=targetId?targetView="connect"===targetId?targetElement:AdlerBaseMenuExt.menuCollection.getItem(targetId):(Adler.trace&&console.groupEnd(),targetView=findTargetView());else{targetView.actualObj!==targetElement&&(targetElement=targetView.actualObj),Adler.trace&&console.groupCollapsed("event start - target - "+targetElement.getAttribute("id"));for(var i=Adler.activeMenus.length,l=i-1;l>-1;l--){var a=Adler.activeMenus[l];Adler.activeMenus.pop(),Adler.hiddenMenus.push(a),AdlerBaseMenuExt.r168(a,"visibility","hidden")}if(Adler.pen===Adler.workPen)return workflow.r70(t,e)}return newCodeStart(t)}function newCodeStart(e){mousedown=!0;var t="mouse";if(touchEnabled&&(t="touch"),adlerEvent){var r=adlerEvent.targetModel;adlerEvent.beginPos=e,adlerEvent.currentPos=e,adlerEvent.targetModel=targetView,adlerEvent.targetHTML=targetElement,adlerEvent.previousObj=r}else adlerEvent=new AdlerEvent({type:t,currentPos:e,targetModel:targetView,targetHTML:targetElement});return clear.r36(),targetView.r90?targetView.r90(adlerEvent):targetView.config?targetView.config.r90?targetView.config.r90(adlerEvent):!0:void 0}function findTargetView(){targetView=null;for(var e=targetElement.parentElement,t=!0;t;){targetElement=e;var r=targetElement.adlerId;r?(targetView=Adler.globalCollection.getItem(r),t=!1):(e=targetElement.parentElement,e||(t=!1))}return targetView}function cancelBubble(e){var t=e?e:window.event;t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0)}function r142(e){return touchEnabled?e.targetTouches[0].target:e.target}function r173(e){return adlerEvent.r215(e),targetView.config?targetView.config.r87?targetView.config.r87(adlerEvent):!0:targetView.r87?targetView.r87(adlerEvent):!0}function r174(){mousedown=!1,Adler.trace&&console.log("entering r91 - targetElement"+targetElement);var e=!0;targetView.config?e=targetView.config.r91?targetView.config.r91(adlerEvent):!0:targetView.r91&&(e=targetView.r91(adlerEvent)),Adler.trace&&(console.groupEnd(),logStarted=!1);for(var t=Adler.hiddenMenus.length,r=t-1;r>-1;r--){var n=Adler.hiddenMenus[r];Adler.hiddenMenus.pop(),Adler.activeMenus.push(n),AdlerBaseMenuExt.r168(n,"visibility","visible")}return Adler.canvas.style["z-index"]=1,e}function r87(e){if(null==targetView)return!0;var t=r97(e,Adler.canvas);if(mousedown){if(Adler.pen===Adler.workPen)return workflow.r69(t,e);if(recordFlag){var r=recordArray.length;recordArray[r]=[targetId,{x:t.x,y:t.y}]}return r173(t)}}function r91(e){if(Adler.pen===Adler.workPen)return workflow.r71(e);if(recordFlag){var t=recordArray.length;recordArray[t]=["rr",{x:9999,y:9999}],r259(),recordArray=new Array}return null==targetView?!0:(counter>1&&targetArray.push({targetElement:null,pos:{x:path[counter-1][0],y:path[counter-1][1]}}),r174())}function r86(){return 1!=counter?(identify.r257(),!1):"adler"==targetName?(null==elementInFocus&&r202(targetElement),r37(),!1):void 0}function r37(){targetElement=null,targetId=null,targetName=null}function r175(){if(1==counter)return r234(),void 0;var e=r121(elementInFocus);if(elementInFocusPoints.ep=e,6==ops){if(identify.r257(),pointsArray.length>3){for(var t=new Array,r=0,n=0;n<pointsArray.length;n++){if(n>0){var i=pointsArray[n-1][2],l=pointsArray[n][2],a=Math.round((i+l)/2);t[r]=new Array,t[r][0]=path[a][0]-elementInFocusPoints.eoffx,t[r][1]=path[a][1]-elementInFocusPoints.eoffy,r++}t[r]=new Array,t[r][0]=pointsArray[n][0]-elementInFocusPoints.eoffx,t[r][1]=pointsArray[n][1]-elementInFocusPoints.eoffy,r++}e.points=t}clear.r36()}r249(animationArray,ops,elementInFocus,null,e),r228("Recorded and saved")}function r42(){"recordMenu"==targetId?2!=mode?(mode=2,ops=0):mode=5:mode=5}function r43(e){"colorSheetMenu"==targetId?(ops=11,elementInFocusPoints.touchx=e.x,elementInFocusPoints.touchy=e.y):ops=7}function r33(e){var t=touchTime;t==e&&clear.r36()}function r97(e,t){var r,n,i=0,l=0;return Adler.drawBoundary&&(i=Adler.drawBoundary.left,l=Adler.drawBoundary.top),touchEnabled?(r=event.targetTouches[0].pageX,n=event.targetTouches[0].pageY,{x:r-i,y:n-l}):(e.pageX||e.pageY?(r=e.pageX,n=e.pageY):(r=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),r-=t.offsetLeft,n-=t.offsetTop,{x:r-i,y:n-l})}function r182(){return 9999==playCount||playCount>sessionStorage.count?(alert("end of recording"),sessionStorage.count=0,playCount=0,void 0):(recordFlag=!1,recordArray=JSON.parse(sessionStorage.getItem("recordArray_"+(playCount+1))),null==recordArray?(alert("no recorded data found"),void 0):(howManyTimes=recordArray.length,setTimeout("r101(0,"+howManyTimes+",true,25)",100),void 0))}function r101(e,t,r,n){var i=recordArray[e][0],l=recordArray[e][1],a=null;"rr"!=i&&(a=document.getElementById(i)),null==a&&(a={getAttribute:function(){return""}});var o=a.getAttribute("name");if("playR"==i)return playCount=9999,void 0;if("adlerMenu"==o||"adlerGeneralMenu"==o){"textDiv"==i&&(elementInFocus.innerHTML="Type any text here "),r228("Clicked on "+a.innerHTML);var s=i+"()";setTimeout(s,20),n=1500}var d=null,c={target:a,pageX:l.x,pageY:l.y};if(d="true"===sessionStorage.touchEnabled?{targetTouches:[c]}:c,r)r90(d),r=!1;else{if(9999==l.x)return r91(d),playCount++,"rr"!=i&&r228(i),setTimeout("r182()",1800),void 0;r87(d)}e++,t>e&&setTimeout("r101("+e+","+t+","+r+","+n+")",n)}function r233(){recordFlag?(recordFlag=!1,document.getElementById("playR").style.visibility="hidden"):(recordFlag=!0,document.getElementById("playR").style.visibility="visible")}function r259(){var e=++sessionStorage.count;sessionStorage.setItem("recordArray_"+e,JSON.stringify(recordArray));var t=sessionStorage.lastWritten,r=(new Date).getTime();t=parseInt(t),r-t>cacheDeleteTimeLimit&&(r61(),recordFlag=!1)}function r61(){for(var e=sessionStorage.count+1,t=1;e>t;t++)sessionStorage.removeItem("recordArray_"+t);sessionStorage.removeItem("count"),sessionStorage.removeItem("lastWritten"),sessionStorage.removeItem("windowSize"),sessionStorage.removeItem("touchEnabled")}function r255(){var e=" function setStorage() {";e+="\r\n  document.getElementById('playR').style.visibility='visible';",e=e+"\r\n"+"sessionStorage.count="+sessionStorage.count+";",e=e+"\r\n"+"sessionStorage.lastWritten=new Date().getTime();",e=e+"\r\n"+"sessionStorage.windowSize='"+sessionStorage.windowSize+"';",e=e+"\r\n"+"sessionStorage.touchEnabled='"+sessionStorage.touchEnabled+"';";for(var t=parseInt(sessionStorage.count)+1,r=1;t>r;r++){var n="recordArray_"+r;e=e+"\r\n"+"sessionStorage."+n+"='"+sessionStorage.getItem(n)+"';"}e+="\r\n }",preview(e)}function specialKeys(e){var t=e.which;e.ctrlKey?Adler.specialKey.keyType="ctrlKey":e.shiftKey&&(Adler.specialKey.keyType="shiftKey");var r=function(){Adler.specialKey.timer&&clearTimeout(Adler.specialKey.timer),2===Adler.specialKey.active&&(Adler.selectDiv1.style.visibility="hidden",Adler.selectDiv1.selectedView=null,Adler.selectDiv2.style.visibility="hidden",Adler.editor.active=!1,Adler.editor.blinkCursor.style.visibility="hidden"),Adler.specialKey.active=Adler.specialKey.active+2,Adler.specialKey.active>10&&(Adler.specialKey.active=10)};switch(t){case 8:case 46:if(Adler.editor.active)break;if(Adler.specialKey.keyValue=8,Adler.specialKey.active=0,targetElement){var n=targetElement.nodeName;"INPUT"===n||"TEXTAREA"===n||Adler.editor.active||e.preventDefault()}if("ctrlKey"!==Adler.specialKey.keyType)return;var i=AdlerBaseExt.r125();i&&(AdlerBaseExt.deleteElement(i),Adler.specialKey.active=2);break;case 9:if(Adler.editor.active){if(!language.editor.existing||language.editor.existing!==language.editor.tabStyle){e.preventDefault();var l=e.target,a=l.selectionStart;l.value=l.value.substring(0,l.selectionStart)+"	"+l.value.substring(l.selectionEnd),l.selectionEnd=a+1}break}break;case 17:e.preventDefault(),Adler.specialKey.active=0,Adler.specialKey.keyValue=17;break;case 37:case 39:if(Adler.specialKey.keyValue=t,Adler.editor.active){Adler.specialKey.keyType="arrow";break}var i=AdlerBaseExt.r125();if(i&&"body1"!==i.getObjId()){if(e.preventDefault(),Adler.specialKey.active||(Adler.specialKey.active=2),Adler.specialKey.keyType&&(Adler.specialKey.keyType.indexOf("hift")>-1||Adler.specialKey.keyType.indexOf("trl")>-1)){var o=i.r146(),s=!0;if("shiftKey"==Adler.specialKey.keyType?(s=!1,Adler.specialKey.keyType="ShiftArrow",o+=Adler.specialKey.active):(Adler.specialKey.keyType="CtrlArrow",o-=Adler.specialKey.active),37===t){if(!s){var d=i.getLeft()-Adler.specialKey.active;i.setLeft(d)}}else if(s){var d=i.getLeft()+Adler.specialKey.active;i.setLeft(d)}i.setWidth(o)}else{var d=i.getLeft();37===t?d-=Adler.specialKey.active:d+=Adler.specialKey.active,i.setLeft(d),Adler.specialKey.keyType="arrow"}r(i)}else r228("please reselect the object"),Adler.specialKey.active=0,Adler.specialKey.keyType="arrow";break;case 38:case 40:if(Adler.specialKey.keyValue=t,Adler.editor.active){Adler.specialKey.keyType="arrow";break}var i=AdlerBaseExt.r125();if(i&&"body1"!==i.getObjId()){if(e.preventDefault(),Adler.specialKey.active||(Adler.specialKey.active=2),Adler.specialKey.keyType&&(Adler.specialKey.keyType.indexOf("hift")>-1||Adler.specialKey.keyType.indexOf("trl")>-1)){var c=i.getHeight(),s=!0;if("shiftKey"==Adler.specialKey.keyType?(s=!1,Adler.specialKey.keyType="ShiftArrow",c+=Adler.specialKey.active):(Adler.specialKey.keyType="CtrlArrow",c-=Adler.specialKey.active),38===t){if(!s){var u=i.getTop();u-=Adler.specialKey.active,i.setTop(u)}}else if(s){var u=i.getTop();u+=Adler.specialKey.active,i.setTop(u)}i.r217(c)}else{Adler.specialKey.keyType="arrow";var u=i.getTop();40===t?u+=Adler.specialKey.active:u-=Adler.specialKey.active,i.setTop(u)}r(i)}else r228("please reselect the object"),Adler.specialKey.active=0,Adler.specialKey.keyType="arrow";break;case 91:Adler.specialKey.active=0,Adler.specialKey.keyValue=91,Adler.specialKey.keyType="ctrlKey";break;default:if(Adler.editor.active||"ctrlKey"!==Adler.specialKey.keyType)return;switch(t){case 8:case 32:break;case 67:break;case 86:var p=Adler.copyBuffer[0];if(i=Adler.globalCollection.getItem(p.dataId)){var g=i.r45();p.objectId=g.getObjId(),p.dataId=g.getId(),AdlerBaseExt.r202(g,!0)}else r228("nothing to paste");break;case 88:break;case 90:Adler.undo()}}}function r153(e){if(Adler.editor.htmlActive)return Adler.specialKey.keyType?Adler.specialKey.keyType=null:language.editor.existing.dirty=!0,!0;if(Adler.specialKey.keyType){if(Adler.specialKey.keyType.indexOf("rrow")>-1&&Adler.specialKey.active){var t=AdlerBaseExt.r125(),r=t.parent,n=AdlerBaseExt.n1(t);"arrow"===Adler.specialKey.keyType&&n.length>0&&n[0]!==r&&t.setParent(n[0]),Adler.specialKey.active=0;var i=t.getLeft(),l=t.getTop(),a=i-elementInFocusPoints.left,o=l-elementInFocusPoints.top;return t.absoluteLeft=a+t.absoluteLeft,t.absoluteTop=o+t.absoluteTop,AdlerBaseExt.setAbsoluteRecursive(t,a,o),elementInFocusPoints.left=i,elementInFocusPoints.top=l,AdlerBaseExt.r39(!1,t),AdlerBaseExt.r202(t,!0),Adler.specialKey.keyType=null,void 0}if(91!==e.which)return Adler.specialKey.keyType=null,void 0}if(targetElement===elementInFocus){if(null==targetElement||"INPUT"===targetElement.nodeName||targetView===Adler.canvasView)return;var s=e.which;if((8===s||46===s)&&"ctrlKey"!==Adler.specialKey.keyType){var d=elementInFocus.innerHTML.slice(0,-1);elementInFocus.innerHTML=d}var c=String.fromCharCode(s);if(c="shiftKey"==Adler.specialKey.keyType?c.toUpperCase():c.toLowerCase(),Adler.editor.active){var d=elementInFocus.innerHTML+c;elementInFocus.innerHTML=d}else if(47>s||91===s){if(8===s||46===s){r152(Adler.txtSearch.parentNode,"hidden");var u={title:"Delete "+elementInFocus.getAttribute("id")+" ? ",choices:[{text:"Yes",callback:function(){r152(Adler.txtSearch.parentNode,"visible");var e=AdlerBaseExt.r125();AdlerBaseExt.r39(!1,e),r228("view "+e.getObjId()+" deleted"),e.r62()}},{text:"Open Editor",callback:function(){r152(Adler.txtSearch.parentNode,"visible"),menu.generic.editText.r10(null,AdlerBaseExt.r125())}},{text:"Ignore",callback:function(){r152(Adler.txtSearch.parentNode,"visible")}}]};confirmAction(u)}}else menu.generic.editText.r10(null,AdlerBaseExt.r125())}else if(targetElement.keyup)return targetElement.keyup.apply(targetElement,[e]),void 0}function r18(e){if(e.preventDefault(),mousedown){var t=r97(e,Adler.canvas);tEl=r142(e),tEl!=previousTargetElement&&(targetArray.push({targetElement:tEl,pos:t}),previousTargetElement=tEl)}}function r73(e){e.stopPropagation(),e.preventDefault();var t=r97(e,Adler.canvas);return null!=jsonDiv&&(jsonDiv.style.left=t.x+"px",jsonDiv.style.top=t.y+"px"),uploadImage.style.left=t.x,uploadImage.style.top=t.y,!0}function r88(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,r=t.files,n=r97(e,Adler.canvas);return handleFiles(r,n),!1}function r72(e){e.stopPropagation(),e.preventDefault();var t=r97(e,Adler.canvas);return uploadImage=document.getElementById("uploadImage"),uploadImage.style.display="block",uploadImage.style.visibility="visible",uploadImage.style.left=t.x,uploadImage.style.top=t.y,e.dataTransfer,!0}function handleFiles(e,t){var r=uploadImage.style;r.left="0px",r.top="1000px",r.visibility="hidden";var n="",i=document.getElementById("dropCircle");if("block"==i.style.display){n=i.path,i.style.display="none";var l=n.split("/"),a=l[l.length-1],o=a.split("."),s=o[o.length-1];l.pop();var d=e[0];if(d.name!==a)return alert("Wrong file being uploaded "+d.name+" instead of "+a),!1;var c=new FileReader;return c.onload=function(e,t,r){return function(n){var i=n.target.result,l=e.split("."),a="";l.length>0&&(a=l[l.length-1].toLowerCase());var o="/uploadBase64/"+e.replace(".","_");("css"===a||"js"===a||a.indexOf("htm")>-1)&&(o="/uploadBase64/diff");var s=i.split(";"),d=s[1].substring(7),c=d.substring(0,d.length),u={fileData:c,fileName:e,fileType:r,folder:t};jsonString=JSON.stringify(u),n3(e,jsonString,o,!1)}}(a,l.join("/"),s),c.readAsDataURL(d),!1}for(var u=0;u<e.length;u++){var d=e[u],p=d.type,a=d.name,o=a.split("."),s=o[o.length-1];"zip"===s?p="application/zip":"js"===s?p="text/javascript":s.indexOf("htm")>-1?p="text/html":a.indexOf(".manifest")>-1&&(p="manifest"),p||(p="png"===s||"gif"===s||"jpg"===s||"jpeg"===s?"image/"+s:s),console.log("file Type "+p);var g=AdlerBaseExt.r148(t.x,t.y),m=g.length,f=g[m-1],c=new FileReader;if(Adler.trace&&console.log("dragged fie "+d.type+" view - "+f.actualObj.getAttribute("id")),"manifest"===p)c.onload=function(){return function(e){for(var t=function(e,t,r){var n=!0,i=t[e++],l="";"script"===i?l="js":"style"===i?l="css":n=!1,Adler.manifest[i]=new Array;for(var a=Adler.manifest[i],o=t.length,s=e;o>s;s++){var d=t[s];d&&(a.push(d),n&&(d.indexOf("./")>-1&&(d=d.replace("./","/AdlerGen/")),Adler.r164(d,l,r+l+s)))}},r=e.target.result,n=csv2cells(r),i=n.length,l=0,a="global";i>l;){var o=n[l];"type"===o[0]?a=o[1]:"document"===o[0]?"head"===o[1]&&t(2,o,a):"color"===o[0]?t(0,o,a):"widget"===o[0]&&t(0,o,a),l++}}}(f),c.readAsText(d);else if("application/json"==p){var y=document.getElementById("jsonContainer");y.style.left=t.x+"px",y.style.top=t.y+"px",null==jsonDiv?(c.onload=function(e,t){return function(r){if(t.subType){if("lineChart"===t.subType){var n=r.target.result,i=JSON.parse(n);t.lastLoaded.r80(t,i)}}else{if(null==jsonDiv){var n=r.target.result,i=JSON.parse(n);jsonDiv=custom.gallery.json.createJSON(i,y),jsonDiv.style.left=e.x+"px",jsonDiv.style.top=e.y+"px",jsonDiv.json=i}y.style.visibility="visible",y.style.display="block",jsonDiv.style.left="10px",jsonDiv.style.top="40px",y.appendChild(jsonDiv)}}}(t,f),c.readAsText(d)):(y.style.visibility="visible",jsonDiv.style.left="10px",jsonDiv.style.top="40px",y.appendChild(jsonDiv,y))}else if("text/javascript"==p)c.onload=function(){return function(e){var t=e.target.result,r=parseJavascript(t,a);if(!Adler.pageView){Adler.flow.jsObject||(Adler.flow.jsObject={}),Adler.flow.jsObject[a]=r,sessionStorage["adler-flowDetail"]=JSON.stringify(Adler.flow),Adler.flow.dirty=!0,Adler.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,1);var n="/js/",i={fileData:t,fileName:a,fileType:p,folder:n};jsonString=JSON.stringify(i),n3(a,jsonString,"/upload/"+a.replace(".","_"),!1),r228("file "+a+" added ")}}}(f),c.readAsText(d);else if("text/html"===p)c.onload=function(e){return function(r){garbage.innerHTML="";var n=r.target.result;if(Adler.interactive){if(!Adler.pageView){var i=AdlerBaseExt.r148(t.x,t.y);if(i[0]===Adler.canvasView)return r228("Please drop on top of a page. Exiting .."),void 0;var l=a.split("."),o=l[0],s=flow.findPage(o),d=l[1],c="/"+Adler.flow.flowName+"/"+Adler.layout+"/";s&&s.path&&(c=c+"/"+s.path);var u={fileData:n,fileName:o+".html",fileType:p,folder:c};jsonString=JSON.stringify(u),n3(a,jsonString,"/upload/"+o+"_html",!1);var i=AdlerBaseExt.r148(t.x,t.y),g=Adler.flow[Adler.layout].pages,m=flow.findPage(o);if(m)m.type&&"custom"===m.type||(m.type="custom",m.path="",m.extension=d,Adler.dirty=!0,Adler.flow.dirty=!0);else{var f=i[0].name;m=flow.findPage(f),m.pageName=o,m.extension=d,m.type="custom",m.path="",i[0].name=o;for(var y=g.length-1;y>-1;y--){var s=g[y];if(s.href)for(var h=s.href,v=h.length-1;v>-1;v--)h[v]===f&&(h[v]=o)}Adler.dirty=!0,Adler.flow.dirty=!0,flow.redraw()}return Adler.dirty&&(clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,10)),r228('page - "'+o+'" uploaded'),void 0}var o=e.name;"adlerDiv"===o&&(o=null);var w=null;o&&(w=getPage(o,"page"),pageId="",Adler.page={pageName:o,flowId:Adler.flowId,userId:Adler.userId,type:"page",template:"",layout:Adler.layout,manifest:{}},w&&(pageId=w.pageId));var A="",b="",x="",S=new Array,k=new Array,T=!1,I=!1,P=new Array;if(HTMLParser(n,{start:function(e,t){var r=e.toLowerCase(),n={tag:r,ignore:!1};if(P.push(n),"html"===r||"head"===r||"title"===r||"meta"===r||"body"===r)return n.ignore=!0,void 0;if("link"===r){for(var i=0;i<t.length;i++){var l=t[i].name;"href"===l&&S.push(t[i].escaped)}return n.ignore=!0,void 0}if("script"===r){n.ignore=!0,T=!0;for(var a=!1,i=0;i<t.length;i++){var l=t[i].name;"src"===l&&(k.push(t[i].escaped),a=!0)}if(a)return}else"style"===r&&(n.ignore=!0,I=!0);if(!n.ignore){A+="<"+e;for(var i=0;i<t.length;i++){var l=t[i].name;A+=" "+l+'="'+t[i].escaped+'"'}A+=">"}},end:function(e){for(var t=e.toLowerCase(),r=null,n=P.length-1;n>-1&&(r=P[n],P.pop(),t!==r.tag);n--);T?T=!1:I&&(I=!1),r.ignore||(A+="</"+e+">")},chars:function(e){var t=P[P.length-1];if(T)b+=e;else if(I)x+=e;else{if(!t||t.ignore)return;A+=e}},comment:function(e){A+="<!--"+e+"-->"}}),o){var C=Adler.page.manifest;C.style=S,C.script=k,w=Adler.page;var E=Adler.getNextId(),B=Adler.getNextId(),j=Adler.getNextId(),O='[{"styleClassName":"Location'+B+'","styleType":"Location","detail":"left:0.0px;top:0.0px;position:absolute;"},{"styleClassName":"Shape'+j+'","styleType":"Shape","detail":"width:1345.0px;height:703.0px;z-index:1;"}]';A='<div id="div0" class=" Location'+B+" Shape"+j+'" draggable="false" data-adler="{&quot;adlerId&quot;:'+E+',&quot;subType&quot;:&quot;widget&quot;,&quot;p&quot;:{&quot;cHTML&quot;:1}}">'+A+"</div>";var M={},D=!0;if(pageId){delete w._id;var N={pageId:pageId,documentType:"html",docId:""};N=getPageArtifact(pageId,"html",D),M.htmlDocId=N.docId,N=getPageArtifact(pageId,"css",D),M.cssDocId=N.docId,N=getPageArtifact(pageId,"workflow",D),M.wkDocId=N.docId}else pageId=Adler.getNextId(),Adler.page.pageId=pageId;insertPage(w);var L={pageId:pageId,documentType:"html",data:A};M&&(L.docId=M.htmlDocId),insertPageArtifacts(L),L={pageId:pageId,documentType:"workflow",data:"{}"},M&&(L.docId=M.wkDocId),insertPageArtifacts(L),L={pageId:pageId,documentType:"css",data:O},M&&(L.docId=M.cssDocId),insertPageArtifacts(L)}else{if(x){var _=document.getElementsByTagName("head")[0],H=document.createElement("style");H.setAttribute("type","text/css"),H.styleSheet?H.styleSheet.cssText=x:H.appendChild(document.createTextNode(x)),_.appendChild(H)}dataAdler(e,[{name:"p",value:{cHTML:1}},{name:"subType",value:"widget"}]),e.actualObj.innerHTML=A}return console.log(A),A}try{garbage.innerHTML=n}catch(r){console.log(r)}Adler.storage.externalHTMLTree(garbage,e,"   ")}}(f),c.readAsText(d);else if("text/css"==p){var h=document.createElement("style");h.setAttribute("data-status","toBeRemoved"),c.onload=function(){return function(e){var t=e.target.result;if(Adler.interactive){var r="/"+Adler.flow.flowName+"/"+Adler.layout+"/css/",n={fileData:t,fileName:a,fileType:p,folder:r};jsonString=JSON.stringify(n),n3(a,jsonString,"/upload/"+encodeURI(a.replace(".","_")),!1),r228("file "+a+" added ")}else{var r="/css/",n={fileData:t,fileName:a,fileType:p,folder:r};jsonString=JSON.stringify(n),n3(a,jsonString,"/upload/"+a.replace(".","_")),setTimeout(function(){Adler.addHeaders("/AdlerGen/css/"+a,"style",1),Adler.dirty=!0},1e3)}r228("style sheet added")}}(f),c.readAsText(d)}else if(p.indexOf("image")>-1){var v=document.createElement("img");c.onload=function(e,t,r,n){return function(i){var l=i.target.result,o=r;r=r.toLowerCase(),r=r.split(" ").join("_"),r=r.split("(").join("_"),r=r.split(")").join("_"),r=r.split("-").join("_");var s=encodeURIComponent(r);e.src=l;var d="/image/",c=l.split(";"),u=c[1].substring(7),g=u.substring(0,u.length-1);if(11===Adler.mode){if(-1===p.indexOf("png"))return alert("Must use png file only for App Icon - invalid file"),void 0;var m=e.naturalHeight,f=e.naturalWidth;if(144>m||144>f)return alert("Image must be at least 144x144px, Current image is "+m+"x"+f+"px - not acceptable as App Icon"),void 0;var y={fileData:g,fileName:r,fileType:p,folder:d};jsonString=JSON.stringify(y),n3(s,jsonString,"/upload/"+a.replace(".","_"),!1),Adler.flow[Adler.layout].logo=r;var h=document.getElementById("dropLogo");return h.style.display="none",Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6(),Adler.mode=-1,Adler.generateButton("flow"),void 0}Adler.pageView||(d="/"+Adler.flow.flowName+"/"+Adler.layout+"/image/");var y={fileData:g,fileName:o,fileType:p,folder:d};if(jsonString=JSON.stringify(y),n3(s,jsonString,"/upload/"+a.replace(".","_"),!1),Adler.pageView)if(9===Adler.mode)Adler.page.template=s,custom.gallery.image.i1(e);else{var v="/AdlerGen/image/"+r;if(t===Adler.canvasView){var w={title:"Want image as template<br>or as Background? ",choices:[{text:"Background",callback:function(){custom.gallery.image.createImage(e,t,{src:v,draggable:!1},s)}},{text:"Template",callback:function(){Adler.page.template=s,custom.gallery.image.i1(e)}},{text:"Cancel",callback:function(){}}]};confirmAction(w)}else custom.gallery.image.createImage(e,t,{src:v,draggable:!1},s,n),clearTimeout(Adler.j6Timer),Adler.j6Timer=Adler.j6()}else r228("Image uploaded")}}(v,f,a,t),c.readAsDataURL(d)}else if("text/csv"==p)c.onload=function(){return function(e){for(var t=e.target.result,r=t.split("\r"),n=r.length,i=new Array,l=0;n>l;l++){for(var a=new Array,o=r[l].split(","),s=o.length,d=0;s>d;d++)a.push(o[d]);i.push(a)}var c={title:"Select action ",choices:[{text:"Table ->",callback:function(){custom.gallery.json.r57(f,i,"horizontal","table")}},{text:"Form ->",callback:function(){custom.gallery.json.createForm(f,i,"vertical")}},{text:"BarChart",callback:function(){for(var e={fieldList:[],fieldValue:[]},t=0;n>t;t++){var i,l=r[t].split(",");t>0?(e.fieldValue.push(new Array),i=e.fieldValue[t-1]):i=e.fieldList;for(var a=l.length,o=0;a>o;o++)i.push(l[o])}custom.gallery.chart.barChart(f,e)}},{text:"PieChart",callback:function(){for(var e={fieldList:[],fieldValue:[]},t=0;n>t;t++){var i,l=r[t].split(",");t>0?(e.fieldValue.push(new Array),i=e.fieldValue[t-1]):i=e.fieldList;for(var a=l.length,o=0;a>o;o++)i.push(l[o])}custom.gallery.chart.pieChart(f,e)}}]};confirmAction(c)}}(f),c.readAsText(d);else{if("application/zip"==p)return c.onload=function(){return function(e){var t=e.target.result,r="/"+Adler.flow.flowName+"/"+Adler.layout+"/";a.split(".")[0]+"/";var n={fileData:t,fileName:a,fileType:p,folder:r,relativePath:""};jsonString=JSON.stringify(n);var i=n3(a,jsonString,"/upload/"+a.replace(".","_"),!1);if(i&&i.pages){for(var l=0;l<i.pages.length;l++)Adler.flow[Adler.layout].pages.push(i.pages[l]);flow.redraw(),Adler.dirty=!0,Adler.flow.dirty=!0}console.log(i),r228(" file "+a+" uploaded")}}(),c.readAsBinaryString(d),void 0;"sql"===s?(c.onload=function(){return function(e){var t=e.target.result;processSQL(t),r228("Table Definitions loaded")}}(),c.readAsText(d)):(c.onload=function(e){return function(t){var r=t.target.result;r163(r,e)}}(f),c.readAsText(d))}}}function processSQL(e){var t=[],r=[],n=[],i=[],l=[],a=[],o="",s=localStorage["Adler-User"],d=localStorage.AdlerTables;d=d?JSON.parse(d):[];for(var c=function(e,t){for(var r=d.length,n=0;r>n;n++){var i=d[n];if(i&&i.storeName===e)return d.splice(n,1,t),localStorage.AdlerTables=JSON.stringify(d),void 0}if(d.push(t),localStorage.AdlerTables=JSON.stringify(d),Adler.DBView){var l=new AdlerStorage.DBClass(d[n]);l&&l.def&&l.def.storeName&&AdlerDBStorages.push(l)}},u=e.split("CREATE TABLE"),p=1;p<u.length;p++){var g=u[p].replace(/[(\[)\]`;']/g," ").replace(/\s+/g," ");g=g.trim();var m=g.split(/,/),f=m.length,y=0,h=0,v=m[0].split(" "),w=v[0];if(m[f-1].match(/ENGINE/gi)){var v=m[f-1].split("ENGINE");m[f-1]=v[0].trim()}t=[],r=[],i=[],l=[],a=[],autoincr=[];for(var A=0;A<m.length;A++)if(m[A]=m[A].trim(),m[A].match(/PRIMARY KEY/gi)){var v=m[A].split("PRIMARY KEY"),b=v[1].trim();
h=A}else if(m[A].match(/FOREIGN KEY/gi)){var v=m[A].split("FOREIGN KEY"),x=v[1].trim(),S=x.split(" "),k=S.length;a[y]=S[k-2].trim(),y++}else{if(v=m[A].split(" "),0==A?(t[A]=v[1],"CHAR"==v[2]?r[A]=0:"VARCHAR"==v[2]?r[A]=1:"LONGBLOB"==v[2]?r[A]=2:"Rating"==v[2]?r[A]=3:"Array"==v[2]?r[A]=4:"Heading"==v[2]?r[A]=5:"TEXT"==v[2]?r[A]=6:"MEDIUMTEXT"==v[2]?r[A]=7:"LONGTEXT"==v[2]?r[A]=8:"INT"==v[2]?r[A]=9:"TINYINT"==v[2]?r[A]=10:"SMALLINT"==v[2]?r[A]=11:"MEDIUMINT"==v[2]?r[A]=12:"BIGINT"==v[2]?r[A]=13:"FLOAT"==v[2]?r[A]=14:"DOUBLE"==v[2]?r[A]=15:"DECIMAL"==v[2]?r[A]=16:"DATE"==v[2]?r[A]=17:"DATETIME"==v[2]?r[A]=18:"TIMESTAMP"==v[2]?r[A]=19:"TIME"==v[2]?r[A]=20:"YEAR"==v[2]?r[A]=21:"CHAR"==v[2]&&(r[A]=22),l[A]=isNaN(v[3])?-1:v[3]):(t[A]=v[0],"CHAR"==v[1]?r[A]=0:"VARCHAR"==v[1]?r[A]=1:"LONGBLOB"==v[1]?r[A]=2:"Rating"==v[1]?r[A]=3:"Array"==v[1]?r[A]=4:"Heading"==v[1]?r[A]=5:"TEXT"==v[1]?r[A]=6:"MEDIUMTEXT"==v[1]?r[A]=7:"LONGTEXT"==v[1]?r[A]=8:"INT"==v[1]?r[A]=9:"TINYINT"==v[1]?r[A]=10:"SMALLINT"==v[1]?r[A]=11:"MEDIUMINT"==v[1]?r[A]=12:"BIGINT"==v[1]?r[A]=13:"FLOAT"==v[1]?r[A]=14:"DOUBLE"==v[1]?r[A]=15:"DECIMAL"==v[1]?r[A]=16:"DATE"==v[1]?r[A]=17:"DATETIME"==v[1]?r[A]=18:"TIMESTAMP"==v[1]?r[A]=19:"TIME"==v[1]?r[A]=20:"YEAR"==v[1]?r[A]=21:"CHAR"==v[1]&&(r[A]=22),l[A]=isNaN(v[2])?-1:v[2]),m[A].match(/DEFAULT/gi)){var v=m[A].split("DEFAULT");"NULL"==v[1].trim()?(i[A]="NULL",n[A]=null):n[A]=v[1].trim()}else n[A]=null;i[A]=m[A].match(/NOT NULL/gi)?"NOT NULL":null,autoincr[A]=m[A].match(/AUTO_INCREMENT/gi)?"true":"false"}for(var T="",I="",P="",C=0;h>C;C++){var E="",B="";T=T+'"'+t[C]+'",',i[C]&&(E=',"nill":"'+i[C]+'"'),n[C]&&(B=',"default":"'+n[C]+'"'),I=I+'{"prec":'+l[C]+E+B+',"autoIncr":"'+autoincr[C]+'"},'}for(var j=0;y>j;j++){var O="";a[j]&&(O=a[j]),P=P+'"'+s+"."+O+'",'}T=T.replace(/,(?=[^,]*$)/,""),I=I.replace(/,(?=[^,]*$)/,""),P=P.replace(/,(?=[^,]*$)/,""),o='\n{\n"storeName":"'+s+"."+w+'","primaryKey":"'+b+'",\n'+'"columns":['+T+"],\n"+'"dataTypes":['+r.join()+"],\n"+'"others":['+I+"],\n"+'"children":['+P+"]\n"+"}\n",c(w,JSON.parse(o))}}function r163(scrpt,aView){if(eval(scrpt),0!==aView.getObjId().indexOf("body")){var lastLoaded=Adler.lastLoaded;lastLoaded.view=aView,lastLoaded.setUp(),lastLoaded.r80(aView)}aView.subType="lineChart",aView.actualObj.setAttribute("data-subtype","lineChart"),aView.scriptString=scrpt,aView.actualObj.setAttribute("data-scriptstring",scrpt),aView.r240=lastLoaded.r240,aView.r65=lastLoaded.r65,aView.lastLoaded=Adler.lastLoaded}function parseJavascript(e,t){var r=[],n=new Array,i=!0,l=-1,a=-1,l=e.indexOf("function ");if(!(l>-1))return n;for(i=!0;i;)l+=9,a=e.indexOf("function ",l),l>a?(i=!1,r[r.length]=e.substring(l)):(r[r.length]=e.substring(l,a),l=a);for(var o=-1,s=r.length,d=0;s>d;d++){o++,n[o]={functionName:"",parameters:[""],returnParm:""};for(var c=r[d],u=c.length,p=0,g="",m=-1,f=0;u>f;f++){var y=c.charAt(f);if(" "!==y)switch(p){case 0:"("===y?p++:n[o].functionName=n[o].functionName+y;break;case 1:")"===y?p=3:(m++,g="",g+=y,p++);break;case 2:if(","===y){n[o].parameters[m]=g,m++,g="";continue}if(")"===y){n[o].parameters[m]=g,p++;continue}g+=y;break;case 3:f=u+999}}}var h=document.getElementById("functionList");if(!h)return n;for(var d=n.length-1;d>-1;d--){var v=n[d],w=new Object,A="M_"+v.functionName.toUpperCase(),b=document.createElement("option");b.setAttribute("value",A),b.innerHTML=v.functionName,h.appendChild(b),w.token=A,w.name=v.functionName,w.source={fileName:"./js/custom/"+encodeURIComponent(t)},w.key=v.functionName.substring(0,4),w.class={method:v.functionName,param:[],output:[]};for(var x=v.parameters.length,f=0;x>f;f++){var S=v.parameters[f];S&&(w.class.param.push({ptoken:"P_"+S.toUpperCase(),isNull:"N"}),codeAssistData.myjson_class.codeAssistList.push({token:"P_"+S.toUpperCase(),name:S,key:S}))}v.returnParm&&w.class.output.push({output:v.returnParm}),codeAssistData.myjson_class.codeAssistList.push(w)}return n}function r143(e){var t,r,n,i=[e[0]];for(t=1;t<e.length;t++){for(n=1,r=0;r<i.length;r++)if(e[t]==i[r]){n=0;break}n&&i.push(e[t])}return i}function r144(e){v_menuKeyArray=[];for(var t=0;t<e.length;++t){var r=e[t];v_menuKeyArray.push(r.key)}return v_menuKeyArray=r143(v_menuKeyArray)}function r122(){if(null==elementInFocus)return alert("no element in focus"),r36(),void 0;var e=r121(elementInFocus);return elementInFocusPoints.ep=e,e}function r121(el){var x=el.style.left;x=parseInt(x.substring(0,x.length-2));var y=el.style.top;y=parseInt(y.substring(0,y.length-2));var w=el.style.width;w=parseInt(w.substring(0,w.length-2));var h=el.style.height;h=parseInt(h.substring(0,h.length-2));var type=el.getAttribute("data-type");if("menu"==type)return{x:x,y:y,w:w,h:h};var r1=el.style.borderTopRightRadius,r2=el.style.borderBottomRightRadius,par=el.getAttribute("data-parent"),clr=el.style.backgroundColor,bgImage=el.style.backgroundImage;return null==par?{x:x,y:y,w:w,h:h,r1:r1,r2:r2,pid:"'body'",px:0,py:0}:(eval(par),{x:x,y:y,w:w,h:h,r1:r1,r2:r2,pid:p[0],px:p[1],py:p[2],type:type,clr:clr,bgImage:bgImage})}function r134(){var par=elementInFocus.getAttribute("data-parent");return eval(par),{x:p[1],y:p[2]}}function r94(x1,y1){var el=document.getElementsByName("adler"),l=el.length;for(i=l-1;i>-1;i--){var par=el[i].getAttribute("data-parent"),st=el[i].style,x=st.left,y=st.top;if(x=parseInt(x.substring(0,x.length-2)),y=parseInt(y.substring(0,y.length-2)),par.length>0){eval(par);var x2=p[1],y2=p[2];x=x2+x,y=y2+y}if(x1>x&&y1>y){var w=st.width;w=parseInt(w.substring(0,w.length-2));var h=st.height;if(h=parseInt(h.substring(0,h.length-2)),x+w>x1&&y+h>y1)return el[i]}}return null!=elementInFocusPoints.ep&&(elementInFocusPoints.ep.pid="'body'"),null}function r941(e,t,r,n){var l=document.getElementsByName("adler"),a=l.length,o=0,s=(e+r)/2,d=(t+n)/2,c=0,u=0,p=0,g=0,m=null,f=null,y=null,h=null;for(i=a-1;i>-1;i--)if(m=r121(l[i]),c=m.x+m.px,u=m.y+m.py,p=m.w,g=m.h,e>c&&t>u&&c+p>e&&u+g>t&&(f=l[i],o=1),r>c&&n>u&&c+p>r&&u+g>n&&(y=l[i],o+=10),s>c&&d>u&&c+p>s&&u+g>d&&(h=l[i],o+=100),null!=f||null!=y||null!=h){var v=null,w=null,A=null;switch(o){case 100:v=m;break;case 101:v=m;case 1:w=m;break;case 110:case 10:A=m;break;case 111:v=m;case 11:w=m,A=m}return null==f&&(f=r94(e,t)),null==y&&(y=r94(r,n)),null==h&&(h=r94(s,d)),null!=f&&(w=r121(f)),null!=y&&(A=r121(y)),null!=h&&(v=r121(h)),{p1:f,p2:y,p3:h,ep1:w,ep2:A,ep3:v}}return{p1:f,p2:y,p3:h,ep:m}}function r20(e,t,r,n){var i=180*Math.atan((r-n)/(e-t))/Math.PI;return 25>i&&i>-25?0:i>65||-65>i?90:i>0?45:-45}function r22(e,t,r,n){var i=e-t,l=r-n;return Math.sqrt(i*i+l*l)}function r127(e,t){var r=(e.y2-e.y1)/(e.x2-e.x1),n=(t.y2-t.y1)/(t.x2-t.x1),i=e.y1-r.line1.x1,l=t.y1-n.line2.x1,a=(i-l)/(n-r),o=r(i-l)/(n-r)+i;return{x:a,y:o}}function r23(){path.sort(function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1]>t[1]?1:e[1]<t[1]?-1:0});var e=0,t=path[0][0],r=0,n=path[0][1],l=path[0][1],a=0,o=0;for(i=0;counter>i;i++){var s=path[i][0];if(s==t)l=path[i][1],o>a&&(a=o);else{o=0;var d=s-t,c=bottomy-topy;if(d>1)for(var u=1;d>u;u++)e+=r;var p=l-n;0==p?p=c:r=p,e+=p,t=s,n=path[i][1],l=n}o++}var p=l-n;0==p&&(p=c),e+=p,i=1;var g=(rightx-leftx+(bottomy-topy))/4;Math.PI*g*g}function init(){document.expando=!0,Adler.DBView=!1,window.location.pathname.indexOf("flow")>-1?Adler.pageView=!1:window.location.pathname.indexOf("DB")>-1?(Adler.pageView=!1,Adler.DBView=!0):Adler.pageView=!0,Adler.layout=sessionStorage["adler-layout"],toolTip=document.getElementById("toolTip"),Adler.decisionDiv=document.getElementById("decision"),Adler.ghost=document.getElementById("ghostImage"),Adler.canvas=document.getElementById("canvas");var e=r16();Adler.dimension.width=e.winWidth,Adler.dimension.height=e.winHeight,document.body.style,Adler.canvas.height=e.winHeight+15,Adler.canvas.width=e.winWidth+15;var t,r;t=new ObjStyle({left:0,top:0,position:"absolute",styleType:"Location"});var n=new AdlerStyleCollection({adlerObject:t});r=new ObjStyle({width:e.winWidth,height:e.winHeight,z_index:1,styleType:"Shape"}),n.addItem(r);var i={id:"body1",draggable:!1,"data-role":"page"};Adler.canvasView=new DivViewModel({type:"div",objStyleCollection:n,adlerType:"endObject",parent:null,moveable:!1,r66:i}),Adler.canvasView.r80(),Adler.dirty=!1,Adler.canvasView.absoluteLeft=0,Adler.canvasView.absoluteTop=0,Adler.canvasView.ns=1;var l=document.getElementById("drawArea");l.appendChild(Adler.canvasView.actualObj),Adler.drawBoundary=l.getBoundingClientRect(),new ObjStyle({left:0,top:0,width:Adler.canvas.width,height:Adler.canvas.height,border:"0px,visibility:hidden"}),Adler.canvas.adlerId=Adler.canvasView.getId();var a=document.getElementById("canvasImage");Adler.flowCtx=a.getContext("2d"),Adler.flowCtx.strokeStyle="#000000",Adler.flowCtx.lineWidth=2,Adler.flowCtx.font="bold 12px sans-serif",Adler.canvas.getContext&&(ctx=Adler.canvas.getContext("2d")),ctx.strokeStyle="#0000FF",ctx.lineWidth=Adler.strokeWidth;var o=navigator.userAgent;touchEnabled=o.indexOf("iPad")>0?!0:o.indexOf("Android 4")>0?!0:!1;for(var s=document.cookie,d=s.split(";"),c="",u=d.length-1;u>-1;u--){var p=d[u].split("=");" id"===p[0]?Adler.userId=p[1]:" user"===p[0]?c=p[1]:"id"===p[0]?Adler.userId=p[1]:"user"===p[0]&&(c=p[1])}if(!c||Adler.id||Adler.proxy){var g=sessionStorage["adler-sid"];if(!g)return alert("Please login"),void 0;d=g.split("@"),c=d[0],Adler.userId=d[2]}var m=function(e){var t=getFlow(Adler.flow.flowName);t?(Adler.flow=t[0],Adler.pageView||(delete Adler.flow._id,Adler.flow[Adler.layout]&&Adler.flow[Adler.layout].pageTemplate&&(sessionStorage["adler-"+Adler.flow.flowName+"-pageTemplate"]=Adler.flow[Adler.layout].pageTemplate)),Adler.flow.version=Adler.version,sessionStorage["adler-flowDetail"]=JSON.stringify(Adler.flow)):e&&e.flowName===Adler.flow.flowName&&(Adler.flow=e,Adler.dirty=Adler.flow.dirty,Adler.j6())};localStorage["Adler-User"]=c,localStorage["Adler-UserId"]=Adler.userId,Adler.flow={flowName:"",dirty:!1},Adler.flow.flowName=sessionStorage["adler-flowName"];var f=sessionStorage["adler-flowDetail"];if(f?(f=JSON.parse(f),f.flowName===Adler.flow.flowName&&f.version===Adler.version?Adler.flow=f:m(f)):m(),Adler.pageView){var y=function(){var e=getPage(Adler.page.pageName,"page");e?(Adler.page=e,delete Adler.page._id):Adler.page={pageName:Adler.page.pageName,flowId:Adler.flow.flowId,pageId:"",userId:Adler.userId,type:"page",template:"",layout:Adler.layout,manifest:{},size:r16()},Adler.page.version=Adler.version,sessionStorage["adler-pageDetail"]=JSON.stringify(Adler.page)},h=sessionStorage["adler-pageName"];Adler.page?Adler.page.pageName=h:Adler.page={pageName:h};var v=sessionStorage["adler-pageDetail"];v&&"null"!==v?(v=JSON.parse(v),v.pageName===Adler.page.pageName&&v.version===Adler.version?Adler.page=v:y()):y()}try{touchEnabled?(addEventListener("touchstart",r242,!1),addEventListener("touchmove",r242,!1),addEventListener("touchend",r242,!1)):(document.onmousedown=function(e){return r90(e)},document.onmousemove=function(e){r87(e)},document.onmouseup=function(e){r91(e)}),document.addEventListener("dragenter",r72,!1),document.addEventListener("dragover",r73,!1),document.addEventListener("drop",r88,!1),document.onpaste=function(){},Adler.pageView?addPageMenuEvents():Adler.DBView?addDBMenuEvents():addFlowMenuEvents()}catch(w){console.log(w)}setTimeout(Adler.j6,18e4)}function addPageMenuEvents(){Adler.widgetChoiceArray=[{widgetType:"dataTable",examplePage:"/Customization/dataTable.html"},{widgetType:"dataEntry",examplePage:"/Customization/dataEntry.html"},{widgetType:"custTab",examplePage:"/Customization/custTab.html"},{widgetType:"text",examplePage:"/Customization/text.html"},{widgetType:"map",examplePage:"/Customization/map.html"},{widgetType:"imageSlider",examplePage:"/Customization/imageSlider.html"},{widgetType:"charts",examplePage:"/Customization/charts.html"},{widgetType:"menu",examplePage:"/Customization/menu.html"},{widgetType:"button",examplePage:"/Customization/button.html"}],Adler.editor.blinkCursor=document.getElementById("blinkCursor"),garbage=document.getElementById("garbage"),Adler.selectDiv1=document.getElementById("selectObject1"),Adler.selectDiv2=document.getElementById("selectObject2"),Adler.increaseHeight=document.getElementById("increaseHeight"),Adler.increaseWidth=document.getElementById("increaseWidth"),Adler.move=document.getElementById("move"),Adler.roundedCorner=document.getElementById("roundedCorner"),Adler.interactiveMenu=document.getElementById("interactiveMenu");var e=Adler.interactiveMenu.getElementsByTagName("a");e[0].onclick=function(){var e=Adler.interactiveMenu.view;Adler.interactiveMenu.view=null,Adler.interactiveMenu.style.display="none",AdlerBaseExt.r202(e)},e[1].onclick=function(){var e=Adler.interactiveMenu.view;Adler.interactiveMenu.view=null,Adler.interactiveMenu.style.display="none",AdlerBaseExt.customize(e)},e[2].onclick=function(){var e=Adler.interactiveMenu.view;Adler.interactiveMenu.view=null,Adler.interactiveMenu.style.display="none",AdlerBaseExt.deleteElement(e)},document.getElementById("closeWidget").onclick=function(){var e=event.target,t=e.parentElement;t.style.display="none"};var t={targetView:null,dragged:!1,r90:function(){this.targetView=viewInFocus,this.dragged=!1,elementInFocus.style.border="2px solid black";var e=adlerEvent.currentPos;if(elementInFocus.style.cursor="e-resize",targetView===Adler.increaseWidth)this.targetView.ops=1,elementInFocusPoints.w=this.targetView.r146();else if(targetView===Adler.increaseHeight)this.targetView.ops=2,elementInFocusPoints.h=this.targetView.getHeight();else if(targetView===Adler.move){var t=adlerEvent.beginPos;this.targetView.ops=6,elementInFocusPoints.left=this.targetView.getLeft(),elementInFocusPoints.top=this.targetView.getTop(),elementInFocusPoints.eoffx=t.x-elementInFocusPoints.left,elementInFocusPoints.eoffy=t.y-elementInFocusPoints.top}else targetView===Adler.roundedCorner&&(this.targetView.ops=3);return Adler.increaseWidth.style.visibility="hidden",Adler.increaseHeight.style.visibility="hidden",Adler.selectDiv1.style.visibility="hidden",Adler.selectDiv2.style.visibility="hidden",Adler.move.style.visibility="hidden",Adler.roundedCorner.style.visibility="hidden",Adler.canvas.style["z-index"]=1e3,AdlerBase.drawGrid(ctx,e)},r87:function(){return AdlerBaseExt.r176(adlerEvent,this.targetView),this.dragged=!0,!0},r91:function(){var e=this.targetView;return this.dragged||6!==this.targetView.ops?AdlerBaseExt.r177(adlerEvent,this.targetView):AdlerBaseExt.r39(!1,this.targetView),Adler.canvas.style["z-index"]=1,e.ops=0,clear.r36(),e.actualObj.style.border="",!0}};Adler.increaseWidth.config=t,Adler.increaseHeight.config=t,Adler.move.config=t,Adler.roundedCorner.config=t,flow.openPage(null,Adler.page.pageName)}function addDBMenuEvents(){GetDBDef(),Adler.dbMenu=document.getElementById("dbMenu"),Adler.move=document.getElementById("move");var e=function(){Adler.dbMenu.style.display="none"},t={view:null,beginPos:null,counter:0,dimension:null,r90:function(){this.counter=0,this.view=Adler.move.view,this.dimension=DB.map[AdlerStorage.sanitizeStoreName(this.view.name)].dimension,this.beginPos=adlerEvent.currentPos,elementInFocusPoints.eoffx=this.beginPos.x-this.view.getLeft(),elementInFocusPoints.eoffy=this.beginPos.y-this.view.getTop(),e()},r87:function(){this.counter++;var e=adlerEvent.currentPos,t=e.x-elementInFocusPoints.eoffx,r=e.y-elementInFocusPoints.eoffy;this.view.setLeft(t),this.view.setTop(r),Adler.move.style.left=t-35+"px",Adler.move.style.top=r-35+"px",this.dimension.left=t,this.dimension.top=r,DB.reDraw()},r91:function(){this.view=null,e(),Adler.move.style.visibility="hidden",DB.updateDimension()}};Adler.move.config=t;var r=Adler.dbMenu,n=r.getElementsByTagName("a");n[0].onclick=function(){sessionStorage["adler-storeName"]=AdlerStorage.sanitizeStoreName(Adler.dbMenu.view.name),Adler.decisionImplement({widgetType:"tableDef",examplePage:"/Customization/tableDef.html"},Adler.dbMenu.view),e(),Adler.move.style.visibility="hidden"},n[1].onclick=function(){sessionStorage["adler-storeName"]=AdlerStorage.sanitizeStoreName(Adler.dbMenu.view.name),Adler.decisionImplement({widgetType:"tableDef",examplePage:"/Customization/tableEditor.html"},Adler.dbMenu.view),e(),Adler.move.style.visibility="hidden"},n[2].onclick=function(){alert("coming soon"),e(),Adler.move.style.visibility="hidden"},n[3].onclick=function(){alert("coming soon"),e(),Adler.move.style.visibility="hidden"},n[4].onclick=function(){var t=Adler.dbMenu.view,r=t.name;if(t===Adler.canvasView)return r228("Click on a Box to delete"),void 0;var n=function(){Adler.dbMenu.view=null,Adler.move.style.visibility="hidden",Adler.move.view=null,DB.deleteDB("redrawDB",t)},i={title:"Please confirm deletion of "+r,choices:[{text:"Yes",callback:n},{text:"No",callback:function(){Adler.dbPen.onclick(),Adler.dbMenu.view=null,Adler.move.style.visibility="hidden",Adler.move.view=null}}]};confirmAction(i),e()};var i=document.getElementById("decisionButton");i.onclick=function(){var e=Adler.decisionDiv;e.style.display="none",e.style.visibility="hidden";var t=e.style.left;t=parseInt(t.substring(0,t.length-2));var r=e.style.top;r=parseInt(r.substring(0,r.length-2));var n=Adler.flowCtx;if("screenName"===e.type){var i=document.getElementById("decisionName"),l=i.value,a=document.getElementById("decisionDescription"),o=a.value;a.value="";var s=e.view;DB.addNewDB(s.r120(),n,s,l,o),i.value="";var d=document.getElementById("decisionScreen");d.style.display="none",d.style.visibility="hidden",e.view2&&(DB.connectPages(e.view1,e.view2),e.view1=null,e.view2=null),sessionStorage["adler-storeName"]=AdlerStorage.sanitizeStoreName(e.view.name),Adler.decisionImplement({widgetType:"tableDef",examplePage:"/Customization/tableDef.html"},e.view),e.view=null}else{return Adler.decisionImplement(),void 0;var l}e.line=null},document.getElementById("decisionCancel").onclick=function(){var e=Adler.decisionDiv;e.style.display="none",e.style.visibility="hidden";var t=e.view;t.r62()};var l=document.getElementById("penDBBox");l.style.display="block",l.style.visibility="visible",Adler.pen=document.getElementById("dbPenCursor"),defineDBPens(),Adler.dbPen.onclick(),DB.drawDB()}function addFlowMenuEvents(){Adler.flowMenu=document.getElementById("flowMenu"),Adler.move=document.getElementById("move");var e=function(){Adler.flowMenu.style.display="none"},t={view:null,beginPos:null,page:null,counter:0,r90:function(){this.counter=0,this.view=Adler.move.view,this.beginPos=adlerEvent.currentPos,elementInFocusPoints.eoffx=this.beginPos.x-this.view.getLeft(),elementInFocusPoints.eoffy=this.beginPos.y-this.view.getTop(),e(),this.page=flow.findPage(this.view.name)},r87:function(){this.counter++;var e=adlerEvent.currentPos,t=e.x-elementInFocusPoints.eoffx,r=e.y-elementInFocusPoints.eoffy;this.view.setLeft(t),this.view.setTop(r),Adler.move.style.left=t-35+"px",Adler.move.style.top=r-35+"px",this.page.dimension.left=t,this.page.dimension.top=r,flow.redraw()},r91:function(){this.view=null,e(),Adler.move.style.visibility="hidden",Adler.dirty=!0,Adler.flow.dirty=!0}};Adler.move.config=t;var r=Adler.flowMenu,n=r.getElementsByTagName("a");n[0].onclick=function(){if(sessionStorage["adler-layout"]=Adler.layout,"Desktop"!=Adler.layout){var e=Adler.flow[Adler.layout].permissions;e||(e={INTERNET:!0},Adler.flow[Adler.layout].permissions=e);var t=localStorage["adler-permissions"];if(t)if(t=JSON.parse(t),t.flowName!=Adler.flow.flowName)t={flowName:Adler.flow.flowName,dirty:!0,details:e};else{var r=!1,n=Adler.flow[Adler.layout].permissions;for(var i in t.details)n[i]||(n[i]=!0,r=!0);t.details=n,t.dirty=r}else t={flowName:Adler.flow.flowName,dirty:!0,details:e};Adler.dirty=t.dirty,Adler.flow.dirty=t.dirty,localStorage["adler-permissions"]=JSON.stringify(t)}Adler.j6(),sessionStorage["adler-pageName"]=Adler.flowMenu.view.name;var l=Adler.flowMenu.view.name,a=flow.findPage(l),o="";if(a.type&&"custom"===a.type){var s=a.path;s=s?"/"+s+"/":"/";var d=a.extension;d||(d=".html"),-1===d.indexOf(".")&&(d="."+d),o="/CustomPage/"+Adler.flow.flowName+"/"+Adler.layout+s+l+d}else window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host),o=window.location.pathname,o=o.toLowerCase().replace("flow.html",Adler.layout+".HTML");window.location=window.location.origin+o},n[1].onclick=function(){Adler.j6(),sessionStorage["adler-pageName"]=Adler.flowMenu.view.name;var t=Adler.flowMenu.view.name,r=flow.findPage(t),n="",i=r.path;i=i?"/"+i+"/":"/";var l=r.extension;l||(l=".html"),-1===l.indexOf(".")&&(l="."+l),n=Adler.flow.flowName+"/"+Adler.layout+i+t+l;var a=jsonGet("/AdlerGen/"+n,!1);if(localStorage["Adler-Editor-"+n]=a,l.indexOf("htm")>-1){var o=Adler.flow.flowName+"/"+Adler.layout+i+"/js/"+t+"_action.js";a=jsonGet("/AdlerGen/"+o,!1),"error"===a||(localStorage["Adler-Editor-"+n+"-idObjects"]=a)}var s=localStorage["Adler-Editor-FileList"];s=s?JSON.parse(s):[];for(var d=!1,c=s.length-1;c>-1;c--){var u=s[c];if(u===n){d=!0;break}}d||(s.push(n),localStorage["Adler-Editor-FileList"]=JSON.stringify(s));var p={fileName:n,savedFromAdler:!0,lastSaved:"",dirty:!0};localStorage["Adler-Editor-currentFile"]=JSON.stringify(p),e();var g=window.location.origin+"/Customization/Editor.html";window.open(g)},n[4].onclick=function(){var t=Adler.flowMenu.view,r=t.name;if(t===Adler.canvasView)return r228("Click on a Box to delete"),void 0;var n=function(){Adler.flowMenu.view=null,Adler.move.style.visibility="hidden",Adler.move.view=null,flow.deletePage("redrawFlow",t)},i={title:"Please confirm deletion of "+r,choices:[{text:"Yes",callback:n},{text:"No",callback:function(){Adler.flowPen.onclick(),Adler.flowMenu.view=null,Adler.move.style.visibility="hidden",Adler.move.view=null}}]};confirmAction(i),e()},n[2].onclick=function(){Adler.copyPage=Adler.flowMenu.view.name,document.getElementById("flowPaste"),r228('page "'+Adler.copyPage+'" copied to buffer'),e(),Adler.move.style.visibility="hidden"},n[3].onclick=function(){var t=Adler.flowMenu.view.name,r=flow.findPage(t);if(r.type&&"custom"===r.type)var n=jsonGet("/copyCustomPage/"+localStorage["Adler-User"]+"/"+Adler.layout+"/"+Adler.flow.flowName+"/"+Adler.copyPage+"."+r.extension+"/"+t+"."+r.extension,!1);else{var n=jsonGet("/copyPage/"+Adler.userId+"/"+Adler.layout+"/"+Adler.flow.flowName+"/"+Adler.copyPage+"/"+t,!1);if(n=JSON.parse(n),-1===n.rc)return r228(n.message),void 0}r228('page "'+Adler.copyPage+'" copied to '+t),e(),Adler.move.style.visibility="hidden"};var i=document.getElementById("decisionButton");i.onclick=function(){var e=Adler.decisionDiv;e.style.display="none",e.style.visibility="hidden";var t=e.style.left;t=parseInt(t.substring(0,t.length-2));var r=e.style.top;r=parseInt(r.substring(0,r.length-2));var n=Adler.flowCtx;if("screenName"===e.type){var i=document.getElementById("decisionName"),l=i.value,a=document.getElementById("decisionDescription"),o=a.value;a.value="";var s=e.view;flow.addNewPage(s.r120(),n,s,l,o),i.value="";var d=document.getElementById("decisionScreen");d.style.display="none",d.style.visibility="hidden",e.view2&&(flow.connectPages(e.view1,e.view2),e.view1=null,e.view2=null),e.view=null}else{return Adler.decisionImplement(),void 0;var l}e.line=null},document.getElementById("decisionCancel").onclick=function(){var e=Adler.decisionDiv;e.style.display="none",e.style.visibility="hidden";var t=e.view;t.r62(),Adler.dirty=!1,Adler.flow.dirty=!1};var l=document.getElementById("PhoneLayout");l.onclick=function(){document.getElementById(Adler.layout+"Layout").setAttribute("class","boxUnSelected"),Adler.layout="Phone",Adler.storage.empty(),flow.drawFlow(),l.setAttribute("class","boxSelected")};var a=document.getElementById("TabletLayout");a.onclick=function(){r228("under construction")};var o=document.getElementById("DesktopLayout");o.onclick=function(){document.getElementById(Adler.layout+"Layout").setAttribute("class","boxUnSelected"),Adler.layout="Desktop",Adler.storage.empty(),flow.drawFlow(),o.setAttribute("class","boxSelected")};var s=document.getElementById("penFlowBox");s.style.display="block",s.style.visibility="visible",Adler.pen=document.getElementById("flowPenCursor"),defineFlowPens(),Adler.flowPen.onclick(),Adler.defaultPen=Adler.flowPen,Adler.activeMenus.push(document.getElementById("penFlowBox")),Adler.activeMenus.push(document.getElementById("nextPage")),"Phone"===Adler.layout?(o.setAttribute("class","boxUnSelected"),l.setAttribute("class","boxSelected")):"Tablet"===Adler.layout&&(o.setAttribute("class","boxUnSelected"),a.setAttribute("class","boxSelected")),flow.drawFlow()}function r151(e){document.getElementById("searchRemove").style.visibility=e;var t=document.getElementById("commonMenu"),r=document.getElementById("genericMenu"),n=document.getElementById("searchDiv");n.style.visibility=e;var i=e;i="visible"==i?"hidden":"visible",r152(t,e),r152(r,i)}function r152(e,t){if(null!=e&&(e.style.visibility=t,e.style.display="visible"===t?"block":"none",e.hasChildNodes()))for(var r=e.firstChild;r;)1===r.nodeType&&(r.style.visibility=t),r=r.nextSibling}function defineFlowPens(){Adler.flowPen=document.getElementById("flowPen"),Adler.flowPen.color="blue",Adler.flowPen.image="adlericons/component",Adler.flowPen.cursor=document.getElementById("flowPenCursor"),Adler.flowPen.onclick=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.flowPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",r228("Flow Pen selected")},Adler.flowPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Flow Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.flowPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.eraserPen=document.getElementById("eraserPen"),Adler.eraserPen.color="olive",Adler.eraserPen.cursor=document.getElementById("eraserPenCursor"),Adler.eraserPen.r90=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.eraserPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",r228("Erase Pen selected")},Adler.eraserPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Erase Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.eraserPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.pen=Adler.flowPen,document.getElementById("saveFlow").onclick=function(){Adler.j6(),r228("Flow "+Adler.flow.flowName+" Saved")},document.getElementById("generateButton").onclick=function(){Adler.generateButton("flow")},document.getElementById("dataStore").onclick=function(){var e=window.location.pathname.split("/");e[e.length-1]="DB.HTML",window.location=e.join("/")},document.getElementById("artifacts").onclick=function(){var e=document.getElementById("dirList"),t=document.getElementById("dirMenu");e.style.display="block";var r=e.lastElementChild,n=jsonGet("/dirList//"+Adler.layout+"/"+Adler.flow.flowName,!1),i="",l=JSON.parse(n);i+=dirListJSON(l.name,l.children),r.innerHTML=i,r.appendChild(t)}}function showDirMenu(){cancelBubble(event);var e=document.getElementById("dirMenu"),t=event.target,r=t.firstChild;t.insertBefore(e,r),t.style.background="antiquewhite",e.style.display="block"}function dirListJSON(e,t,r){for(var n="<li onclick='showDirMenu()' data-path='"+r+e+"'>"+e+"<ul>",i=t.length,l=0;i>l;l++){var a=t[l];n+=a.children?dirListJSON(a.name,a.children,a.path):"<li onclick='showDirMenu()' data-path='"+r+e+"/"+a.name+"'>"+a.name+"</li>"}return n+"</ul></li>"}function artifactDownload(){cancelBubble(event);var e=event.target,t=e.parentElement.parentElement.getAttribute("data-path");window.location.assign("/Download"+t)}function artifactUpload(){var e=event.target,t=e.parentElement.parentElement.getAttribute("data-path"),r=document.getElementById("dropCircle");r.style.display="block",r.path=t}function artifactHistory(){cancelBubble(event);var e=event.target,t=e.parentElement.parentElement.getAttribute("data-path"),r={filePath:t};jsonString=JSON.stringify(r);var n=n3("diff",jsonString,"/listHistory/1",!1),i=document.getElementById("history"),l=document.getElementById("historyList");l.innerHTML="",i.style.display="block";var a="<div class=\"adlerBase\" style='width:100%;text-align:center;border-bottom:1px solid silver'><h2>History for "+t+"</h2></div>",o=n,s=o.history.length;if(0===s)a+="<div  class=\"adlerBase\" style='width:100%;text-align:center;margin:10px'> No Changes So far</div>";else for(var d=0;s>d;d++){var c=o.history[d];a+="<div  class=\"adlerBase\" style='width:100%;text-align:center;margin:10px;position:relative;' onclick='artifactRestoreMenu(\""+t+'","'+c+"\")'>"+c+"</div>",s-1>d&&(a+="<hr/>")}l.innerHTML=a}function artifactRestoreMenu(e,t){var r=event.target;if(r==event.currentTarget){r.style.background="rgb(250, 235, 215)";var n=document.getElementById("historyMenu");if(!n){var i=document.createElement("div");i.setAttribute("class","treeDirMenu adlerBase"),i.setAttribute("id","historyMenu"),i.setAttribute("style","left:0px;"),i.innerHTML="<div class='adlerBase' style='border-bottom:1px solid silver' onclick='artifactRestore(1)'>Download</div><div onclick='artifactRestore(2)' class='adlerBase' style='border-bottom:1px solid silver'>Show Last Changes</div><div class='adlerBase' onclick='artifactRestore(3)'>Restore</div>",n=i}r.appendChild(n),n.path=e,n.version=t}}function artifactRestore(e){event.target;var t=document.getElementById("historyMenu"),r=t.path,n=t.version;if(1===e&&(r=encodeURI(r+"/"+n+"/View"),window.location.assign("mergeDiff"+r)),2===e)r=encodeURI(r+"/"+n+"/PrevDiff"),window.location.assign("mergeDiff"+r);else if(3===e){var i={filePath:r,version:n,action:"Restore"};jsonString=JSON.stringify(i),n3("diff",jsonString,"/restore/1",!1);var l=document.getElementById("history"),a=document.getElementById("historyList");a.innerHTML="",l.style.display="none",r228("restored as of "+n)}}function defineDBPens(){Adler.dbPen=document.getElementById("dbPen"),Adler.dbPen.color="blue",Adler.dbPen.image="adlericons/component",Adler.dbPen.cursor=document.getElementById("dbPenCursor"),Adler.dbPen.onclick=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.dbPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",r228("DB Pen selected")},Adler.dbPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="DB Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.dbPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.eraserPen=document.getElementById("eraserPen"),Adler.eraserPen.color="olive",Adler.eraserPen.cursor=document.getElementById("eraserPenCursor"),Adler.eraserPen.r90=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.eraserPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",r228("Erase Pen selected")
},Adler.eraserPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Erase Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.eraserPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.pen=Adler.dbPen,document.getElementById("saveButton").onclick=function(){SaveDBDef()},document.getElementById("generateButton").onclick=function(){DB.generateDDL()},document.getElementById("configButton").onclick=function(){DB.config()};var e=localStorage["Adler-dbconfig"];if(!e){var e={};e.schema=localStorage["Adler-User"]+"db",e.dbUrl="http://www.dishatrends.com/dt/php/dm.php",e.syncUrl="ac=1",e.pingUrl="ac=2",e.queryUrl="ac=4",localStorage["Adler-dbconfig"]=JSON.stringify(e)}}function defineInteractivePens(){Adler.componentPen=document.getElementById("componentPen"),Adler.componentPen.color="blue",Adler.componentPen.image="adlericons/component",Adler.componentPen.cursor=document.getElementById("componentPenCursor"),Adler.componentPen.onclick=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.componentPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",Adler.objectType="DIV",r228("Component Pen selected")},Adler.componentPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Component Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.componentPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.textPen=document.getElementById("textPen"),Adler.componentPen.color="blue",Adler.textPen.image="adlericons/textPen",Adler.textPen.cursor=document.getElementById("textPenCursor"),Adler.textPen.onclick=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.textPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",Adler.objectType="SPAN",r228("Text Pen selected")},Adler.textPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Text Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.textPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.flowPen=document.getElementById("flowPen1"),Adler.componentPen.color="gray",Adler.flowPen.image="adlericons/FlowChart",Adler.flowPen.cursor=document.getElementById("flowPenCursor"),Adler.flowPen.onclick=function(){if(Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.flowPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.parentElement.setAttribute("class","boxSelected"),Adler.pen.cursor.style.visibility="visible",Adler.pageView=!1,Adler.dirty)Adler.j6(),r228("Please wait for save"),setTimeout(function(){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var e=window.location.pathname;e=e.replace(Adler.layout+".HTML","flow.HTML"),window.location=window.location.origin+e},1e3);else{window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var e=window.location.pathname;e=e.replace(Adler.layout+".HTML","flow.HTML"),window.location=window.location.origin+e}},Adler.flowPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Flow Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.flowPen.cleanUp=function(){Adler.pen.parentElement.setAttribute("class","boxUnSelected")},Adler.pen=Adler.componentPen,document.getElementById("saveFlow1").onclick=function(){Adler.j6(),r228("Page "+Adler.page.pageName+" Saved")},document.getElementById("generate1").onclick=function(){Adler.generateButton("page")}}function definePens(){Adler.drawPen=document.getElementById("drawPen"),Adler.drawPen.color="blue",Adler.drawPen.image="adlericons/pencil",Adler.drawPen.cursor=document.getElementById("drawPenCursor"),Adler.drawPen.onclick=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.drawPen,ctx.strokeStyle=Adler.pen.color,Adler.pen.setAttribute("src",Adler.drawPen.image+"2.png"),Adler.pen.cursor.style.visibility="visible",r228("Draw Pen selected")},Adler.drawPen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Draw Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.drawPen.cleanUp=function(){Adler.pen.setAttribute("src",Adler.drawPen.image+"1.png")},Adler.pen=Adler.drawPen,Adler.movePen={},Adler.movePen.onclick=function(){},Adler.animatePen=document.getElementById("animatePen"),Adler.animatePen.color="orange",Adler.animatePen.image="adlericons/bird",Adler.animatePen.cursor=document.getElementById("animatePenCursor"),Adler.animatePen.onclick=function(){Adler.mode=2,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.animatePen,ctx.strokeStyle=Adler.pen.color,Adler.pen.setAttribute("src",Adler.animatePen.image+"2.png"),Adler.pen.cursor.style.visibility="visible",r228("Animate Pen selected")},Adler.animatePen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Animate Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.animatePen.cleanUp=function(){Adler.pen.setAttribute("src",Adler.animatePen.image+"1.png")},Adler.knifePen=document.getElementById("knifePen"),Adler.knifePen.color="red",Adler.knifePen.image="adlericons/knife",Adler.knifePen.cursor=document.getElementById("knifePenCursor"),Adler.knifePen.onclick=function(){Adler.mode=0,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.knifePen,ctx.strokeStyle=Adler.pen.color,Adler.pen.setAttribute("src",Adler.knifePen.image+"2.png"),Adler.pen.cursor.style.visibility="visible",r228("Split Pen selected")},Adler.knifePen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Split Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.knifePen.cleanUp=function(){Adler.pen.setAttribute("src",Adler.knifePen.image+"1.png")},Adler.carvePen=document.getElementById("carvePen"),Adler.carvePen.color="orange",Adler.carvePen.image="adlericons/chisel",Adler.carvePen.cursor=document.getElementById("carvePenCursor"),Adler.carvePen.onclick=function(){Adler.mode=9,Adler.pen.cursor.style.visibility="hidden",Adler.pen.cleanUp&&Adler.pen.cleanUp(),Adler.pen=Adler.carvePen,ctx.strokeStyle=Adler.pen.color,Adler.pen.setAttribute("src",Adler.carvePen.image+"2.png"),Adler.pen.cursor.style.visibility="visible";var e=document.getElementById("canvasImage");e.style.opacity="0.6",custom.gallery.image.r78s(),r228("Image Pen selected")},Adler.carvePen.onmouseover=function(){var e=document.getElementById("toolTip1");e.innerHTML="Image Pen",e.style.zIndex="50",e.style.visibility="visible";var t=r97(event,Adler.canvas);e.style.left=t.x+"px",e.style.top=t.y-45+"px",e.style.opacity="1.0",setTimeout(function(){e.style.visibility="hidden",e.style.opacity="0",e.style.zIndex="0"},1e3)},Adler.carvePen.cleanUp=function(){var e=document.getElementById("canvasImage");e.style.opacity="0.4",clear.r36(),Adler.pen.setAttribute("src",Adler.carvePen.image+"1.png")}}function populateUserId(e){var t=e.split("@");Adler.userId=t[2]}function defineReqTable(){null==reqDef&&(reqDef={table:"ADR_BRD",columns:["reqId","userId","email","projectName","data"],primaryKey:"reqId"},reqData=new DBClass(reqDef))}function defineStatTable(){null==statDef&&(statDef={table:"ADR_STAT",columns:["statId","pageUrl","userId","usageCount","prevUsageCount"],primaryKey:"statId"},statData=new DBClass(statDef))}function defineUserPref(){null==userPrefDef&&(userPrefDef={table:"ADR_USER_PREF",columns:["userId","manifestName","manifestData"],primaryKey:"userId"},userPrefData=new DBClass(userPrefDef))}function getUserPref(e,t){defineUserPref();var r,n={userId:Adler.userId,manifestName:null};return e||(n.manifestData=null),t&&(n.manifestName=t),r=userPrefData.find(n,!0),r?r:null}function defineWidgetTable(){null==widgetDef&&(widgetDef={table:"ADR_WIDGET",columns:["widgetId","wcatId","widgetName","userId","examplePage","description"],primaryKey:"widgetId"},widgetData=new DBClass(widgetDef))}function defineFlowTable(){null==flowDef&&(flowDef={table:"ADR_FLOW",columns:["flowId","userId","flowName","Desktop","Tablet","Phone","jsObject"],primaryKey:"flowId"},flowData=new DBClass(flowDef))}function definePageTable(){null==pageDef&&(pageDef={table:"ADR_PAGE",columns:["pageId","flowId","userId","size","pageName","layout","type","template","nextPages","manifest","widgets"],primaryKey:"pageId"},pageData=new DBClass(pageDef))}function definePageArtifactTable(){null==pageDocDef&&(pageDocDef={table:"ADR_PAGE_DOC",columns:["docId","pageId","documentType","userId","data"],primaryKey:"docId"},pageDocData=new DBClass(pageDocDef))}function defineImageTable(){null==imageAdrDef&&(imageAdrDef={table:"ADR_IMAGE",columns:["imageId","userId","imageName","imageData"],primaryKey:"imageId"},imageAdrData=new DBClass(imageAdrDef))}function defineDBDefTable(){null==DBDef&&(DBDef={table:"ADR_DBDEF",columns:["dbId","defData"],primaryKey:"dbId"},DBData=new DBClass(DBDef))}function getStat(e){var t=null;e&&(t=e),defineStatTable();var r={statId:null,pageUrl:t,userId:Adler.userId,usageCount:null,prevUsageCount:null},n=statData.find(r,!0);return n?n:null}function getWidgetDetails(e,t){defineWidgetTable();var r;if(t)r=widgetData.find(t,!0);else var n={widgetId:e,widgetName:null,userId:Adler.userId,examplePage:null,description:null,wcatId:null},r=widgetData.find(n,!0);return r?r:null}function getFlow(e){defineFlowTable();var t={userId:Adler.userId,flowName:null,flowId:null,Desktop:null,Tablet:null,Phone:null,jsObject:null};return e&&(t.flowName=e),fData=flowData.find(t,!0),fData?fData:null}function getPage(e,t,r){var n;if(definePageTable(),r)n=pageData.find(r,!0);else{var i=null;Adler.flow&&Adler.flow.flowId&&(i=Adler.flow.flowId);var l={userId:Adler.userId,flowId:i,pageName:null,size:null,type:null,pageId:null,layout:Adler.layout,pageTemplate:null,nextPages:null,manifest:null,widgets:null};e&&(l.pageName=e),t&&(l.type=t),n=pageData.find(l,!0)}return n?e?n[0]:n:null}function getPageArtifact(e,t,r){definePageArtifactTable();var n;return n=r?pageDocData.find({userId:Adler.userId,pageId:e,documentType:t,docId:null},!0):pageDocData.find({userId:Adler.userId,pageId:e,documentType:t,docId:null,data:null},!0),n?n[0]:null}function getImage(e,t){defineImageTable();var r={userId:Adler.userId,imageName:e};t||(r.imageData=null);var n=imageAdrData.find(r,!0);return n?n[0]:null}function deletePage(e){definePageTable(),e.userId=Adler.userId+"";var t=e.pageId;pageData.delete(e,!0,"delete");var r=!0,n={pageId:t,documentType:"html",docId:""};n=getPageArtifact(t,"html",r),n.docId&&pageDocData.delete(n,!0,"delete"),n=getPageArtifact(t,"css",r),n.docId&&pageDocData.delete(n,!0,"delete"),n=getPageArtifact(t,"workflow",r),n.docId&&pageDocData.delete(n,!0,"delete")}function deleteFlow(e){var t=getFlow(e);if(t){var r=t[0],n=function(e){var t=e.pages;if(t)for(var n=t.length-1;n>-1;n--){var i=t[n],l={userId:Adler.userId,flowId:r.flowId,pageName:i.pageName};if(l=getPage("","page",l))for(var a=l.length-1;a>-1;a--)deletePage(l[a])}};r.Desktop&&n(r.Desktop),r.Phone&&n(r.Phone),r.Tablet&&n(r.Tablet),r.pages&&n(r),flowData.delete({flowId:r.flowId},!0,"delete")}sessionStorage["adler-flowDetail"]='{"flowName":""}',sessionStorage["adler-pageDetail"]='{"pageName":""}'}function insertStat(e){defineStatTable(),e.userId=Adler.userId,statData.push(e)}function insertFlow(e){var t=document.getElementById("loading");if(t.style.visibility="visible",defineFlowTable(),e.userId=Adler.userId,!e.flowId){var r=getFlow(e.flowName);r&&(e.flowId=r[0].flowId)}flowData.push(e),t.style.visibility="hidden"}function insertPage(e){if(definePageTable(),e.userId=Adler.userId,Adler.flow&&Adler.flow.flowId&&(e.flowId=Adler.flow.flowId),"widget"===e.type){var t=sessionStorage.widgetDetails,r=JSON.parse(t);r.widgetId=e.pageId,insertWidget(r)}pageData.push(e)}function insertPageArtifacts(e){definePageArtifactTable(),e.userId=Adler.userId,pageDocData.push(e)}function insertImage(e){defineImageTable(),e.userId=Adler.userId,imageAdrData.push(e)}function insertWidget(e){defineWidgetTable(),e.userId="1",widgetData.push(e)}function insertReq(e){defineReqTable();var t={email:e.personalInfo.email,projectName:e.format.projectName,data:e};reqData.push(t)}function Authenticate(e,t){var r,n,r={table:"ADR_USER",columns:["userId","userLogin","firstName","lastName","userPassword","userLoginApprovalId","secondEmail","mobile","work","dob","gender","imageId","city","country","registrationStatus","startDate","endDate"],primaryKey:"userId"};n=new DBClass(r),e=e.toLowerCase(),PASSWORD_HASH=t;var i=n.find({userId:null,userLogin:e,userPassword:PASSWORD_HASH,firstName:null,lastName:null},!0,"login");return i?(USER_ID=i[0].userId,firstName=i[0].firstName,lastName=i[0].lastName,{code:0,msg:"login success"}):void 0}function SaveDBDef(e){defineDBDefTable();var t=localStorage["Adler-User"],r="";if(!e){r=localStorage.AdlerTables;try{e=JSON.parse(r)}catch(n){e=new Array}}for(var i=e.length-1;i>-1;i--){var l=e[i];0===l.storeName.indexOf(t+".")&&DBData.push({dbId:l.storeName,defData:JSON.stringify(l)})}var a=' function defineDBDef() { \r\n		AdlerStorage.setItem("Adler-User","'+t+'"); \r\n'+'       if (STATEDB) STATEDB.ADLER.user = "'+t+'"; // this indicates that def is defined \r\n'+"		var dbDef = "+r+";\r\n"+'		AdlerStorage.setItem("AdlerTables",JSON.stringify(dbDef));\r\n'+"		return;\r\n"+"  }\r\n",o={fileData:a,fileName:"DBDef.js",fileType:"text/javascript",folder:"/js/"};jsonString=JSON.stringify(o),n3("dbJS",jsonString,"/upload/DBDef_js",!1),r228("All Definitions saved ")}function GetDBDef(){defineDBDefTable();var e=localStorage["Adler-User"],t=localStorage.AdlerTables;try{t=JSON.parse(t)}catch(r){t=new Array}for(var n=t.length-1;n>-1;n--){var i=t[n];0!==i.storeName.indexOf(e+".")&&t.splice(n,1)}var l=function(t,r){if(-1!==t.storeName.indexOf(e+".")){for(var n=r.length-1;n>-1;n--){var i=r[n];if(i.storeName===t.storeName)return r[n]=t,void 0}r.push(t)}},a=DBData.find({dbId:null,defData:null},!0,"dataDef");if(a)for(var n=a.length-1;n>-1;n--){var o=a[n];o="object"==typeof o.defData?o.defData:JSON.parse(o.defData),o._id&&delete o._id,l(o,t)}var s=JSON.stringify(t);localStorage.AdlerTables=s}function DeleteDBDef(e){defineDBDefTable(),DBData.delete(e,!0,"delete")}function DBClass(e,t){this.dataArray=new Array,this.length=0,this.def=null,this.table="",this.init=function(e,t){if(this.def=e,this.table=e.table,t){var r=dbSyncAction;r.actionList[0].object=this.def.table,r.actionList[0].ops="S",r.actionList[0]=splitJSON(this.def.primaryKey,this.def.columns,r.actionList[0]),n3("fill",JSON.stringify(dbSyncAction),"/sync/"+e.table,!0)}},this.setPrimaryKey=function(e){var t=e[this.def.primaryKey];return null==t&&(t=(new Date).getTime()+Math.floor(1e4*Math.random()+1)),e[this.def.primaryKey]=t,e},this.getPrimaryKey=function(e){var t=this.get(e);return t?t[this.def.primaryKey]:null},this.getLength=function(){return this.dataArray.length},this.get=function(e){return this.dataArray[e]},this.find=function(e,t,r){if(t){var n=dbSyncAction;n.actionList[0].object=this.def.table,n.actionList[0].ops="S",n.actionList[0]=splitJSON(this.def.primaryKey,e,n.actionList[0],{});var i=r;i||(i="fill");var l=n3(i,JSON.stringify(dbSyncAction),"/sync/"+this.def.table,!1);if(l){var a=0;if(l.fieldValue&&(a=l.fieldValue.length),a>0){for(var o=new Array,s=l.fieldList.length,d=0;a>d;d++){for(var c={},u=0;s>u;u++){var p=l.fieldList[u],g=l.fieldValue[d][p];c[p]=g}o.push(c)}return o}return null}return null}return this.dataArray},this.pop=function(){var e=this.dataArray[this.dataArray.length-1];this.dataArray.pop(),this.length=this.length-1,this.length<0&&(this.length=0),modificationArray.push({keyName:this.def.primaryKey,primaryKey:e[this.def.primaryKey],record:e,ops:"D",table:this.def.table});var t={code:0,msg:"deleted"};return t},this.splice=function(e,t){var r=this.dataArray[e];this.dataArray.splice(e,t),this.length=this.length-1,this.length<0&&(this.length=0),modificationArray.push({keyName:this.def.primaryKey,primaryKey:r[this.def.primaryKey],record:r,ops:"D",table:this.def.table});var n={code:0,msg:"deleted"};return n},this.delete=function(t,r,n){var i=this.def.primaryKey;if(r){var l=dbSyncAction;t._id&&delete t._id,l.actionList[0].object=this.def.table,l.actionList[0].ops="D",l.actionList[0]=splitJSON(this.def.primaryKey,t,l.actionList[0],{});var a=n;a||(a="delete");var o=n3(a,JSON.stringify(dbSyncAction),"/sync/"+e.table,!1);if(o){var s=0;if(o.fieldValue&&(s=o.fieldValue.length),s>0){for(var d=new Array,c=o.fieldList.length,u=0;s>u;u++){for(var p={},g=0;c>g;g++){var m=o.fieldList[g],f=o.fieldValue[u][m];p[m]=f}d.push(p)}return d}return null}return null}for(var y=this.dataArray.length-1;y>-1;y--){var h=this.dataArray[y];if(h[i]===this.dataArray[i]){this.dataArray.splice(y,count),this.length=this.length-1,this.length<0&&(this.length=0),modificationArray.push({keyName:this.def.primaryKey,primaryKey:h[this.def.primaryKey],record:h,ops:"D",table:this.def.table});var v={code:0,msg:"deleted"};return v}}sync(!1)},this.push=function(e){return e=this.setPrimaryKey(e),this.dataArray.push(e),this.length=this.dataArray.length,modificationArray.push({keyName:this.def.primaryKey,primaryKey:e[this.def.primaryKey],record:e,ops:"I",table:this.def.table}),clearTimeout(ajaxTimer),ajaxTimer=setTimeout(function(){sync()},1e3),sync(!1),e},this.updateData=function(){return resultJson},this.init(e,t)}function syncCallBack(e,t){if("S"===t.ops)return t.fieldList.length>0,void 0;for(var r=modificationArray.length-1;r>-1;r--){mRecord=modificationArray[r];var n=mRecord.primaryKey+"";n===e&&modificationArray.splice(r,1)}}function n3(e,t,r,n){var i=window.location.pathname.split("/");r="/"+i[1]+r;var l=!0,a=null;n===!1&&(l=n);var o;window.XMLHttpRequest&&(o=new XMLHttpRequest),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=o.responseText,t=o.getResponseHeader("x-adler"),r=o.getResponseHeader("x-adler-sid");r&&(sessionStorage["adler-sid"]=r);var n=JSON.parse(e);l?syncCallBack(t,n):a=n}},window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var s=window.location.origin;Adler.proxy&&(s=Adler.proxy);var d=s+r;try{o.open("POST",d,l),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.setRequestHeader("x-adler",e+"");var c=sessionStorage["adler-sid"];c&&o.setRequestHeader("x-adler-sid",c),o.send(t)}catch(u){}return a}function jsonGet(e,t,r){var n=window.location.pathname.split("/"),i="";i=e.indexOf("AdlerGen")>-1?e:"/"+n[1]+e;var l=!0;t&&(l=t);var a=null;t===!1&&(l=t);var o;window.XMLHttpRequest&&(o=new XMLHttpRequest),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=o.responseText;o.getResponseHeader("x-adler"),a=e,r&&r.apply(null,[a])}},window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host),window.location.origin+i;try{o.open("GET",i,l),o.send(null),l||(a=o.responseText)}catch(s){console.log("error "+s)}return a}function sync(e){var t=!0;e&&(t=e);var r=0,n=modificationArray.length;if(n>r)for(var i=0;n>i;i++){var l=modificationArray[i];dbSyncAction.actionList[0].object=l.table,dbSyncAction.actionList[0].ops=l.ops,dbSyncAction.actionList[0]=splitJSON(l.keyName,l.record,dbSyncAction.actionList[0]),"S"!=l.ops&&dbSyncAction.actionList[0].sfilter&&delete dbSyncAction.actionList[0].sfilter,window.location.pathname.split("/"),n3(l.primaryKey,JSON.stringify(dbSyncAction),"/sync/"+l.table,t,null,"http://www.dishatrends.com")}ajaxTimer=setTimeout(function(){sync()},waitTime)}function splitJSON(e,t,r,n){var i=new Array,l=new Array,a=new Array;i.push(e);var o=t[e];o&&a.push(o);for(var s in t){var d=t[s];s!==e?d?(i.push(s),a.push(d),n&&(n[s]=d)):"S"===r.ops&&i.push(s):n&&d&&(n[s]=d)}return l.push(a),r.fieldList=i,r.fieldValue=l,n&&(r.sfilter=n),r}function csv2cells(e){for(var t=e.split("\r"),r=t.length,n=new Array,i=0;r>i;i++){n[i]=new Array;for(var l=t[i].split(","),a=l.length,o=0;a>o;o++)n[i].push(l[o])}return n}function r228(e){toolTip.innerHTML=e,toolTip.style.zIndex="2500",toolTip.style.visibility="visible",setTimeout('toolTip.style.opacity = "1.0";',50),setTimeout('toolTip.style.visibility = "hidden";toolTip.style.opacity = "0";toolTip.style.zIndex = "0"',1500)}function readCookie(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function findPosition(e){var t,r;return touchEnabled?(t=event.targetTouches[0].pageX,r=event.targetTouches[0].pageY,{x:t,y:r}):(e.pageX||e.pageY?(t=e.pageX,r=e.pageY):(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:r})}function md5cycle(e,t){var r=e[0],n=e[1],i=e[2],l=e[3];r=ff(r,n,i,l,t[0],7,-680876936),l=ff(l,r,n,i,t[1],12,-389564586),i=ff(i,l,r,n,t[2],17,606105819),n=ff(n,i,l,r,t[3],22,-1044525330),r=ff(r,n,i,l,t[4],7,-176418897),l=ff(l,r,n,i,t[5],12,1200080426),i=ff(i,l,r,n,t[6],17,-1473231341),n=ff(n,i,l,r,t[7],22,-45705983),r=ff(r,n,i,l,t[8],7,1770035416),l=ff(l,r,n,i,t[9],12,-1958414417),i=ff(i,l,r,n,t[10],17,-42063),n=ff(n,i,l,r,t[11],22,-1990404162),r=ff(r,n,i,l,t[12],7,1804603682),l=ff(l,r,n,i,t[13],12,-40341101),i=ff(i,l,r,n,t[14],17,-1502002290),n=ff(n,i,l,r,t[15],22,1236535329),r=gg(r,n,i,l,t[1],5,-165796510),l=gg(l,r,n,i,t[6],9,-1069501632),i=gg(i,l,r,n,t[11],14,643717713),n=gg(n,i,l,r,t[0],20,-373897302),r=gg(r,n,i,l,t[5],5,-701558691),l=gg(l,r,n,i,t[10],9,38016083),i=gg(i,l,r,n,t[15],14,-660478335),n=gg(n,i,l,r,t[4],20,-405537848),r=gg(r,n,i,l,t[9],5,568446438),l=gg(l,r,n,i,t[14],9,-1019803690),i=gg(i,l,r,n,t[3],14,-187363961),n=gg(n,i,l,r,t[8],20,1163531501),r=gg(r,n,i,l,t[13],5,-1444681467),l=gg(l,r,n,i,t[2],9,-51403784),i=gg(i,l,r,n,t[7],14,1735328473),n=gg(n,i,l,r,t[12],20,-1926607734),r=hh(r,n,i,l,t[5],4,-378558),l=hh(l,r,n,i,t[8],11,-2022574463),i=hh(i,l,r,n,t[11],16,1839030562),n=hh(n,i,l,r,t[14],23,-35309556),r=hh(r,n,i,l,t[1],4,-1530992060),l=hh(l,r,n,i,t[4],11,1272893353),i=hh(i,l,r,n,t[7],16,-155497632),n=hh(n,i,l,r,t[10],23,-1094730640),r=hh(r,n,i,l,t[13],4,681279174),l=hh(l,r,n,i,t[0],11,-358537222),i=hh(i,l,r,n,t[3],16,-722521979),n=hh(n,i,l,r,t[6],23,76029189),r=hh(r,n,i,l,t[9],4,-640364487),l=hh(l,r,n,i,t[12],11,-421815835),i=hh(i,l,r,n,t[15],16,530742520),n=hh(n,i,l,r,t[2],23,-995338651),r=ii(r,n,i,l,t[0],6,-198630844),l=ii(l,r,n,i,t[7],10,1126891415),i=ii(i,l,r,n,t[14],15,-1416354905),n=ii(n,i,l,r,t[5],21,-57434055),r=ii(r,n,i,l,t[12],6,1700485571),l=ii(l,r,n,i,t[3],10,-1894986606),i=ii(i,l,r,n,t[10],15,-1051523),n=ii(n,i,l,r,t[1],21,-2054922799),r=ii(r,n,i,l,t[8],6,1873313359),l=ii(l,r,n,i,t[15],10,-30611744),i=ii(i,l,r,n,t[6],15,-1560198380),n=ii(n,i,l,r,t[13],21,1309151649),r=ii(r,n,i,l,t[4],6,-145523070),l=ii(l,r,n,i,t[11],10,-1120210379),i=ii(i,l,r,n,t[2],15,718787259),n=ii(n,i,l,r,t[9],21,-343485551),e[0]=add32(r,e[0]),e[1]=add32(n,e[1]),e[2]=add32(i,e[2]),e[3]=add32(l,e[3])}function cmn(e,t,r,n,i,l){return t=add32(add32(t,e),add32(n,l)),add32(t<<i|t>>>32-i,r)}function ff(e,t,r,n,i,l,a){return cmn(t&r|~t&n,e,t,i,l,a)}function gg(e,t,r,n,i,l,a){return cmn(t&n|r&~n,e,t,i,l,a)}function hh(e,t,r,n,i,l,a){return cmn(t^r^n,e,t,i,l,a)}function ii(e,t,r,n,i,l,a){return cmn(r^(t|~n),e,t,i,l,a)}function md51(e){txt="";var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)md5cycle(n,md5blk(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(md5cycle(n,i),t=0;16>t;t++)i[t]=0;return i[14]=8*r,md5cycle(n,i),n}function md5blk(e){var t,r=[];for(t=0;64>t;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function rhex(e){for(var t="",r=0;4>r;r++)t+=hex_chr[15&e>>8*r+4]+hex_chr[15&e>>8*r];return t}function hex(e){for(var t=0;t<e.length;t++)e[t]=rhex(e[t]);return e.join("")}function md5(e){return hex(md51(e))}function add32(e,t){return 4294967295&e+t}function add32(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}nnn("Adler"),Adler.proxy="",Adler.version=34931520,Adler.loadJSSequential=null,Adler.trace=null,Adler.upload="adler",Adler.save="upload",Adler.lastLoaded="",Adler.userId="12345678",Adler.page={pageName:"",pageId:"",userId:"",type:"page",template:"",layout:"Desktop",manifest:{},widgets:[]},Adler.manifest={},Adler.interactive=!0,Adler.pageView=!1,Adler.includeArray=null,Adler.fileArray=null,Adler.dimension={width:1700,height:1e3},Adler.dirty=!1,Adler.undoArray=["","","","",""],Adler.widgetSelector={},Adler.pickedWidgets={parentNode:""},Adler.latestUndoCounter=-1,Adler.hotKey="html",Adler.layout="Desktop",Adler.seq=0,Adler.j6Allowed=!0,Adler.j6Timer=0,Adler.statTimer=0,Adler.buildTime=0,Adler.lastSubMenu=null,Adler.specialKey={keyValue:0,active:0,timer:null,keyType:null},Adler.copyBuffer=[{objectId:null,dataId:null}],Adler.editor={blinkCursor:null,active:!1,htmlActive:!1},Adler.getNextId=function(){var e=(new Date).getTime()+Math.floor(1e4*Math.random()+1);return e},Adler.objectType="div",Adler.mode=0,Adler.pen,Adler.strokeWidth=3,Adler.undoArray=new Array,Adler.activeMenus=new Array,Adler.hiddenMenus=new Array,Adler.dom={txtSearch:null,searchDiv:null},Adler.txtSearch=null,Adler.canvas=null,Adler.widgetChoiceArray=null,Adler.r252=function(e,t){if(null!=e&&null!=t)for(var r=function(e){for(var t=i.length,r=0;t>r;r++){var n=i[r];if(e.x==n.x&&e.y==n.y)return{occ:!0,p:n};if(e.x>n.x-1&&e.x<n.x+n.w&&e.y>n.y-1&&e.y<n.y+n.h)return{occ:!0,p:n}}return{occ:!1,p:null}},n=t.length,i=new Array,l=0;n>l;l++){var a,o,s=t[l],d=null;if(s instanceof HTMLElement)a=s.style.width,a=parseInt(a.substring(0,a.length-2)),o=s.style.height,o=parseInt(o.substring(0,o.length-2));else{if(s.preferred&&(d=s.preferred,"na"==d))continue;a=s.r146(),o=s.getHeight()}var c=r16(),u=e.r103()+e.r146()+15,p=e.r104()+e.getHeight()/2+15,g=u+a+25,m=p+o+200;g>c.winWidth&&(u=e.r103()-a-25,0>u&&(u=25,p=e.getTop()+e.getHeight()+15,m=p+o+200)),m>c.winHeight&&(p=c.winHeight-o-150,0>p&&(p=25));for(var f=r({x:u,y:p,w:a,h:o});f.occ;)d&&"side"==d?u=u+f.p.w+20:p=p+f.p.h+20,f=r({x:u,y:p});i.push({x:u,y:p,w:a,h:o}),"Phone"===Adler.page.layout[0]?u=550:"Tablet"===Adler.page.layout[0]&&(u=800),s instanceof HTMLElement?(s.style.left=u+"px",s.style.top=p+"px"):(s.setLeft(u),s.setTop(p))}},Adler.addHeaders=function(e,t,r){var n=Adler.page.manifest;n||(Adler.page.manifest={},n=Adler.page.manifest);var i,l;"script"===t?(n.script||(n.script=new Array),i=n.script,l=Adler.manifest.script):(n.style||(n.style=new Array),i=n.style,l=Adler.manifest.style);for(var a=0,o=i.length;o>a;a++){var s=i[a];if(s===e)return}if(l)for(var a=0,o=l.length;o>a;a++){var s=l[a];if(s===e)return}if(r){var d=1,c="/AdlerGen/",u=e.replace("./",c);2===r&&(c="/AdlerWidget/",u=u.replace("/AdlerGen/",c));var p="css";"script"===t&&(p="js"),Adler.r164(u,p,p+AdlerBase.r137(),d)}i.push(e)},Adler.r164=function(filename,filetype,scriptId,loadSequentially){if(null==Adler.fileArray&&(Adler.fileArray=new Array),"jsinline"!==filetype&&(null==loadSequentially||2>loadSequentially)){for(var i=Adler.fileArray.length-1;i>-1;i--){var flName=Adler.fileArray[i];if(flName===filename)return}Adler.fileArray.push(filename)}if(!(loadSequentially&&(Adler.loadJSSequential||(Adler.loadJSSequential=new Array),1===loadSequentially&&(Adler.loadJSSequential.push({fileName:filename,fileType:filetype,scriptId:scriptId}),Adler.loadJSSequential.length>1)))){if("js"==filetype)if(loadSequentially){var fileref=document.createElement("script");fileref.setAttribute("type","text/javascript"),fileref.setAttribute("src",Adler.loadJSSequential[0].fileName),fileref.setAttribute("id",Adler.loadJSSequential[0].scriptId),fileref.onload=function(){Adler.loadJSSequential.splice(0,1),Adler.loadJSSequential.length>0&&Adler.r164(Adler.loadJSSequential[0].fileName,Adler.loadJSSequential[0].fileType,Adler.loadJSSequential[0].scriptId,2)}}else{var fileref=document.createElement("script");fileref.setAttribute("type","text/javascript"),fileref.setAttribute("src",filename),fileref.setAttribute("id",scriptId)}else if("css"==filetype)if(loadSequentially){var fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet"),fileref.setAttribute("type","text/css"),fileref.setAttribute("href",filename),fileref.onload=function(){Adler.loadJSSequential.splice(0,1),Adler.loadJSSequential.length>0&&Adler.r164(Adler.loadJSSequential[0].fileName,Adler.loadJSSequential[0].fileType,Adler.loadJSSequential[0].scriptId,2)}}else{var fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet"),fileref.setAttribute("type","text/css"),fileref.setAttribute("href",filename)}if("jsinline"===filetype)if(loadSequentially){Adler.loadJSSequential.splice(0,1);try{eval(filename)}catch(e){console.log("error during apply script "+e)}Adler.loadJSSequential.length>0&&Adler.r164(Adler.loadJSSequential[0].fileName,Adler.loadJSSequential[0].fileType,Adler.loadJSSequential[0].scriptId,2)}else{var fileref=document.createElement("script");fileref.setAttribute("type","text/javascript"),fileref.innerHTML=filename,scriptId&&fileref.setAttribute("id",scriptId)}return"undefined"!=typeof fileref&&document.getElementsByTagName("head")[0].appendChild(fileref),fileref}},Adler.r132=function(e){if(e&&e.constructor&&e.constructor.toString()){if(e.constructor.name)return e.constructor.name;var t=e.constructor.toString();if("["==t.charAt(0))var r=t.match(/\[\w+\s*(\w+)\]/);else var r=t.match(/function\s*(\w+)/);if(r&&2==r.length)return r[1]}return void 0},Adler.addUndo=function(e,t){4===Adler.latestUndoCounter?Adler.latestUndoCounter=0:Adler.latestUndoCounter++;var r=null;e.parent&&(r=e.parent.getObjId());var n={view:e,id:e.getObjId(),parentId:r};if("changed"===t){var i={html:""},l=2;i=custom.generate.dynamicHTML(e,e.getObjId(),"",i,1,l),n.htmlFragment=i.html,e.dirty=!0
}Adler.undoArray[Adler.latestUndoCounter]=n},Adler.undo=function(){var e=Adler.undoArray[Adler.latestUndoCounter];if(!e)return r228("undo not available"),void 0;var t=e.id,r=null,n=function(e){if(!e)return null;for(var t=Adler.globalCollection,r=t.getNext();r;){if(r.getObjId()===e)return t.iterator=0,r;r=t.getNext()}return null};if(r=n(t),!r)return Adler.undoArray[Adler.latestUndoCounter]="",Adler.latestUndoCounter--,-1===Adler.latestUndoCounter&&(Adler.latestUndoCounter=4),r228("undo unavilable"),void 0;var i=e.htmlFragment,l=n(e.parentId);r.r62(),r=null,i&&(r=Adler.storage.externalHTMLFrag(l,i)),Adler.undoArray[Adler.latestUndoCounter]="",Adler.latestUndoCounter--,-1===Adler.latestUndoCounter&&(Adler.latestUndoCounter=4)},Adler.j6=function(){if(Adler.j6Allowed){if(event&&"unload"===event.type&&(Adler.page=null,sessionStorage["adler-pageDetail"]=""),Adler.dirty)if(Adler.dirty=!1,Adler.flow.dirty){var e=localStorage["adler-permissions"];e&&(e=JSON.parse(e),(e.dirty&&e.flowName===Adler.flow.flowName||!Adler.flow[Adler.layout].permissions)&&(Adler.flow[Adler.layout].permissions=e.details,e.dirty=!1,localStorage["adler-permissions"]=JSON.stringify(e))),delete Adler.flow.dirty,insertFlow(Adler.flow),Adler.flow.dirty=!1,sessionStorage["adler-flowDetail"]=JSON.stringify(Adler.flow)}else{var t=null;if(elementInFocus){var t=Adler.globalCollection.getItem(elementInFocus.adlerId);AdlerBaseExt.r39(!1,t)}var r=Adler.page.pageName;if(r){var n=Adler.page.type;Adler.storage.save("local",n,r,""),t&&AdlerBaseExt.r202(t),sessionStorage["adler-pageDetail"]=JSON.stringify(Adler.page),r228("Auto Saved ")}else SaveDBDef()}Adler.statTimer&&clearTimeout(Adler.statTimer),Adler.statTimer=setTimeout(Adler.updateStat,1e3),Adler.j6Timer=setTimeout(Adler.j6,18e4)}},Adler.updateStat=function(){var e=localStorage["adler-statList"];if(e)e=JSON.parse(e);else{var t=getStat();t?(e=t,localStorage["adler-statList"]=JSON.stringify(t)):e=[{statId:100,pageUrl:"/Customization/pieChart.html",userId:Adler.userId,usageCount:0,prevUsageCount:0},{statId:200,pageUrl:"/Customization/map.html",userId:Adler.userId,usageCount:0,prevUsageCount:0},{statId:300,pageUrl:"/Customization/imageSlider.html",userId:Adler.userId,usageCount:0,prevUsageCount:0},{statId:400,pageUrl:"/Customization/dataEntry.html",userId:Adler.userId,usageCount:0,prevUsageCount:0},{statId:500,pageUrl:"/Customization/dataTable.html",userId:Adler.userId,usageCount:0,prevUsageCount:0}],localStorage["adler-statList"]=JSON.stringify(e)}for(var r=e.length-1;r>-1;r--){var n=e[r],i=localStorage["adler-"+n.pageUrl+"-input"];if(i&&(i=JSON.parse(i)),i&&i.usageCount){if(i.usageCount===n.usageCount)continue;n.prevUsageCount=n.usageCount,n.usageCount=i.usageCount,insertStat(n)}}localStorage["adler-statList"]=JSON.stringify(e)},Adler.decision=function(e){var t=document.getElementById("decision");t&&(t.style.display="block",t.style.visibility="visible",t.view=e)},Adler.decisionImplement=function(e,t){var r=e,n=document.getElementById("decision"),i=t;if(t&&(n.view=i),i||(i=Adler.canvasView,r={widgetType:"",examplePage:e}),r.examplePage){var l=i.r120(),a=1,o=localStorage["adler-"+r.examplePage+"-input"];o?(o=JSON.parse(o),o.dimension=l,o.usageCount&&(a=o.usageCount+1),o.usageCount=a):o={dimension:l,usageCount:a,widgetType:r.widgetType},o.useStore&&delete o.useStore;var s=Adler.page.pageName,d=new Array;if(Adler.flow[Adler.layout])for(var c=Adler.flow[Adler.layout].pages.length-1;c>-1;c--){var u=Adler.flow[Adler.layout].pages[c];u.pageName!==s&&d.push(u.pageName)}o.pages=d,delete o.sampleId,o.layout=Adler.layout,localStorage["adler-"+r.examplePage]="",localStorage["adler-"+r.examplePage+"-input"]=JSON.stringify(o),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var p=window.location.origin+r.examplePage,g=window.open(p);if(!g||!g.top)return alert("Please check your pop up settings, Unable to open customization page "),void 0;setTimeout(function(){Adler.decisionWidget(g,"adler-"+r.examplePage)},2e3)}},Adler.decisionWidget=function(e,t){if(e&&e.top){var r=localStorage[t];if(r){var n=document.getElementById("decision"),i=localStorage[t];if(i=JSON.parse(i),i.type&&"tableDef"===i.type){var l=i.store;if(l){var a=AdlerStorage.findStorage(l);a.def=l}return e.close(),void 0}var o=n.view;if(!o){var s=Adler.canvasView.r120();o=AdlerBaseExt.r53({x:s.left,y:s.top,w:s.width,h:s.height,view:Adler.canvasView,ln:{r64:"E"},type:"div",dontDraw:!1,border:!1})}n.view=null;var d={};if(d.html=i.html,d.script=i.script,d.note=i.note,d.include=i.include,d.widgetId="",d.p=i.p,d.data=i.data,d.type=i.type,d.sampleId=i.sampleId,d.specific=i.specific,i.store){var c=!1;if(Adler.flow.stores)for(var r=Adler.flow.stores.length-1;r>-1;r--){var u=Adler.flow.stores[r];if(u.storeName===i.store.storeName){c=!0;break}}else Adler.flow.stores=new Array;c||Adler.flow.stores.push(i.store),d.store=i.store}menu.widgets.j41(o,d),delete localStorage[t],t.indexOf("pageTemplate")>-1&&flow.pageTemplate.reflectTemplate(d),n.style.display="none",n.style.visibility="hidden",e.close(),Adler.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,200)}else setTimeout(function(){Adler.decisionWidget(e,t)},2e3)}},Adler.writeSyncFlag=function(){var e=document.getElementById("dataSync"),t=e.options[e.selectedIndex].value;Adler.flow[Adler.layout].dataSync=t,Adler.dirty=!0,Adler.flow.dirty=!0,Adler.j6(),jsonGet("/writeSyncFlag/"+Adler.userId+"/"+Adler.layout+"/"+Adler.flow.flowName+"/"+t,!1)},Adler.generateButton=function(e){if(Adler.move&&Adler.move.config&&Adler.move.config.r91&&Adler.move.config.r91(),"page"===e){var t=jsonGet("/generate/"+Adler.userId+"/"+Adler.layout+"/"+Adler.flow.flowName+"/"+Adler.page.pageName,!1);if(t=JSON.parse(t),-1===t.rc)return r228(t.message),void 0;var r=Adler.page.pageName,n=r,i=flow.findPage(r);i.type&&"custom"===i.type&&i.path&&(n=i.path+"/"+r);var l=window.location.origin+"/AdlerGen/"+Adler.flow.flowName+"/"+Adler.layout+"/"+n+".html";window.open(l)}else{if("Phone"===Adler.layout&&0===Adler.mode){Adler.dirty=!0,Adler.flow.dirty=!0,Adler.j6();var a=document.getElementById("generateQ");if("none"===a.style.display){if(a.style.display="block",Adler.flow[Adler.layout].dataSync){var o=document.getElementById("dataSync"),s=Adler.flow[Adler.layout].dataSync;o.selectedIndex="N"===s?0:1}return document.getElementById("generateContinue0").onclick=function(){Adler.generateButton("flow")},void 0}a.style.display="none";var o=document.getElementById("dataSync");Adler.flow[Adler.layout].dataSync=o.options[o.selectedIndex].value;var d=document.getElementsByName("adlerGenformat");if(d[0].checked)if(d[1].checked)Adler.flow[Adler.layout].format=d[2].checked?"B":"A";else{if(!d[2].checked)return Adler.mode=0,Adler.showGeneratedHTML(),iPhoneFields=document.getElementById("iPhoneFields"),iPhoneFields.style.opacity=.2,AndroidFields=document.getElementById("AndroidFields"),AndroidFields.style.opacity=.2,void 0;Adler.flow[Adler.layout].format="O"}if(Adler.flow[Adler.layout].logo){var c=document.getElementById("dropLogo");c.style.display="block";var u=document.getElementById("imgbox");return u.innerHTML='<img src="/AdlerGen/image/'+Adler.flow[Adler.layout].logo+'" style="margin:22px 0 0 72px" >',document.getElementById("generateContinue").onclick=function(){var e=document.getElementById("dropLogo");e.style.display="none",Adler.generateButton("flow")},Adler.mode=11,void 0}var c=document.getElementById("dropLogo");return c.style.display="block",Adler.flow[Adler.layout].logo="toBeDropped",Adler.mode=11,void 0}if(11===Adler.mode)Adler.mode=0;else if(-1===Adler.mode){var c=document.getElementById("dropLogo");c.style.display="block";var u=document.getElementById("imgbox");return u.innerHTML='<img src="/AdlerGen/image/'+Adler.flow[Adler.layout].logo+'" style="margin:22px 0 0 72px" >',document.getElementById("generateContinue").onclick=function(){var e=document.getElementById("dropLogo");e.style.display="none",Adler.generateButton("flow")},Adler.mode=11,void 0}var p="H";GetDBDef(),SaveDBDef(),Adler.flow[Adler.layout].format&&(p=Adler.flow[Adler.layout].format);var t=jsonGet("/generate/"+Adler.userId+"/"+Adler.layout+"/"+Adler.flow.flowName+"/%20/"+p,!1);if(t=JSON.parse(t),-1===t.rc)return r228(t.message),void 0;var d=document.getElementsByName("adlerGenformat");d[1].checked?Adler.flow[Adler.layout].format=d[2].checked?"B":"A":d[2].checked&&(Adler.flow[Adler.layout].format="O"),p=Adler.flow[Adler.layout].format,iPhoneFields=document.getElementById("iPhoneFields"),iPhoneFields.style.opacity=.2,AndroidFields=document.getElementById("AndroidFields"),AndroidFields.style.opacity=.2,"B"===p?(iPhoneFields.style.opacity=1,AndroidFields.style.opacity=1):"A"===p?AndroidFields.style.opacity=1:"O"===p&&(iPhoneFields.style.opacity=1),Adler.buildTime=(new Date).getTime();var g=Adler.flow[Adler.layout].entryPage,n=g,m=flow.findPage(g);if(m.type&&"custom"===m.type&&m.path&&(n=m.path+"/"+g),"Phone"===Adler.layout){var f=3e4;Adler.generatePath=t.path+"/",Adler.showGeneratedHTML(),document.getElementById("androidSource").onclick=function(){var e=(new Date).getTime()-Adler.buildTime,t=((f-e)/1e3).toFixed(0);f>e?alert(" Android Build Process could take about a minute or so after you click Generate. Please wait "+t+" seconds "):window.location=Adler.generatePath+"androidSource_zip"},document.getElementById("androidApp").onclick=function(){var e=Adler.flow.flowName.split("-").join("_").trim().split(" ").join("_").toLowerCase()+"_apk",t=(new Date).getTime()-Adler.buildTime,r=((f-t)/1e3).toFixed(0);f>t?alert(" Android Build Process could take about a minute or so after you click Generate. Please wait "+r+" seconds "):window.location=Adler.generatePath+e},document.getElementById("iPhoneApp").onclick=function(){var e=(new Date).getTime()-Adler.buildTime,t=((f-e)/1e3).toFixed(0);f>e?alert(" iOs Build Process could take about a minute or so after you click Generate. Please wait "+t+" seconds "):window.location=Adler.generatePath+Adler.flow.flowName.split("-").join("_").trim().split(" ").join("_")+"_ipa"},document.getElementById("iPhoneSource").onclick=function(){var e=(new Date).getTime()-Adler.buildTime,t=((f-e)/1e3).toFixed(0);f>e?alert(" iOs Build Process could take about a minute or so after you click Generate. Please wait "+t+" seconds "):window.location=Adler.generatePath+"iPhoneSource_zip"}}else{var l=window.location.origin+"/AdlerGen/"+Adler.flow.flowName+"/"+Adler.layout+"/"+n+".html";window.open(l)}}},Adler.showGeneratedHTML=function(){var e=document.getElementById("generateOptions");e.style.display="block";for(var t=document.getElementById("htmlPageSelect"),r="",n=Adler.flow.Phone.entryPage,i=0,l=Adler.flow.Phone.pages.length-1,a=0;l>-1;l--,a++){var o=Adler.flow.Phone.pages[l],s=o.path?o.path+"/":"",d=o.extension?o.extension:"html";r+='<option value="'+s+o.pageName+"."+d+'">'+o.pageName+"</option>",o.pageName===n&&(i=a)}t.innerHTML=r,t.selectedIndex=i,document.getElementById("htmlPageView").onclick=function(){var e=t.options[t.selectedIndex].value,r=window.location.origin+"/AdlerGen/"+Adler.flow.flowName+"/"+Adler.layout+"/"+e;window.open(r)}},nnn("AdlerBase"),function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.AdlerClass=function(){},this.AdlerClass.prototype.getId=function(){return this.id},this.AdlerClass.prototype.getAttribute=function(e){return this[e]},this.AdlerClass.prototype.r115=function(){return this.classType},this.AdlerClass.prototype.r62=function(){for(var e in this){var t=this[e],r=typeof t;if("function"!=typeof t){if("object"===r){if(null==this[e])continue;if(this[e].classType){if(null==this[e].id)continue;"parent"!==e&&this[e].r62()}}this[e]=null}}},AdlerClass.extend=function(r){function n(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var l=new this;e=!1;for(var a in r)l[a]="function"==typeof r[a]&&"function"==typeof i[a]&&t.test(r[a])?function(e,t){return function(){var r=this._super;this._super=i[e];var n=t.apply(this,arguments);return this._super=r,n}}(a,r[a]):r[a];return n.prototype=l,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),ObjStyle=AdlerClass.extend({classType:"ObjStyle",id:0,styleType:"Location",styleClassName:null,rule:null,defaults:{left:null,top:null,width:null,height:null,unit:"px"},init:function(e){r157(this,e),null==this.styleClassName&&(this.styleClassName=this.styleType+this.id),this.addRule()},stringify:function(e,t,r,n){var i;i=n?new Array:"";for(var l in this){var a=typeof this[l];if("function"===a||"object"===a);else if("id"!=l&&"classType"!=l&&"unit"!=l&&"defaults"!=l&&"styleType"!=l&&"styleClassName"!=l){var o=l,s=this[o];if(e&&"background_image"===o&&s.indexOf("url")>-1&&(s="url('/AdlerGen/image/"+encodeURIComponent(e)+"')"),null!=s){if(AdlerBase.isNumber(s,o)){var d=s;if("string"!=typeof d&&(d=s.toFixed(1)),t)if("left"===o||"width"===o){var c=100*d/r.winWidth;s=c.toFixed(4)+"%"}else if("top"===o||"height"===o){var c=100*d/r.winHeight;s=c.toFixed(4)+"%"}else s=d+this.unit;else s=d+this.unit}n?i.push({name:o.replace(/_/g,"-"),value:s}):i=i+o.replace(/_/g,"-")+":"+s+";"}}}return i},r201:function(e){for(var t in this)if(t.indexOf(e)>-1&&"function"!=typeof this[t])return!0;return!1},getLeft:function(){return this.left},getTop:function(){return this.top},r146:function(){return this.width},getHeight:function(){return this.height},r145:function(){return this.unit},setLeft:function(e){null!=e&&(this.left=e),this.r136().style.setProperty("left",e+this.unit)},setTop:function(e){null!=e&&(this.top=e),this.r136().style.setProperty("top",e+this.unit)},r217:function(e){null!=e&&(this.height=e),this.r136().style.setProperty("height",e+this.unit)},setWidth:function(e){null!=e&&(this.width=e),this.r136().style.setProperty("width",e+this.unit)},r210:function(e){this.border_top_left_radius=e},r211:function(e){this.border_top_right_radius=e},r208:function(e){this.border_bottom_left_radius=e},r209:function(e){this.border_bottom_right_radius=e},r206:function(e){this.background_image=e},r205:function(e){this.background_color=e},r109:function(){return this.border_top_left_radius?this.border_top_left_radius:0},r110:function(){return this.border_top_right_radius?this.border_top_right_radius:0},r107:function(){return this.border_bottom_left_radius?this.border_bottom_left_radius:0},r108:function(){return this.border_bottom_right_radius?this.border_bottom_right_radius:0},r136:function(){if(this.rule)return this.rule;if(null==Adler.styleSheet){for(var e=document.getElementById("adlerStyle"),t=null,r=0;r<document.styleSheets.length&&(t=document.styleSheets[r],t.ownerNode!=e);r++);Adler.styleSheet=t}for(var n="."+this.styleClassName.toLowerCase(),i=Adler.styleSheet,r=i.rules.length-1;r>-1;r--){var l=i.rules[r];if(l.selectorText===n)return l}},addRule:function(){if(null==Adler.styleSheet){for(var e=document.getElementById("adlerStyle"),t=null,r=0;r<document.styleSheets.length&&(t=document.styleSheets[r],t.ownerNode!=e);r++);Adler.styleSheet=t}var n="."+this.styleClassName+" { \r\n"+this.stringify()+"\r\n }";Adler.styleSheet.insertRule(n,0),this.rule=this.r136()},r62:function(){this.r195(),this._super()},r195:function(){if(null==Adler.styleSheet){for(var e=document.getElementById("adlerStyle"),t=null,r=0;r<document.styleSheets.length&&(t=document.styleSheets[r],t.ownerNode!=e);r++);Adler.styleSheet=t}for(var n="."+this.styleClassName.toLowerCase(),i=Adler.styleSheet,r=i.rules.length-1;r>-1;r--){var l=i.rules[r];l.selectorText===n&&i.deleteRule(r)}}}),AdlerCollection=AdlerClass.extend({classType:"AdlerCollection",iterator:0,defaults:{firstObject:null,lastObject:null,objectArray:null},init:function(e){r157(this,e),e.adlerObject&&this.addItem(e.adlerObject)},r118:function(){return this.objectArray.length},addItem:function(e,t){null==this.objectArray&&(this.objectArray=new Array);var r=this.objectArray.length;if(e){var n=e;t&&(n=t);for(var i=0;r>i;i++)if(this.objectArray[i]===n)return t&&(this.objectArray.splice(i+1,0,e),this.total++,this.lastObject===t&&(this.lastObject=e)),void 0;this.lastObject=e,this.objectArray[r]=e,r++}1==r&&(this.firstObject=this.lastObject)},getItem:function(e){var t=this.objectArray.length;if("number"==typeof e){var r=e;if(t>r)return this.objectArray[r]}for(var n=0;t>n;n++){var i=this.objectArray[n];if(e==i.getId())return i}return null},removeItem:function(e){e.getId();for(var t=this.objectArray.length,r=0;t>r;r++){var n=this.objectArray[r];if(n===e)return this.objectArray.splice(r,1),this.iterator=0,this.lastObject===e?this.lastObject=this.objectArray[this.objectArray.length-1]:this.firstObject===e&&(this.firstObject=this.objectArray[0]),!0}return this.iterator=0,!1},getNext:function(){if(null==this.objectArray)return null;var e=this.objectArray.length;if(this.iterator<e){var t=this.objectArray[this.iterator];return this.iterator++,t}return this.iterator=0,null},r62:function(){var e=this.objectArray;if(e)for(var t=e.length-1;t>-1;t--){var r=e[t];r.r62()}this._super()},empty:function(e){for(var t=this.objectArray.length;t>0;){var r=this.objectArray[t-1];e?this.objectArray.pop():r.r62(),t=this.objectArray.length}}}),Adler.globalCollection=new AdlerCollection({}),AdlerStyleCollection=AdlerCollection.extend({classType:"AdlerStyleCollection",animationArray:[{css:null,time:null,path:null}],init:function(e){this._super(e);var t=e.adlerObject;t&&(null!=t.left?t.styleType="Location":null!=t.width&&(t.styleType="Shape"))},addItem:function(e){null!=e&&(null!=e.left?e.styleType="Location":null!=e.width&&(e.styleType="Shape"),this._super(e),this.view&&this.view.actualObj&&(this.view.actualObj.className=this.r114()))},removeItem:function(e){this._super(e),this.view&&this.view.actualObj&&(this.view.actualObj.className=this.r114())},r139:function(e,t){for(var r=this.getNext();r;){var n=r.styleType;if(n)if(r.styleType===e){if(!t||t===r.styleClassName)return this.iterator=0,r}else if("Shape"==e&&null!=r.width)return this.iterator=0,r;r=this.getNext()}this.iterator=0;var r;return r=t?new ObjStyle({styleType:e,styleClassName:t}):new ObjStyle({styleType:e}),this.addItem(r),r},r223:function(e,t){var r=e.styleClassName;r!==t&&(e.styleClassName=t,this.view&&this.view.actualObj&&(this.view.actualObj.className=this.r114()))},r140:function(e){var t=this.view,r={winWidth:1200,winHeight:800};if(e){for(var n=t.parent,i=n;i&&i.changeable&&!t.changeable;)var i=i.parent;n=i,r.winWidth=n.r146(),r.winHeight=n.getHeight()}for(var l="",a=this.getNext();a;){var o=a.styleType;"Location"!==o||"static"!==a.position?(l+=e?a.stringify("",e,r):a.stringify(),a=this.getNext()):(a.float&&(l=l+"float:"+a.float+";"),a=this.getNext())}return l},r114:function(e){for(var t="",r=this.getNext();r;)e?"Custom"===r.styleType&&(t=t+" "+r.styleClassName):t=t+" "+r.styleClassName,r=this.getNext();return t},r14:function(e,t,r){var n=this.r140(),i=this.animationArray.length;e>i-1&&(e=i);var l=this.animationArray[e];null==l?l={css:n}:l.css=n,t&&(l.time=t),r&&(l.path=r),this.animationArray[e]=l},setLeft:function(e){if(null!=e){var t=this.r139("Location");t.setLeft(e),t.getLeft().toFixed(2)+t.r145()}},setTop:function(e){if(null!=e){var t=this.r139("Location");t.setTop(e),t.getTop().toFixed(2)+t.r145()}},getLeft:function(){var e=this.r139("Location");return e.getLeft()},getTop:function(){var e=this.r139("Location");return e.getTop()},r146:function(){var e=this.r139("Shape"),t=e.width;return null==t&&(t=this.view.actualObj.clientWidth),t},getHeight:function(){var e=this.r139("Shape"),t=e.height;return null==t&&(t=this.view.actualObj.clientHeight),t},r13:function(e,t,r){var n=null;if(e instanceof HTMLElement)n=e.style;else if("string"==typeof e)try{n=JSON.parse(e)}catch(i){n={};for(var l={},a=e.split(";"),o=0,s=a.length,d=0;s>d;d++){var c=a[d],u=c.split(":");if(2===u.length){var p=u[0],g=u[1];n[o++]=p,l[p]=g}else if(3===u.length){var p=u[0];if("background-image"===p){var g=u[1]+":"+u[2]+";"+a[d+1];n[o++]=p,l[p]=g}}}for(var m in l)n[m]=l[m]}var f=null,y=null,h=null,v=null,w=null,A=null,l="",b=null;for(var x in n){if(!/([1-9][0-9]*)|0/.test(x))break;var S=n[x],k=S,T=n[S];switch(S&&(S=S.replace(/-/g,"_")),S){case"left":case"top":if(null===f&&(f=this.r139("Location"),this.addItem(f)),T.indexOf("%")>-1){T=parseInt(T.substring(0,T.length-1));var I=0;if(r&&(I=r[S]),0===I)if(r){var P=r16();r.left=P.winWidth,r.width=P.winWidth,r.top=P.winHeight,r.height=P.winHeight,I=r[S]}else f.unit="%",I=100;T=I*T/100}else T=parseInt(T.substring(0,T.length-2));f[S]=T,T+=f.unit,b=f;break;case"position":null===f&&(f=this.r139("Location"),this.addItem(f)),f[S]=T,b=f;break;case"float":null===f&&(f=this.r139("Location"),this.addItem(f)),f[S]=T,b=f;break;case"margin":case"padding":case"width":case"height":if(null===y&&(y=this.r139("Shape"),this.addItem(y)),T.indexOf("%")>-1){T=parseInt(T.substring(0,T.length-1));var I=0;if(r&&(I=r[S]),0===I)if(r){var P=r16();r.left=P.winWidth,r.width=P.winWidth,r.top=P.winHeight,r.height=P.winHeight,I=r[S]}else e instanceof HTMLElement&&(y.unit="%"),I=100;T=I*T/100}else T=parseInt(T.substring(0,T.length-2));y[S]=T,T+=y.unit,b=y;break;case"z_index":null===y&&(y=this.r139("Shape"),this.addItem(y)),y[S]=T,b=y;break;case"display":case"visibility":null===A&&(A=this.r139("Visibility"),this.addItem(A)),A[S]=T,b=A;break;case"color":null===w&&(w=this.r139("Text"),this.addItem(w)),w[S]=T,b=w;default:switch(!0){case/box/i.test(S):case/border/i.test(S):null===h&&(h=this.r139("Border"),this.addItem(h)),h[S]=T,b=h;break;case/background/i.test(S):null===v&&(v=this.r139("Background"),this.addItem(v)),"background_image"===S&&T.indexOf("url")>-1,v[S]=T,b=v;break;case/text/i.test(S):null===w&&(w=this.r139("Text"),this.addItem(w)),w[S]=T,b=w;break;case/font/i.test(S):null===w&&(w=this.r139("Text"),this.addItem(w)),w[S]=T,b=w}}if(null==b)return;var C=b.r136();C&&(C.style[k]=T)}if(t)return l.length>0&&console.log(l),void 0;for(var E=this.getNext();E;){var B=E.styleType;switch(B){case"Background":null==v&&this.removeItem(E);break;case"Border":null==h&&this.removeItem(E);break;case"Text":null==w&&this.removeItem(E);break;case"Visibility":null==A&&this.removeItem(E)}E=this.getNext()}}}),AdlerEvent=AdlerClass.extend({classType:"AdlerEvent",id:0,defaults:{type:"mouse",beginPos:{x:-1,y:-1},currentPos:{x:-1,y:-1},distance:0,targetModel:null,previousObj:null},init:function(e){r157(this,e),this.beginPos=this.currentPos},r119:function(){return this.currentPos},r215:function(e){this.currentPos=e},r229:function(){var e=this.currentPos;ctx.beginPath(),ctx.moveTo(e.x,e.y),Adler.drawBoundary?(Adler.pen.cursor.style.left=e.x+Adler.drawBoundary.left+"px",Adler.pen.cursor.style.top=e.y+Adler.drawBoundary.top+"px"):(Adler.pen.cursor.style.left=e.x+"px",Adler.pen.cursor.style.top=e.y+"px"),path[counter]=new Array,path[counter][0]=e.x,path[counter][1]=e.y,counter++},r230:function(){var e=this.currentPos;ctx.lineTo(e.x,e.y),ctx.stroke(),path[counter]=new Array,path[counter][0]=e.x,path[counter][1]=e.y,counter++},setData:function(e,t){this.actualEvent&&this.actualEvent.dataTransfer&&this.actualEvent.dataTransfer.setData(e,t)}}),AdlerViewModel=AdlerClass.extend({classType:"AdlerViewModel",id:0,parent:null,children:null,firstChange:!0,r66:null,name:"adler",menu:null,init:function(e){r157(this,e),e.parent&&(this.parent=null,this.setParent(e.parent)),null==this.r66&&(this.r66=new Object),this.objStyle&&(this.objStyleCollection=new AdlerStyleCollection({adlerObject:this.objStyle}),this.objStyle=null),this.dirty=!1,this.objStyleCollection.view=this},defaults:{type:"div",adlerType:"endObject",title:"",value:"",actualObj:null},setParent:function(e,t,r){var n=t;if(null!=e){var i=!1;this.parent===e&&(i=!0);var l,a,o=this.r103(),s=this.r104();if(i){if(r){var d=e.children;d.removeItem(this),d.addItem(this,r)}}else{this.parent&&this.actualObj?this.parent.children.removeItem(this):n=this.actualObj?!1:!0,this.parent=e;var d=e.children;d?r?e===r.parent&&d.addItem(this,r):d.addItem(this):(d=new AdlerCollection({adlerObject:this}),e.children=d)}if(n);else{this.absoluteLeft=o,this.absoluteTop=s;for(var c=!0,u=e;c&&null!=u;)if("absolute"!==u.r111("position","Location")){var p=u.parent;p?u=p:c=!1}else c=!1;var g=u.r103(),m=u.r104();l=o-g,a=s-m,this.setLeft(l),this.setTop(a)}var f=e.actualObj,y=this.actualObj;if(f&&y){if(f===y.parentNode);else if(r){var h=r.actualObj.nextSibling;h?f.insertBefore(y,h):f.appendChild(y)}else f.appendChild(y);var v=y.offsetLeft,w=y.offsetTop;l!==v&&this.setLeft(v),a!==w&&this.setTop(w)}}},addChild:function(e){return null==e?!1:(this.children?this.children.addItem(e):this.children=new AdlerCollection({AdlerObject:e}),e.parent=this,Adler.globalCollection.addItem(e),void 0)},r112ren:function(){var e=this.children;return e&&(e.iterator=0),e},r90:function(e){return this.eventConfig&&this.eventConfig.r90?this.eventConfig.r90(e):(e.r229(),void 0)},r87:function(e){return this.eventConfig&&this.eventConfig.r87?this.eventConfig.r87(e):(e.r230(),void 0)},r91:function(e){return this.firstChange=!0,this.eventConfig&&this.eventConfig.r91?this.eventConfig.r91(e):(Adler.pen===Adler.defaultPen&&identify.r257(e),void 0)},r178:function(e){return this.eventConfig&&this.eventConfig.r178?this.eventConfig.r178(e):!0},r179:function(e){e.patternCode<30&&(e.view.r80(this),e.view.menu.prepMenu(e.view))},r105:function(){return this.actualObj},r203:function(e){if("string"==typeof e){var t=document.getElementById(e);if(t){this.actualObj=t;var r=this.getId(),n={adlerId:r};t.setAttribute("data-adler",JSON.stringify(n)),t.adlerId=r,Adler.globalCollection.addItem(this)}}else this.actualObj=e},getType:function(){return this.type},r131:function(){return this.objStyleCollection?this.objStyleCollection:(this.objStyle&&(this.objStyleCollection=new AdlerStyleCollection({adlerObject:this.objStyle}),this.objStyle=null),this.objStyleCollection)},r222:function(e){var t=this.r131();null==t&&(t=new AdlerStyleCollection({}),this.objStyleCollection=t),t.addItem(e),this.actualObj.style=t.r140()},setAttribute:function(e,t){"id"!==e&&"style"!==e&&(this.r66[e]=t),this.actualObj.setAttribute(e,t)},r80:function(e,t,r){var n=this;null!=n.actualObj&&(null==e&&n.parent&&(e=n.parent),garbage.appendChild(n.actualObj),garbage.innerHTML="",n.actualObj=null);var i=n.getType();"cell"===i&&(i="div");var l=document.createElement(i);n.value&&(l.innerHTML=n.value);var a=AdlerBase.r137();l.id=n.getType()+a;for(var o in n.r66)l.setAttribute(o,n.r66[o]);var s=this.r131().r114();l.setAttribute("class",s),n.r203(l),l.setAttribute("draggable","false"),null!=e?this.setParent(e,t,r):null==n.parent?n===Adler.canvasView?document.body.appendChild(n.actualObj):this.setParent(Adler.canvasView,t,r):this.setParent(n.parent,t,r);var d=this.getId(),c={adlerId:d};l.setAttribute("data-adler",JSON.stringify(c)),l.adlerId=d,l.view=n;var u=new Array,p=this.children;if(p){for(var g=p.getNext();g;)u.push(g),g=p.getNext();var m=!0;p.empty(m);for(var f=u.length,y=0;f>y;y++){var g=u[y];g.setParent(this)}}else n.value&&(l.innerHTML=n.value);var h=AdlerBase.checkDuplicate(l.id);h!==l.id&&(l.id=h),Adler.globalCollection.addItem(n,r),Adler.addUndo(this,"created");for(var v=!0,w=AdlerBaseExt.r147(this,v),y=w.length-1;y>-1;y--){var g=w[y];g.parent!==this&&(Adler.addUndo(g,"changed"),g.setParent(this))}if(Adler.widgetSelector.widgetId){var A=Adler.widgetSelector.widgetId;menu.widgets.insertWidget(this,A),Adler.widgetSelector.widgetId=0,Adler.widgetSelector.innerHTML="--widget--"}if(Adler.pickedWidgets.parentNode===Adler.widgetList){var b=document.getElementById("lostNFound");b.appendChild(Adler.pickedWidgets)}return Adler.dirty=!0,!0},r45:function(){var e=AdlerBase.r47(this,this.parent);return e},r62:function(){if(this.actualObj){var e=this.parent;e&&e.actualObj.innerHTML}AdlerBase.r62(this),this._super(),Adler.dirty=!0},r100:function(e){return this.codeConfig?null==e?this.codeConfig.r100({view:this}):(e.view=this,this.codeConfig.r100(e)):void 0},r190:function(){},r213:function(e,t,r){var n=e.replace(/_/g,"-");e=e.replace(/-/g,"_");var i=this.r131(),l=i.r139(r);if(l[e]=t,l.r136().style.setProperty(n,t),2===Adler.mode){var a=i.animationArray,o=a.length-1;if(1>o){if(0>o)return alert("something wrong, the animation array wasn't filled up"),void 0;o=1}i.r14(o)}this.firstChange&&(this.firstChange=!1),AdlerBase.isNumber(t,e)&&(t+=l.unit)},r111:function(e,t){e.replace(/_/g,"-"),e=e.replace(/-/g,"_");var r=this.r131(),n=r.r139(t),i=n[e];return i},removeCSSProp:function(e,t){var r=e.replace(/_/g,"-");e=e.replace(/-/g,"_");var n=this.r131(),i=n.r139(t),l=i[e];null!=l&&(delete i[e],delete i.r136().style.removeProperty(r))},setLeft:function(e,t){if(null!=e){var t=this.r131().r139("Location");t.setLeft(e),t.getLeft().toFixed(2)+t.r145()}},setTop:function(e,t){if(null!=e){var t=this.r131().r139("Location");t.setTop(e),t.getTop().toFixed(2)+t.r145()}},setWidth:function(e,t){if(null!=e){var t=this.r131().r139("Shape");t.setWidth(e),t.r146().toFixed(2)+t.r145()}},r217:function(e){if(null!=e){var t=this.r131().r139("Shape");t.r217(e),t.getHeight().toFixed(2)+t.r145()}},r216:function(e){if(null!=e){var t=this.r131(),r=t.r139("Location"),n=t.r139("Shape");this.setLeft(e.left,r),this.setTop(e.top,r),this.setWidth(e.width,n),this.r217(e.height,n)}},getLeft:function(){var e=this.r131().r139("Location"),t=e.getLeft();return null==t&&(t=this.actualObj.offsetLeft),t},getTop:function(){var e=this.r131().r139("Location"),t=e.getTop();return null===t&&(t=this.actualObj.offsetTop),t},r146:function(){var e=this.r131().r139("Shape"),t=e.r146();if(null==t)return this.actualObj.clientWidth;var r=e.unit;return("auto"===t||r&&"px"!==r)&&(t=this.actualObj.clientWidth),t},getHeight:function(){var e=this.r131().r139("Shape"),t=e.getHeight();if(null==t)return this.actualObj.clientHeight;{e.unit}return t},r120:function(){var e=this.r131(),t=e.r139("Location"),r=e.r139("Shape"),n=new Object;return n.left=t.getLeft(),n.top=t.getTop(),n.width=r.r146(),n.height=r.getHeight(),n},r103:function(e){var t=AdlerBase.r103(this.actualObj,0);return t?t:this.r131().getLeft()},r104:function(){var e=AdlerBase.r104(this.actualObj,0);return e?e:this.r131().getTop()},getObjId:function(){return this.actualObj?this.actualObj.getAttribute("id"):""},r240:function(){var e,t=this.actualObj,r=t.getAttribute("id"),n="";if(this.p&&this.p.cHTML){var i=workflow.process["Inline"+t.adlerId].html;
e=[i]}else{var l=t.cloneNode(!1);this.subType&&"img"===this.subType,garbage.appendChild(l);var a=garbage.innerHTML;garbage.innerHTML="",e=a.split("</");var o=this.children;if(o){o.iterator=0;for(var s=o.getNext();s;)n+=s.r240(),s=o.getNext()}else this.p&&this.p.cHTML?n=this.actualObj.innerHTML:this.value.trim()&&(n=this.value)}return"body1"===r?n:(e.length,1===e.length?e[0]:e[0]+n+"</"+e[1])},r65:function(e){var t=null;if(e.hasChildNodes())for(var r=e.firstChild,n="";r;){if(1===r.nodeType){var i="",l=r.nodeName;t=null;var a=r.getAttribute("data-adler");if(a&&(a=JSON.parse(a),t=a.adlerId,n=a.subType,"widget"===n)){workflow.InitLight("Inline"+t,t);{var o=workflow.process["Inline"+t];o.html}o.data&&(i=o.data),o.script&&(i+=o.script)}t||(t=r.getAttribute("data-id"));var s=AdlerBase.parseClass(r),d={},c=new DivViewModel({type:l,objStyleCollection:s,adlerType:"endObject",r66:d,parent:this});c.actualObj=r;for(var u=r.attributes,p=u.length-1;p>-1;p--){var g=u[p],m=g.name;if("id"===m||"draggable"===m||"style"===m||"contenteditable"===m||0===m.indexOf("data-")){if(0===m.indexOf("data-")){var f="id";if("data-adler"===m)f=JSON.parse(g.value);else if("data-id"===m)f={adlerId:g.value};else{if("data-filename"!==m)continue;f={subType:"img",fileName:g.value}}for(var y in f)if(c[y]=f[y],"id"===y)t=f[y];else if("fileName"===y){r.src}}}else"class"===m||(d[g.name]=g.value)}var h=r.getAttribute("id");h||(h=r.nodeName+AdlerBase.r137(),r.setAttribute("id",h)),t||(t=c.getId(),c.setAttribute("data-adler",JSON.stringify({adlerId:t})),console.log("data ids were missing for "+r.getAttribute("id")));var v=AdlerBase.checkDuplicate(h);if(v!==r.id&&(r.id=v),c.id=t,c.actualObj.adlerId=t,Adler.globalCollection.addItem(c),c.p&&c.p.cHTML||c.r65(r),i){for(var w=r.getAttribute("id");i.indexOf("<container>")>-1;)i=i.replace("<container>",w);Adler.r164(i,"jsinline","scriptId",1)}}else 3===r.nodeType&&(this.value=r.data);r=r.nextSibling}}}),AdlerBase.parseClass=function(e){for(var t=new AdlerStyleCollection({}),r=e.getAttribute("class"),n=r.split(" "),i="",l=n.length,a=0;l>a;a++){var o=n[a];if(0!==o.length)for(var s=Adler.sheetJSON.length,d=0;s>d;d++)if(o===Adler.sheetJSON[d].styleClassName){t.r139(Adler.sheetJSON[d].styleType,Adler.sheetJSON[d].styleClassName);var c=Adler.sheetJSON[d].detail;""===c||(i+=c),Adler.sheetJSON.splice(d,1);break}}return t.r13(i),t},AdlerMenuView=AdlerViewModel.extend({classType:"AdlerMenuView",id:0,parent:null,children:null,subMenu:null,name:"adlerMenu",lastInvokedObj:null,eventConfig:null,init:function(e){r157(this,e),e.parent&&this.setParent(e.parent)},defaults:{title:"",actualObj:null,eventConfig:null},r10:function(e){var t=this.actualObj;null==t&&this.r80(),e&&(this.parent?this.parent.r10(e):(resetTopMenu.prepMenu(),null==this.actualObj&&this.r80(),this.actualObj.style.visibility="visible",this.lastInvokedObj=e),r252(e,this))},der10:function(){this.parent?this.parent.der10():this.actualObj.style.visibility="hidden"},setLeft:function(e){this._super(e)},setTop:function(e){this._super(e)},r103:function(){this._super()},r104:function(){this._super()}}),AdlerBase.setParent=function(e,t,r){var n=e.actualObj,i=document.body;if(null!=t){var l=t.r105();i=l;var a=e.parent;null==a&&e.setParent(t);var o=e.r131().r139("Location");"px"==o.unit&&(r||null==a||(e.setLeft(o.left+t.r103()),e.setTop(o.top+t.r104())))}return i.appendChild(n),i},AdlerBase.r47=function(e,t,r,n){var i=AdlerBase.r46(e.objStyleCollection),l=null,a=i.r139("Location");if(null==r){l=e.parent;var o=l.r146(),s=i.r146(),d=i.getHeight(),c=l.r103(),u=l.r104(),p=e.r103(),g=e.r104();r=p+s+15,n=g,r+2>c+o&&(r=p,n=g+15+d),a.left=r,a.top=n}else{l=t;var c=l.r103(),u=l.r104();a.left=c+r,a.top=u+n}var m=new e.constructor({type:e.type,objStyleCollection:i,adlerType:e.adlerType,parent:t,menu:e.menu,value:e.value,name:e.name,menuManager:e.menuManager});if(m.r80(),e.changeable&&(m.changeable=e.changeable),e.fileName||e.filename){var f=e.fileName;f||(f=e.filename),m.fileName=f}var y=e.children;if(y)for(var h=y.getNext();h;){var v=h.parent,w=h.r103()-v.r103(),A=h.r104()-v.r104();AdlerBase.r47(h,m,w,A),h=y.getNext()}return m},AdlerBase.r46=function(e){for(var t=new AdlerStyleCollection({}),r=e.getNext();r;){var n=t.r139(r.styleType),i=n.r136().style,l=r.r136().style;for(var a in r)if("id"!==a&&"styleClassName"!==a&&"rule"!==a){var o=r[a];if(null!=o){var s=typeof o;if("function"!=typeof o&&"object"!==s){n[a]=o;var d=a.replace(/_/g,"-"),c=l[d];c&&i.setProperty(d,c)}}}r=e.getNext()}return t},AdlerBase.r62=function(e){elementInFocus&&AdlerBaseExt.r39({},e);var t=e.children;if(t)for(var r=t.getNext();r;)r.r62(),r=t.getNext();var n=e.actualObj;e.parent&&(e.parent.children.removeItem(e),n&&garbage.appendChild(n),garbage.innerHTML=""),Adler.globalCollection.removeItem(e),e.id=null,e.objStyleCollection.r62(),e=null},AdlerBase.isNumber=function(e,t){return"z_index"===t||"opacity"===t?!1:"boolean"==typeof e?!1:!isNaN(e-0)&&null!==e&&""!==e&&e!==!1},AdlerBase.r137=function(){var e=0;return null!=Adler.seq?(e=Adler.seq,Adler.seq++):e=0,e},AdlerBase.checkDuplicate=function(e){var t=Adler.globalCollection.idArray;t||(Adler.globalCollection.idArray=new Array,t=Adler.globalCollection.idArray);for(var r=e.toUpperCase(),n=t.length-1;n>-1;n--)if(r===t[n]){var i=e+"_"+AdlerBase.r137();return console.log("duplicate id "+e+" found and renamed to "+i),Adler.globalCollection.idArray.push(i.toUpperCase()),i}return Adler.globalCollection.idArray.push(r),e},AdlerBase.isArray=function(e){return null!=e&&"object"==typeof e?"undefined"==typeof e.push?!1:!0:!1},AdlerBase.r103=function(e,t){if(null==e||e===Adler.canvasView.actualObj)return t;var r=e.offsetParent;if(null==r||r===Adler.canvasView.actualObj)return t;var n=e.offsetLeft;return t=n+t,r&&(t=AdlerBase.r103(r,t)),t},AdlerBase.r104=function(e,t){if(null==e||e===Adler.canvasView.actualObj)return t;var r=e.offsetParent;if(null==r||r===Adler.canvasView.actualObj)return t;var n=e.offsetTop;return t=n+t,r&&(t=AdlerBase.r104(r,t)),t},AdlerBase.drawGrid=function(e,t){ctx.closePath();var r=ctx.lineWidth,n=ctx.strokeStyle;ctx.strokeStyle="red",ctx.lineWidth=.1;for(var i=!0,l=Adler.canvas.width,a=Adler.canvas.height,o=0;l>o;o+=20)ctx.beginPath(),ctx.moveTo(o,0),ctx.lineTo(o,a),ctx.stroke(),ctx.closePath(),i?(i=!1,ctx.lineWidth=.25):(i=!0,ctx.lineWidth=.1);i=!0,ctx.lineWidth=.1;for(var o=0;a>o;o+=20)ctx.beginPath(),ctx.moveTo(0,o),ctx.lineTo(l,o),ctx.stroke(),ctx.closePath(),i?(i=!1,ctx.lineWidth=.25):(i=!0,ctx.lineWidth=.1);return ctx.beginPath(),ctx.moveTo(t.x,t.y),ctx.lineWidth=r,ctx.strokeStyle=n,!0},nnn("AdlerBaseExt"),DivViewModel=AdlerViewModel.extend({classType:"DivViewModel",id:0,ops:0,mode:0,menu:null,parent:null,children:null,moveable:!0,name:"adlerDiv",menu:null,init:function(e){this._super(e),this.codeConfig=Adler.codeConfig},r90:function(e){return AdlerBaseExt.tempArray=new Array,Adler.canvas.style["z-index"]=35,this._super(e),AdlerBaseExt.r44(e,this),!0},r87:function(e){return this._super(e),1==this.mode&&AdlerBaseExt.r176(e,this),!0},r91:function(e){if(Adler.canvas.style["z-index"]=1,Adler.pen===Adler.workPen){tFirst=targetArray[0].targetElement;var t=targetArray.length,r=targetArray[t-1].targetElement;return console.log(tFirst.getAttribute("id")+" --- "+r.getAttribute("id")),void 0}for(var n=AdlerBaseExt.tempArray.length-1;n>-1;n--){var i=AdlerBaseExt.tempArray[n][1],l=AdlerBaseExt.tempArray[n][2];i?AdlerBaseExt.tempArray[n][0].style["background-color"]=i:AdlerBaseExt.tempArray[n][0].style.opacity=l?l:"1.0"}if(this.firstChange=!0,1==counter)if(Adler.pen===Adler.carvePen){if(targetElement===Adler.canvas)return;var a=!1;this===AdlerBaseExt.r125()?a=!0:AdlerBaseExt.r202(this);var o=custom.gallery.image.i8(adlerEvent.beginPos.x,adlerEvent.beginPos.y);if("rgb("+o.r+","+o.g+","+o.b+")",menu.submenu.colorPicker.currentColor=menu.submenu.colorPicker.Colors.r2(o.r,o.g,o.b),menu.submenu.colorPicker.r48("box"),a)menu.submenu.colorPicker.syncTestBox();else{if(menu.submenu.colorPicker.colorArray){for(var n=menu.submenu.colorPicker.colorArray.length-1;n>-1;n--)colorDetail=menu.submenu.colorPicker.colorArray[n],garbage.appendChild(colorDetail.colorBall),garbage.appendChild(colorDetail.colorLine),menu.submenu.colorPicker.colorArray.splice(n,1);garbage.innerHTML="",menu.submenu.colorPicker.activeBall=0,menu.submenu.colorPicker.colorArray=null}menu.submenu.colorPicker.r10({invokation:"custom"},targetView)}}else if(Adler.pen===Adler.flowPen){var s=Adler.flowMenu.style;if(targetView===Adler.canvasView)return"table"===s.display&&(s.display="none",Adler.move.style.visibility="hidden"),void 0;s.display="table";var d=adlerEvent.currentPos;if(s.left=d.x+10+"px",s.top=d.y-35+"px",Adler.flowMenu.view=targetView,Adler.move.view=targetView,Adler.copyPage){var c=document.getElementById("flowPaste").style;c.display="block"}var u=Adler.move.style;u.visibility="visible",u.left=targetView.getLeft()-35+"px",u.top=targetView.getTop()-35+"px"}else if(Adler.pen===Adler.dbPen){var p=Adler.dbMenu.style;if(targetView===Adler.canvasView)return"table"===p.display&&(p.display="none",Adler.move.style.visibility="hidden"),void 0;p.display="table";var d=adlerEvent.currentPos;if(p.left=d.x+10+"px",p.top=d.y-35+"px",Adler.dbMenu.view=targetView,Adler.move.view=targetView,Adler.copyPage){var g=document.getElementById("dbPaste").style;g.display="block"}var u=Adler.move.style;u.visibility="visible",u.left=targetView.getLeft()-35+"px",u.top=targetView.getTop()-35+"px"}else if(Adler.pen===Adler.eraserPen){var m=this.name,f=targetView;if(f===Adler.canvasView)return r228("Click on a Box to delete"),void 0;var y=function(){flow.deletePage("redrawFlow",f)},h={title:"Please confirm deletion of "+m,choices:[{text:"Yes",callback:y},{text:"No",callback:function(){Adler.flowPen.onclick()}}]};confirmAction(h)}else{if(Adler.interactive){if(elementInFocus||this.ns)return Adler.interactiveMenu.view=null,Adler.interactiveMenu.style.display="none",void 0;var v=Adler.interactiveMenu.style;v.display="table",Adler.interactiveMenu.view=targetView;var d=adlerEvent.currentPos,w=d.x+15,A=d.y-36;return Adler.drawBoundary&&(w+=Adler.drawBoundary.left,A+=Adler.drawBoundary.top),v.left=w+"px",v.top=A+"px",void 0}AdlerBaseExt.r234(this),clear.r36()}else AdlerBaseExt.r177(e,this),clear.r36();return!0},r178:function(){return 1==this.mode&&11!=this.ops&&(this.mode=0,AdlerBaseExt.r39(!1,this)),!1},r62:function(){Adler.globalCollection.removeItem(this),this._super()},r179:function(e){return AdlerBaseExt.r238(e,this)},r225ue:function(e){this.value=e;var t=this.actualObj;if(t.hasChildNodes())for(var r=t.childNodes,n=0;n<r.length;n++)1==r[n].nodeType&&garbage.appendChild(r[n]),garbage.innerHTML="";t.innerHTML="";for(var i=String.fromCharCode(10),l=e.length,a="",o=!1,n=0;l>n;n++){var s=e.charAt(n);if(s===i){o=!0;var d=document.createElement("div");d.innerHTML=a,t.appendChild(d),a=""}else a+=s}if(o){if(a.length>0){var d=document.createElement("div");d.innerHTML=a,t.appendChild(d)}}else t.innerHTML=a;if(t.hasChildNodes())for(var r=t.childNodes,n=0;n<r.length;n++)if(1==r[n].nodeType){var c=r[n];c.adlerId=this.id}},getValue:function(){var e="",t=this.actualObj;if(t.hasChildNodes())for(var r=t.childNodes,n=0;n<r.length;n++)if(1==r[n].nodeType){var i=r[n],l=i.innerHTML;n>0?e=e+"\r\n"+l:e+=l}else e+=r[n].nodeValue;return e},r111:function(e,t){return t?this._super(e,t):this.actualObj.style[e]},r102:function(){var e=new Object;e.left=this.r103(),e.top=this.r104();var t=this.r131(),r=t.r139("Shape");return e.width=r.r146(),e.height=r.getHeight(),null==e.width&&(e.width=this.actualObj.clientWidth),null==e.height&&(e.height=this.actualObj.clientHeight),e},r210:function(e){var t=this.r131().r139("Border");t.r210(e);var r=t.r109().toFixed(2)+t.r145();this.actualObj.style["-webkit-border-top-left-radius"]=r},r211:function(e){var t=this.r131().r139("Border");t.r211(e);var r=t.r110().toFixed(2)+t.r145();this.actualObj.style["-webkit-border-top-right-radius"]=r},r208:function(e){var t=this.r131().r139("Border");t.r208(e);var r=t.r107().toFixed(2)+t.r145();this.actualObj.style["-webkit-border-bottom-left-radius"]=r},r209:function(e){var t=this.r131().r139("Border");t.r209(e);var r=t.r108().toFixed(2)+t.r145();this.actualObj.style["-webkit-border-bottom-right-radius"]=r},r206:function(e){var t=this.r131().r139("Background");t.r206(e),this.actualObj.style["background-image"]=e,e.indexOf("url")>-1&&(t.background_size="100% 100%",this.actualObj.style["background-size"]="100% 100%")},r205:function(e){var t=this.r131().r139("Background");t.r205(e),this.actualObj.style["background-color"]=e}}),AdlerGeneralMenuView=AdlerMenuView.extend({classType:"AdlerGeneralMenuView",name:"adlerGeneralMenu",r225ue:function(e){this._super(e),this===gMenu1&&Adler.lastSubMenu&&Adler.lastSubMenu.der10()}}),AdlerBaseExt.r44=function(e,t){var r=e.r119();if(0!=t.mode){if(11==t.ops)return t.ops=22,void 0;var n=t.r103(),i=t.r104(),l=t.r146(),a=t.getHeight(),o=15,s=15;40>a&&(s=10),40>l&&(o=10);var d=n+l,c=i+a;if(Math.abs(d-r.x)<o)return Math.abs(r.y-c)<s&&a>20?(elementInFocus.style.cursor="nw-resize",t.ops=3,r228("Round All Corners"),void 0):Math.abs(r.y-i)<s&&a>20?(elementInFocus.style.cursor="sw-resize",t.ops=4,r228("Round Top Corners Only"),void 0):(elementInFocusPoints.w=l,elementInFocus.style.cursor="e-resize",t.ops=1,r228("Change Width"),AdlerBase.drawGrid(ctx,r));if(Math.abs(c-r.y)<s&&r.x<d&&r.x>n)return elementInFocusPoints.h=a,elementInFocus.style.cursor="s-resize",t.ops=2,r228("Change Height"),AdlerBase.drawGrid(ctx,r);if(r.x<d&&r.x>n){if(r.y<c&&r.y>i)return t.ops=6,elementInFocus.style.cursor="move",elementInFocusPoints.left=t.getLeft(),elementInFocusPoints.top=t.getTop(),elementInFocusPoints.eoffx=r.x-elementInFocusPoints.left,elementInFocusPoints.eoffy=r.y-elementInFocusPoints.top,AdlerBase.drawGrid(ctx,r);t.ops=99}else ops=99}},AdlerBaseExt.deleteElement=function(e){var t=e.getObjId();if("body1"!==t){var r={title:"Please confirm deletion of "+t,choices:[{text:"Yes",callback:function(){AdlerBaseExt.r39(!1,e),e.r62(),r228("view "+e.getObjId()+" deleted"),setTimeout(Adler.j6,700)}},{text:"No",callback:function(){}}]};confirmAction(r),AdlerBaseExt.r39(!1,e);for(var n=Adler.activeMenus,i=!1,l=n.length;l>-1;l--){var a=n[l];(a===Adler.selectDiv1||a===Adler.selectDiv2)&&(i=!0,n.splice(l,1))}}},AdlerBaseExt.r202=function(e){if(!e.ns&&e!==Adler.canvasView){if(elementInFocus){var t=e.mode,r=Adler.globalCollection.getItem(elementInFocus.adlerId);AdlerBaseExt.r39(!1,r),e.mode=t}elementInFocus=e.r105(),AdlerBaseExt.r171(e),r228(e.getObjId()+" selected")}},AdlerBaseExt.r171=function(e){var t=e.type;elementInFocus=e.r105(),viewInFocus=e,elementInFocusPoints.left=e.getLeft(),elementInFocusPoints.top=e.getTop(),Adler.copyBuffer=[{objectId:e.getObjId(),dataId:e.getId()}],e.dirty=!1;var r=AdlerBaseExt.r15(e);r.style.visibility="visible",r.selectedView=viewInFocus,Adler.selectDiv2.style.visibility="visible",Adler.interactive?(Adler.increaseHeight.style.visibility="visible",Adler.increaseWidth.style.visibility="visible",Adler.move.style.visibility="visible",Adler.roundedCorner.style.visibility="visible"):r151("visible");for(var n=Adler.hiddenMenus.length;n>-1;n--){var i=Adler.hiddenMenus[n];(i===Adler.selectDiv1||i===Adler.selectDiv2)&&Adler.hiddenMenus.splice(n,1)}Adler.activeMenus.push(Adler.selectDiv1),Adler.activeMenus.push(Adler.selectDiv2),Adler.activeMenus.push(Adler.increaseHeight),Adler.activeMenus.push(Adler.increaseWidth),Adler.activeMenus.push(Adler.move),Adler.activeMenus.push(Adler.roundedCorner),Adler.interactive||2===Adler.mode||9===Adler.mode?t="event":Adler.movePen.onclick.apply(null,[]),Adler.interactive||(Adler.r252(e,[menu.allMenus.searchContainer]),menuSrch.showMenu(t))},AdlerBaseExt.r176=function(e,t){var r=e.currentPos,n=e.beginPos;switch(t.ops){case 0:break;case 1:if(t.setWidth(elementInFocusPoints.w+(r.x-n.x)),t.group)for(var i=t.group,l=i.length-1;l>-1;l--){var a=i[l];a.setWidth(elementInFocusPoints.w+(r.x-n.x))}break;case 2:var o=t.getHeight();if(t.r217(elementInFocusPoints.h+(r.y-n.y)),t.group)for(var i=t.group,l=i.length-1;l>-1;l--){var a=i[l];a.r217(elementInFocusPoints.h+(r.y-n.y))}break;case 3:var s=n.y-r.y,d=n.x-r.x;s>d?(t.r210(d),t.r211(d),t.r208(d),t.r209(d)):(t.r210(s),t.r211(s),t.r208(s),t.r209(s));break;case 4:var s=r.y-n.y,d=n.x-r.x,c=0;c=s>d?d:s,t.r210(s),t.r211(s);break;case 5:break;case 6:if(t.moveable&&(t.setLeft(r.x-elementInFocusPoints.eoffx),t.setTop(r.y-elementInFocusPoints.eoffy),t.group))for(var i=t.group,l=i.length-1;l>-1;l--){var a=i[l];a.setLeft(r.x-elementInFocusPoints.eoffx),a.setTop(r.y-elementInFocusPoints.eoffy)}break;case 11:var u=r.x-elementInFocusPoints.menuEp.x,p=r.y-elementInFocusPoints.menuEp.y,g=elementInFocusPoints.menuEp.w,o=elementInFocusPoints.menuEp.h,m=Math.floor(18*u/g),f=Math.floor(24*p/o);if(0>m||0>f||m>23||f>17)return elementInFocusPoints.touchx=r.x,elementInFocusPoints.touchy=r.y,void 0;var y=swatchArray[f][m];elementInFocus.style.backgroundColor=y,elementInFocusPoints.touchx=r.x,elementInFocusPoints.touchy=r.y}},AdlerBaseExt.r177=function(e,t){if(elementInFocus&&(Adler.dirty=!0,elementInFocus.style.cursor="default",AdlerBaseExt.r202(t),Adler.interactive))return setTimeout(Adler.j6,200),void 0;if(Adler.interactive){if(Adler.pen!==Adler.storePen&&Adler.pen!==Adler.eraserPen)return identify.r257(e);if(Adler.pen===Adler.eraserPen){var r=e.targetHTML.view,n=r.name;if("adlerDiv"===n)return r228("Need to Start from a page"),void 0;var i=AdlerBaseExt.r148(e.currentPos.x,e.currentPos.y);i&&(i=i[0]);var l=i.name;if("adlerDiv"==l)return r228("Need to End In a page"),void 0;for(var a=Adler.flow[Adler.layout].pages,o=a.length-1;o>-1;o--){var s=a[o];if(s.pageName===n)for(var d=s.href.length-1;d>-1;d--){var c=s.href[d];if(c===l)return s.href.splice(d,1),Adler.dirty=!0,Adler.flow.dirty=!0,Adler.flowPen.onclick(),flow.redraw(),r228("Link Removed -"+n+" - "+l),Adler.j6(),void 0}}return}}else{if(Adler.pen===Adler.drawPen||Adler.pen===Adler.knifePen||Adler.pen===Adler.carvePen)return identify.r257(e);if(2===Adler.mode){var u=targetView.r131(),p=u.animationArray,g=p.length-1;if(1>g){if(0>g)return alert("something wrong, the animation array wasn't filled up"),void 0;g=1}if(u.r14(g),6==t.ops){for(var m=new Array,d=0,f=path.length,o=0;f>o;o+=2)m[d]={x:path[o][0]-elementInFocusPoints.eoffx,y:path[o][1]-elementInFocusPoints.eoffy},d++;p[g].path=m}}}if(6==t.ops){var y=t.getLeft()-elementInFocusPoints.left,h=t.getTop()-elementInFocusPoints.top;t.absoluteLeft=y+t.absoluteLeft,t.absoluteTop=h+t.absoluteTop,AdlerBaseExt.setAbsoluteRecursive(t,y,h);var v=t.parent,w=AdlerBaseExt.n1(t);w.length>0&&w[0]!==v&&t.setParent(w[0]),r228("Change Location")}return t.ops<7&&t.ops>0&&(t.r120(),AdlerBaseExt.r15(t)),22==t.ops?(identify.r257(e),t.ops=11,void 0):void 0},AdlerBaseExt.setAbsoluteRecursive=function(e,t,r){var n=e.children;if(n)for(var i=n.getNext();i;)i.absoluteLeft=i.absoluteLeft+t,i.absoluteTop=i.absoluteTop+r,AdlerBaseExt.setAbsoluteRecursive(i,t,r),i=n.getNext()},AdlerBaseExt.r234=function(e){var t=Adler.selectDiv1.selectedView;if(null==t||t!==e)e.ns?t?AdlerBaseExt.r39(!1,t):r228("base can't be selected"):(e.mode=1,AdlerBaseExt.r202(e));else if(t&&t===e){if(2===Adler.mode){var r=targetView.r131(),n=r.animationArray[0],i=document.createElement("div");i.setAttribute("style",n.css),r.r13(i),r228("animation recorded")}AdlerBaseExt.r39(!1,e),e.mode=0}return!1},AdlerBaseExt.r238=function(e,t){if(Adler.trace&&console.log("entering r179 - pattern- code - "+e.patternCode),Adler.pen===Adler.flowPen)return flow.draw(e,t),void 0;if(Adler.pen==Adler.dbPen)return DB.draw(e,t),void 0;if(22==t.ops)menu.submenu.colorPicker.patternGradient(e,e.event);else if(0==t.mode)if(30==e.patternCode){if(4===Adler.mode)return menu.submenu.workflow.link(e,targetArray),void 0;if(9===Adler.mode)return AdlerBaseExt.r26(e,t),void 0;var r=!0;("N"===e.r64||"S"===e.r64)&&(r=!1);for(var n=targetArray,i=new Array,l=n.length-1,a=new Array,o=0;l>o;o++){var s=n[o].targetElement,d=.9,c=r22(n[o].pos.x,n[o+1].pos.x,n[o].pos.y,n[o+1].pos.y);s.getAttribute("data-class");var u=s.adlerId,p=Adler.globalCollection.getItem(u),g=p.r146(),m=p.getHeight();"string"==typeof m&&m.indexOf("px")>-1&&(m=parseInt(m.substring(0,m.length-2)));var f=p.r103(),y=p.r104();r?(d=c/g,n[o].pos.x=f,n[o].pos.y=e.line.y):(d=c/m,n[o].pos.x=e.line.x,n[o].pos.y=y),d>.08&&c>10?i.push({tView:p,d:c,ratio:d,pos:n[o].pos,line:e.line}):!r&&11>c&&d>.1?i.push({tView:p,d:c,ratio:d,pos:n[o].pos,line:e.line}):a.push({tView:p,d:c,ratio:d,pos:n[o].pos,line:e.line})}if(l=i.length,0===l&&a.length>0&&(i=a),i[0].ratio<.75){if(l>1){var h=0;h=r?i[0].tView.getTop():i[0].tView.getLeft();var v=i[0].tView,w=v.parent,A=v,b=v.type.toLowerCase();if(null==parent)return;for(var x=1,S=0,o=1;l>o;o++){var k=i[o].tView;if(k!==w){"button"===b&&k.type.toLowerCase()===b&&k.setWidth(v.r146()),r?k.setTop(h):k.setLeft(h);var T=A.r120(),I=k.getLeft();x>1?r&&(I=T.left+T.width+S,k.setLeft(I)):r&&(S=I-(T.left+T.width)),x++,A=k}}}else if(r){var P=AdlerBaseExt.r19(e,t);if(Adler.interactive){if(Adler.pen===Adler.textPen)return;var C=document.getElementById("widgetChoice");C.style.display="block",document.getElementById("decision").view=P}}}else if(Adler.pen===Adler.knifePen)for(var o=0;l>o;o++){var E,B=i[o].tView,j=B.r131().r139("Location");"static"===j.position&&(E="left"===j.float?{x:!0}:{y:!0});var O=!0;E&&("E"===e.r64||"W"===e.r64?E.y&&(O=!1):E.x&&(O=!1)),AdlerBaseExt.r232(B,e.line,O)}else{var P=AdlerBaseExt.r19(e,t);if(Adler.interactive){if(Adler.pen===Adler.textPen)return;AdlerBaseExt.customize(P)}}}else if(e.view.r80(t),Adler.interactive){if(Adler.pen===Adler.textPen)return;AdlerBaseExt.customize(e.view)}return!0},AdlerBaseExt.r26=function(e,t){var r=e.r64,n=e.line;if(2===r.length||"E"===r||"W"===r){var i=n.x<n.x2?n.x:n.x2,l=n.y<n.y2?n.y:n.y2,a=Math.abs(n.x-n.x2),o=Math.abs(n.y-n.y2),s=i+a/2,d=l+o/2,c=AdlerBaseExt.r148(s,d),u=c[0],p=u.r146(),g=u.getHeight(),m=100*a/p,f=100*o/g;if(Math.abs(p-a)<25&&Math.abs(g-o)<25||m>80&&120>m&&f>80&&120>f)custom.gallery.image.cropImage.r10({},u);else{var y={x:i,y:l,r64:e.r64},h=AdlerBaseExt.getType(),v=AdlerBaseExt.r53({x:i-2,y:l-2,w:a+4,h:o+5,view:t,ln:y,type:h,dontDraw:!1,border:!0});if("button"===h||"span"===h){AdlerBaseExt.r202(v),menu.generic.editText.r10(null,v);var w=custom.gallery.image.fontDetails(v.r102());if(w.fontSize>0){var A="rgb("+w.color.r+","+w.color.g+","+w.color.b+")";v.r213("font-size",w.fontSize,"Text"),v.r213("color",A,"Text")}}}}else if("N"===r||"S"===r){var v=AdlerBaseExt.r93(e.line,t),h=AdlerBaseExt.getType();if("button"===h||"span"===h){AdlerBaseExt.r202(v),menu.generic.editText.r10(null,v);var w=custom.gallery.image.fontDetails(v.r102());if(w.fontSize>0){var A="rgb("+w.color.r+","+w.color.g+","+w.color.b+")";v.r213("font-size",w.fontSize,"Text"),v.r213("color",A,"Text")}}}Adler.mode=0,clear.r36(),Adler.carvePen.onclick.apply(null,[])},AdlerBaseExt.getType=function(){return Adler.objectType.toLowerCase()},AdlerBaseExt.r19=function(e,t){var r=Math.abs(e.line.y-e.line.y2);25>r&&(r=25);var n=Math.abs(e.line.x2-e.line.x);25>n&&(n=25);var i=AdlerBaseExt.n1(null,{left:e.line.x,top:e.line.y,width:n,height:1});i[0]!==t&&(t=i[0]);var l=AdlerBaseExt.getType(),a=e.line.x2>e.line.x?e.line.x:e.line.x2,o=e.line.y2>e.line.y?e.line.y:e.line.y2,s=new ObjStyle({left:a,top:o,position:"absolute",styleType:"Location"}),d=new ObjStyle({width:n,height:r,visibility:"visible",z_index:1,styleType:"Shape"}),c=new ObjStyle({border_width:1,border_style:"solid",border_color:"rgb(229,229,229)",unit:"px",styleType:"Border"}),u=new AdlerStyleCollection({adlerObject:s});if(u.addItem(d),Adler.pen===Adler.knifePen){if(c=new ObjStyle({border_width:1,border_style:"solid",border_color:"rgb(229,229,229)",unit:"px",box_shadow:"4px 4px 4px gray",styleType:"Border"}),"span"===l){u.addItem(c);var p=new ObjStyle({text_shadow:"2px 2px gray",font_weight:"bold","text-align":"center",styleType:"Text"});u.addItem(p)}}else Adler.pen===Adler.textPen&&(Adler.objectType="span",l="span");"span"!==l&&u.addItem(c);var g=new DivViewModel({type:l,objStyleCollection:u,adlerType:"endObject"});return g.r80(t),"button"===l?g.r225ue("type name"):"span"===l&&(Adler.interactive||AdlerBaseExt.r202(g),menu.generic.editText.r10(null,g)),g},AdlerBaseExt.r53=function(e){var t=e.x,r=e.y,n=e.w,i=e.h,l=e.view,a=e.ln,o=e.type,s=e.dontDraw,d=e.border;Adler.trace&&console.log("entering CreateDiv - line x- "+a.x+" y- "+a.y+" r64 - "+a.r64);var c,u,p,g={left:t,top:r,position:"absolute",styleType:"Location"};e.static&&(g.position="static"),e.float&&(g.float=e.float),c=new ObjStyle(g);var m=new AdlerStyleCollection({adlerObject:c});u=new ObjStyle({width:n,height:i,visibility:"visible",z_index:1,styleType:"Shape"}),m.addItem(u),d&&(p=a.r64?new ObjStyle({border:"1px solid rgb(229,229,229)",unit:"px",styleType:"Border"}):new ObjStyle({border:"1px dotted rgb(229,229,229)",unit:"px",styleType:"Border"}),m.addItem(p));var f={},y="div";o&&(y=o);var h=new DivViewModel({type:y,objStyleCollection:m,adlerType:"endObject",parent:l,r66:f});return s||(e.insertAfter?h.r80(null,!1,e.insertAfter):h.r80()),h.type=o,h},AdlerBaseExt.r232=function(e,t,r){var n,i,l,a;n=e.r103(),i=e.r104();var o,s,l=e.r146(),a=e.getHeight(),d="div",c=e.parent;if("E"===t.r64||"W"===t.r64){if(null==c||r){chopBody=!0,c=e;var u=t.y-i;o=AdlerBaseExt.r53({x:n,y:i,w:l,h:u,view:e,ln:t,type:d,dontDraw:!1,border:!1,"static":!0}),o.r213("border-bottom","1px solid rgb(229,229,229)","Border")}else{o=e,e.r217(t.y-i-2);for(var p=o.r131(),g=!1,m=p.getNext();m;)"Border"===m.styleType&&(g=!0),m=p.getNext();g||o.r213("border-bottom","1px solid rgb(229,229,229)","Border")}var f=i+a-t.y-1,y=c.children;y.lastObject===o?s=AdlerBaseExt.r53({x:n,y:t.y,w:l,h:f,view:c,ln:t,type:d,dontDraw:!1,border:!1,"static":!0}):(s=AdlerBaseExt.r53({x:n,y:t.y,w:l,h:f,view:c,ln:t,type:d,dontDraw:!1,border:!1,"static":!0,insertAfter:o}),s.r213("border-bottom","1px solid rgb(229,229,229)","Border"))}else{if(null==c||r){chopBody=!0,c=e;var h=t.x-n;o=AdlerBaseExt.r53({x:n,y:i,w:h,h:a,view:e,ln:t,type:d,dontDraw:!1,border:!1,"static":!0,"float":"left"}),o.changeable={x:n},o.r213("border-right","1px solid rgb(229,229,229)","Border")}else{o=e,e.setWidth(t.x-n-1);for(var p=o.r131(),g=!1,m=p.getNext();m;)"Border"===m.styleType&&(g=!0),m=p.getNext();g||o.r213("border-right","1px solid rgb(229,229,229)","Border")}var v=n+l-t.x-1,y=c.children;y.lastObject===o?s=AdlerBaseExt.r53({x:t.x,y:i,w:v,h:a,view:c,ln:t,type:d,dontDraw:!1,border:!1,"static":!0,"float":"left"}):(s=AdlerBaseExt.r53({x:t.x,y:i,w:v,h:a,view:c,ln:t,type:d,dontDraw:!1,border:!1,"static":!0,"float":"left",insertAfter:o}),s.r213("border-right","1px solid rgb(229,229,229)","Border"))}},AdlerBaseExt.r39=function(e,t,r,n){if(Adler.selectDiv1.style.visibility="hidden",Adler.selectDiv1.selectedView=null,Adler.selectDiv2.style.visibility="hidden",Adler.editor.blinkCursor.style.visibility="hidden",Adler.editor.active&&menu.generic.editText.der10(),Adler.interactive&&(Adler.increaseHeight.style.visibility="hidden",Adler.increaseWidth.style.visibility="hidden",Adler.move.style.visibility="hidden",Adler.roundedCorner.style.visibility="hidden"),null!=elementInFocus&&(elementInFocus.style.cursor="default",t)){if(t.dirty&&(Adler.dirty=!0,t.dirty=!1),r)for(var i=Adler.globalCollection,l=i.getNext();l;)l.actualObj===r&&(t=l,i.interator=0),l=i.getNext();if(t!==Adler.canvasView){var a=Adler.hiddenMenus,o=[Adler.selectDiv1,Adler.selectDiv2];Adler.interactive&&(o.push(Adler.increaseHeight),o.push(Adler.increaseWidth),o.push(Adler.move),o.push(Adler.roundedCorner)),t.ops>10&&(t.ops=0,o.push(document.getElementById("colorPicker")));for(var s=!1,d=a.length;d>-1;d--)for(var c=a[d],u=o.length-1;u>-1;u--){var p=o[u];if(c===p){s=!0,a.splice(d,1),o.splice(u,1);break}}Adler.interactive||(menuSrch.txtSearch.value="",menuSrch.r194(),Adler.dom.searchDiv.style.top="5%",Adler.dom.searchDiv.style.left="75%",r151("hidden")),Adler.activeMenus=new Array,n||Adler.defaultPen.onclick.apply(null,[]),elementInFocus=null,elementInFocusPoints.left=null,elementInFocusPoints.top=null,t.mode=0,t.ops=0}}},AdlerBaseExt.r125=function(){if(elementInFocus)return Adler.globalCollection.getItem(elementInFocus.adlerId);var e,t=Adler.canvasView.actualObj,r=t.firstChild;return r&&1===r.nodeType&&(e=r.getAttribute("id")),e&&0===e.indexOf("body")?Adler.globalCollection.getItem(r.adlerId):Adler.canvasView},Adler.codeConfig={r100:function(e){var t=e.view,r="\r\n   ",n=r,i=1;if(e.level){i=e.level;for(var l=0;i>l;l++)n+="    "}var a=t.actualObj.getAttribute("id"),o=n+"<"+t.type+' id="'+a+'"';for(name in t.r66){var s=t.r66[name];s&&s.length>0&&(o=o+" "+name+'="'+s+'"')}o+=">";var d=r+"#"+a+" {";d+=t.r131().r140(),d=d+r+"}";var c=t.children;if(c)for(var u=c.getNext();u;){var p=u.r100({level:i+1});o+=p.html,d+=p.css,u=c.getNext()}return o=o+n+"</"+t.type+">",{html:o,css:d}}},AdlerBaseExt.r148=function(e,t){Adler.trace&&console.log("getting the target element AdlerBaseExt.r148 ");var r=new Array,n=Adler.globalCollection.objectArray;for(var i in n)if("DivViewModel"===n[i].classType){var l=n[i].r102();if(AdlerBaseExt.r155(e,t,l)){var a=!0;if(r.length>0){var o=r[0].r120();o.width>l.width||o.height>l.height?r.pop():a=!1}a&&r.push(n[i])}}return r},AdlerBaseExt.r155=function(e,t,r){var n=r.left+r.width,i=r.top+r.height;return e>r.left&&t>r.top&&n>e&&i>t?!0:!1},AdlerBaseExt.r147=function(e,t){Adler.trace&&console.log("getting the target element AdlerBaseExt.r147 ");
var r=e.r102(),n=new Array,i=Adler.globalCollection.objectArray;if(null==i)return n;for(var l=i.length-1;l>0;l--){var a=i[l];if(a!==e&&(!t||a.parent!==e)&&"DivViewModel"===a.classType){var o=a.r102();AdlerBaseExt.r258(r,o)&&n.push(a)}}new Array;var s=n.length,d=function(e){if(!e.children||0===e.children.objectArray.length)return 0;for(var t=[],r=s-1;r>-1;r--){var i=n[r];if(i&&i.parent||alert(1),i!==e&&i.parent===e){for(var l=d(i),a=r,o=l.length-1;o>-1;o--){var c=l[o];t.push(c),a>c&&r--}n.splice(r,1),s--,t.push(r)}}return t};if(s>0){var e=n[s-1];d(e)}return n},AdlerBaseExt.r258=function(e,t){return t.left>e.left&&t.top>e.top&&t.left+t.width<e.width+e.left&&t.height+t.top<e.height+e.top?!0:void 0},AdlerBaseExt.n1=function(e,t){Adler.trace&&console.log("getting the target element AdlerBaseExt.r147 ");var r=t;t||(r=e.r102());var n=new Array,i=Adler.globalCollection.objectArray;if(null==i)return n;for(var l=new Array,a=i.length-1;a>0;a--){var o=i[a];if(o!==e&&"DivViewModel"===o.classType){var s=o.r102();if(AdlerBaseExt.n2(r,s)){n.push(o);var d=s.height*s.width;l.push(d)}}}for(var c=l[l.length-1],u=l.length-2;u>-1;u--){var d=l[u];d>c?(l.splice(u,1),n.splice(u,1)):(l.splice(u+1,1),n.splice(u+1,1),c=d)}return n},AdlerBaseExt.n2=function(e,t){return t.left<e.left&&t.top<e.top&&t.left+t.width>e.width+e.left&&t.height+t.top>e.height+e.top?!0:void 0},AdlerBaseExt.ObjectHandler={r117:function(e){var t={};if("object"==typeof e)for(prop in e)if("function"!=typeof e[prop])if(e[prop]){if("defaults"===prop||"codeConfig"===prop)continue;if("children"===prop){if(e.children){for(var r=e.children,n=new Array,i=r.getNext();i;)n.push(i.getId()),i=r.getNext();t.children=n}else t.children=null;continue}if("objStyleCollection"===prop){t.objStyleCollection=e.objStyleCollection.r140();continue}t[prop]="actualObj"===prop?e.actualObj.innerHTML:"object"==typeof e[prop]&&e[prop].__isArray?this.r116(e[prop]):"object"==typeof e[prop]?this.r117(e[prop]):e[prop]}else t[prop]=null;return t},r116:function(e){for(var t=[],r=0;r<=e.length;r++)"object"==typeof e[r]?t.push(this.r117(e[r])):t.push(e[r]);return t},rollBack:function(e,t){var r=!1;for(prop in t)switch(prop){case"actualObj":var n=t.actualObj;!r&&n&&(r=!0,e.actualObj=n.innerHTML);break;case"children":t.children||(e.children=null);break;case"objStyleCollection":var n=t.actualObj;r||(n&&(e.actualObj=n,o.r13(e.actualObj),e.objStyleCollection=o),r=!0);break;default:e[prop]=t[prop]}}},AdlerBaseExt.r15=function(e){e.r131().r139("Shape");var t=Adler.selectDiv1,r=Adler.selectDiv2,n=e.r102();if(Adler.drawBoundary&&(n.left=n.left+Adler.drawBoundary.left,n.top=n.top+Adler.drawBoundary.top),t.style.top=n.top-1+"px",t.style.height=n.height+2+"px",r.style.left=n.left-1+"px",r.style.width=n.width+2+"px","span"===e.type.toLowerCase()||"button"===e.type.toLowerCase()){var i=Adler.editor.blinkCursor;i.style.visibility="visible",i.style.left=n.left+5+"px",i.style.top=n.top+2+"px"}if(Adler.editor.active=!1,Adler.interactive){var l=45,a=80,o=n.top+n.height/2-l,s=n.left+n.width/2-l,d=n.top+n.height-a,c=n.left+n.width-a,u=s,p=d,g=c,m=o,f=c+40;if(roundY=d+40,10>p-(o+a)&&(p=o+a+10),10>g-(s+a)&&(g=s+a+10),12>roundY-(m+l)){var y=roundY;roundY=m+l+15;var h=roundY-y;f+=h}if(12>f-(u+a)){var y=f;f=u+a+15;var h=f-y;roundY+=h}var v=Adler.increaseHeight.style;v.left=u+"px",v.top=p+"px";var w=Adler.increaseWidth.style;w.left=g+"px",w.top=m+"px",Adler.move=document.getElementById("move");var A=Adler.move.style;A.left=s+"px",A.top=o+"px";var b=Adler.roundedCorner.style;b.left=f+"px",b.top=roundY+"px"}return t},AdlerBaseExt.tempArray=new Array,AdlerBaseExt.r165=function(e){if(e!==Adler.canvas&&e!==document.body){var t=e.style["background-color"],r=e.style["background-image"];if(t||r){var n=AdlerBaseExt.tempArray.length;AdlerBaseExt.tempArray[n]=new Array(3),AdlerBaseExt.tempArray[n][0]=e,AdlerBaseExt.tempArray[n][1]=t,AdlerBaseExt.tempArray[n][2]=e.style.opacity,t?e.style["background-color"]="transparent":e.style.opacity="0.3"}var i=e.parentNode;null!=i&&AdlerBaseExt.r165(i)}},AdlerBaseExt.r93=function(e,t){var r=custom.gallery.image.i6(e),n=AdlerBaseExt.getType(),i=Adler.canvasView;t&&(i=t);var l=AdlerBaseExt.r53({x:r.x,y:r.y,w:r.w,h:r.h,view:i,ln:{r64:"E"},type:n,dontDraw:!1,border:!0});return l},AdlerBaseExt.customize=function(e){if("span"===e.type.toLowerCase())return menu.generic.editText.r10({},e),void 0;document.getElementById("decision").view=e;var t=e.getId(),r=null;if(Adler.page.widgets)for(var n=Adler.page.widgets.length-1;n>-1;n--){var i=Adler.page.widgets[n];if(i.id===t){r=i;break}}if(!r){var l=document.getElementById("widgetChoice");return l.style.display="block",document.getElementById("decision").view=e,void 0}var a=e.actualObj.getAttribute("data-adler");r.p=JSON.parse(a).p;var o={widgetType:r.type,examplePage:"/Customization/"+r.type+".html"},s=e.r120(),d=1,c=localStorage["adler-"+o.examplePage+"-input"];if(c?(c=JSON.parse(c),c.dimension=s,c.useStore=r.store):c={useStore:r.store,dimension:s,usageCount:d,widgetType:o.widgetType},c.specific={},r.specific)c.specific=r.specific;else if("button"===r.type){var u=e.actualObj.firstElementChild,p=u.getAttribute("onclick");p&&(p=p.split("'")[1],c.specific.onclick=p);var g=u.innerHTML;c.specific.title=g}c.sampleId=r.sampleId;for(var m=Adler.page.pageName,f=new Array,y=Adler.flow[Adler.layout].pages.length-1;y>-1;y--){var h=Adler.flow[Adler.layout].pages[y];h.pageName!==m&&f.push(h.pageName)}c.pages=f,localStorage["adler-"+o.examplePage]="",localStorage["adler-"+o.examplePage+"-input"]=JSON.stringify(c),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.host);var v=window.location.origin+o.examplePage,w=window.open(v);setTimeout(function(){Adler.decisionWidget(w,"adler-"+o.examplePage)},2e3),e.actualObj&&(e.actualObj.innerHTML="")},AdlerBaseExt.deleteWidget=function(e){for(var t=Adler.page.widgets.length-1;t>-1;t--){var r=Adler.page.widgets[t];if(r.id===e.id)return Adler.page.widgets.splice(t,1),void 0}},nnn("AdlerBaseMenuExt"),AdlerBaseMenuExt.menuCollection=new AdlerCollection({}),AdlerBaseMenuExt.menuCollection.r189=function(e,t){if(e instanceof HTMLElement){var r=Adler.getNextId();e.adlerId=r,e.getId=function(){return r};var n=t;null==n&&(n={actualObj:e,pos:null,menuPos:null,r90:function(e){this.pos=e.currentPos,r241=function(e){var t=e.parentNode;return t=t!==Adler.canvasView.actualObj&&t!==Adler.canvasView.actualObj.parentNode?r241(t):e};var t=e.targetModel;if(!(t instanceof HTMLElement))return!0;t=r241(t),this.actualObj=t;var r=e.currentPos.x,n=e.currentPos.y;this.menuPos={x:r,y:n}},r87:function(e){var t=e.currentPos,r=t.x-this.pos.x,n=t.y-this.pos.y,i=this.menuPos.x+r,l=this.menuPos.y+n;this.actualObj.style.left=i+"px",this.actualObj.style.top=l+"px"},r91:function(){return!0}}),n.r90&&(e.r90=n.r90),n.r87&&(e.r87=n.r87),n.r91&&(e.r91=n.r91),AdlerBaseMenuExt.menuCollection.addItem(e)}},AdlerBaseMenuExt.r168=function(e,t,r){if(e.style[t]=r,"visible"===r&&"none"===e.style.display&&(e.style.display="block"),e.hasChildNodes())for(var n=e.firstChild;n;)1===n.nodeType&&AdlerBaseMenuExt.r168(n,t,r),n=n.nextSibling},AdlerBaseMenuExt.r184=function(e){for(var t=Adler.activeMenus.length-1;t>-1;t--)if(Adler.activeMenus[t]===e){Adler.activeMenus.splice(t,1);break}},AdlerBaseMenuExt.MenuItem=AdlerClass.extend({id:0,classType:"MenuItem",name:"",icon:null,color:null,actualObj:null,liSize:{w:25,h:25},parent:null,init:function(e){var t=this;for(var r in e)t[r]=e[r];if(0==this.id&&(this.id=Adler.getNextId()),this.parent&&this.parent.children.addItem(this),e.childIds){var n=this;n.childIds=AdlerBaseMenuExt.addLeaf(e.childIds),this.eventConfig={r91:function(){AdlerBaseMenuExt.menuCollection.deactivate(),menu.generic.r10(AdlerBaseExt.r125(),n.childIds)}}}e.menuObj=this},r90:function(e){return menu.generic.r150(this),this.eventConfig&&this.eventConfig.r90?this.eventConfig.r90(e):!0},r87:function(e){return this.eventConfig&&this.eventConfig.r87?this.eventConfig.r87(e):!0},r91:function(e){return menu.generic.r244(this.view),this.eventConfig&&this.eventConfig.r91?this.eventConfig.r91(e):!0},r80:function(e){var t=this;if(null==t.actualObj){var r=document.createElement("li"),n=AdlerBase.r137();r.id="Menu"+n;var i=this.getId(),l="list-style:none; height:"+this.liSize.h+"px; padding:2px;width:15px;";r.setAttribute("style",l),t.actualObj=r;var a=document.createElement("a");a.setAttribute("href","#"),a.adlerId=i;var o="height:"+this.liSize.h+"px;width:"+this.liSize.w+"px;display:block;position:relative;padding:0 10px;overflow:visible;text-decoration:none;margin-left:5px;background-position:0px 3px;";if(this.icon&&(o=o+"background:url('"+this.icon+"') no-repeat;"),a.setAttribute("style",o),null==this.menuType||"gallery"!=this.menuType){var s=document.createElement("span"),d="width:68px;left:24px;padding:0;position:absolute;overflow:hidden;font-family:cursive, 'Myriad Pro',Arial, Helvetica, sans-serif;font-size:11px;font-weight:bold;letter-spacing:0.6px;white-space:nowrap;line-height:25px;text-align:center;";this.color&&(d+=this.color),s.setAttribute("style",d),s.adlerId=i,s.innerHTML=this.name,a.appendChild(s)}if(r.appendChild(a),null!=e)return e.ul.appendChild(r),a.style["background-size"]="100%",a.style["-webkit-background-size"]="100%",r.adlerId=i,this.actualObj=r,AdlerBaseMenuExt.menuCollection.addItem(t),!0}},r146:function(){return this.w?this.w:200},getHeight:function(){return this.h?this.h:15},setLeft:function(e){this.actualObj.style.left=e+"px"},setTop:function(e){this.actualObj.style.top=e+"px"}}),AdlerBaseMenuExt.MenuContainer=AdlerClass.extend({id:0,classType:"MenuContainer",left:0,top:0,width:110,children:null,actualObj:null,ul:null,type:"",init:function(e){var t=this;for(var r in e)t[r]=e[r];0==this.id&&(this.id=Adler.getNextId()),this.children=new AdlerCollection({}),e.childIds&&(t.childIds=AdlerBaseMenuExt.addLeaf(e.childIds))},r10:function(e,t,r){this.actualObj.style.visibility="visible",null!=t&&t!=this.type&&(this.r219(r),this.type=t);for(var n=this.children,i=n.getNext();i;)i.actualObj.style.visibility="visible",i=n.getNext()},der10:function(){this.actualObj.style.visibility="hidden";for(var e=this.children,t=e.getNext();t;)t.actualObj.style.visibility="hidden",t=e.getNext();return!0},r219:function(e){var t=this.children;if(t?t.empty(!0):(this.children=new AdlerCollection({}),t=this.children),null!=e)for(var r=e.length,n=0;r>n;n++){var i=AdlerBaseMenuExt.menuCollection.getItem(e[n]);t.addItem(i),i.parent=this,null==i.actualObj?i.r80(this):this.ul.appendChild(i.actualObj)}},r217:function(e){this.height=e,this.actualObj&&(this.actualObj.style.height=e+"px")},getHeight:function(){var e=this.height;return"auto"==e&&(e=window.getComputedStyle(this.actualObj).height,e=parseInt(e.substring(0,e.length-2))),e},r146:function(){var e=this.width;return"auto"==e&&(e=window.getComputedStyle(this.actualObj).width,e=parseInt(e.substring(0,e.length-2))),e},getLeft:function(){var e=this.actualObj.style.left,t=2;return e.indexOf("%")>-1&&(t=1),e=parseInt(e.substring(0,e.length-t))},setLeft:function(e){this.actualObj.style.left=e+"px"},getTop:function(){var e=this.actualObj.style.top,t=2;return e.indexOf("%")>-1&&(t=1),e=parseInt(e.substring(0,e.length-t))},setTop:function(e){this.actualObj.style.top=e+"px"},r80:function(e){var t=this;if(null==t.actualObj){var r=document.createElement("div"),n=AdlerBase.r137();r.id="MenuContainer"+n;var i="position:absolute;left:"+this.left+"px;top:"+this.top+"px;width:"+this.width+"px;height:"+this.height+"px;z-index:30;font-size:12px;font-family:cursive, Arial, Helvetica, sans-serif;";this.border&&(i=i+"border:"+this.border+";border-radius:6px"),r.setAttribute("style",i),t.actualObj=r;var l=this.name;if(l.length>0){var a=document.createElement("span"),o=document.createElement("div"),s=document.createElement("ul"),d="position:absolute;left:30px;height:"+this.height+"px;";a.setAttribute("style",d),a.innerHTML=this.name;var c="position:absolute;top:20px;width:100%;height:"+this.height+"px;overflow:scroll";o.setAttribute("style",c),s.setAttribute("style","margin:0;padding:0;"),o.appendChild(s),r.appendChild(a),r.appendChild(o)}e.actualObj.appendChild(r);var u=this.getId();if(r.adlerId=u,this.actualObj=r,this.ul=s,AdlerBaseMenuExt.menuCollection.addItem(t),this.children)for(var p=this.children,g=p.getNext();g;)g.r80(this),g=p.getNext();return!0}},r90:function(e){return this.pos=e.currentPos,!1},r87:function(e){var t=e.currentPos,r=t.x-this.pos.x,n=t.y-this.pos.y,i=t.x+r,l=t.y+n;return this.setLeft(i),this.setTop(l),!1},r91:function(){return!0}}),AdlerBaseMenuExt.MenuIcon=AdlerBaseMenuExt.MenuItem.extend({classType:"MenuIcon",view:null,r204:function(e){var t=this;for(var r in e)t[r]=e[r];0==this.id&&(this.id=Adler.getNextId()),this.parent&&this.parent.children.addItem(this),e.menuObj=this},r80:function(){var e=this.args,t=document.createElement("div"),r="position:absolute;visibility:hidden;z-index:8;height:35px;width:35px;background-position:center;background-repeat:no-repeat;";this.left&&(r=r+"left:"+this.left+"px;"),t.setAttribute("style",r),this.visibility&&(t.style.visibility=this.visibility);var n;n=null==e?this.icon:e.icon,t.style["background-image"]="url('"+n+"')",this.parent?this.parent.actualObj.appendChild(t):Adler.menuSuperParent.actualObj.appendChild(t);var i=this.getId();t.adlerId=i,AdlerBaseMenuExt.menuCollection.addItem(this),this.actualObj=t}}),AdlerBaseMenuExt.AdlerMenu=AdlerClass.extend({view:null,type:"",actualObjId:null,actualObj:null,r10:function(e,t){t&&null==this.view&&(this.view=AdlerBaseExt.r125()),this.view,this.actualObj=document.getElementById(this.actualObjId),this.actualObj;var r=document.getElementById("i"+e.id);null!=r&&(r.appendChild(this.actualObj),this.actualObj.style.visibility="visible",this.actualObj.style.display="block"),Adler.searchSuggest.appendChild(r)},der10:function(){this.actualObj.style.visibility="hidden",this.actualObj.style.display="none"},init:function(e){null!=e&&(this.actualObjId=e.actualObjId,this.actualObj=document.getElementById(this.actualObjId),e.type&&(this.type=e.type))},onblur:function(){9==Adler.mode&&(Adler.mode=0),null==this.view.actualObj&&null==this.view.actualObj&&AdlerBaseMenuExt.r68(this);var e=this.actualObj.value;this.view.r225ue(e),this.actualObj.value="",AdlerBaseExt.r202(this.view),AdlerBaseMenuExt.r67(this)},onkeydown:function(){var e=event.which,t=String.fromCharCode(e);if(" "==t){9==Adler.mode&&(Adler.mode=0),clear.r36(),null==this.view.actualObj&&AdlerBaseMenuExt.r68(this);var r=this.actualObj.value;this.view.r225ue(r)}}}),AdlerBaseMenuExt.r68=function(e){var t=!0;switch(e.type){case"button":var r=e.view.r131().r139("Border"),n=e.view.r131().r139("Text"),i=e.view.r131().r139("Background");r.border_radius=5,r.border_color=" #db77db",r.box_shadow="0px 1px 3px rgba(000,000,000,0.5),inset 0px 0px 1px rgba(255,255,255,0.6)",n.text_align="center",n.font_size=15,n.color="#ffffff",n.text_shadow="0px -1px 0px rgba(000,000,000,1),0px 1px 0px rgba(255,255,255,0.2)",i.background_image="-webkit-gradient(linear, left top, left bottom, from(#275de6),color-stop(0.51, #3b3b3b),color-stop(0.50, #242424),to(#000000))",e.view.type="button";break;case"span":var l=e.view,a=l.parent;if(a){var o=a.getHeight(),s=l.getHeight();s=parseInt(s.substring(0,s.length-2)),3.5>o/s&&(e.view=a,t=!1)}else e.view.type="span"}t&&(e.view.r80(),"span"===e.type&&e.view.r213("border-width",0,"Border"))},AdlerBaseMenuExt.r67=function(e){switch(e.type){case"button":menuSrch.showMenu("button Style",["4001"]);break;case"span":}},AdlerBaseMenuExt.addLeaf=function(e){childArray=new Array;for(var t=e,r=t.length,n=0,i=0;r>i;i++){var l=menuSrchData.myjson_search.getLeaf(t[i],n);l&&(n=l.pos+1,childArray.push(l.leaf))}return childArray},AdlerBaseMenuExt.colorArray=["background-color:#7da315;color:#3d4f0c;text-shadow:1px 1px 0 #99bf31;","background-color:#1e8bb4;color:#223a44;text-shadow:1px 1px 0 #44a8d0;","background-color:#c86c1f;color:#5a3517;text-shadow:1px 1px 0 #d28344;","background-color:#d0a525;color:#604e18;text-shadow:1px 1px 0 #d8b54b;","background-color:#af1e83;color:#460f35;text-shadow:1px 1px 0 #d244a6;","background-color:#000d7f;color:rgb(137, 131, 148);text-shadow:1px 1px 0 rgb(2, 5, 48);"],nnn("plugin.bootstrap"),plugin.bootstrap.s123=0,plugin.bootstrap.trigger=function(){for(var e=plugin.bootstrap.itemArray.length,t=0;e>t;t++){var r=plugin.bootstrap.itemArray[t];Adler.r164(r.file,r.fileType,"scriptId"+t)}},plugin.bootstrap.r198=function(e){try{var t=e.menu();if(null==t)return;for(var r=t.length,n=0;r>n;n++)menuSrchData.myjson_search.leafMenu.push(t[n]);menuSrchData.myjson_search.leafMenu.sort(function(e,t){return e.id-t.id});var i=e.search();if(null==i)return;r=i.length;for(var n=0;r>n;n++)menuSrchData.myjson_search.menusearch.push(i[n])}catch(l){}},plugin.bootstrap.itemArray=[{nnn:"custom.gallery.json",file:"custom/gallery/json.js",fileType:"js"},{nnn:"custom.gallery.chart",file:"custom/gallery/chart.js",fileType:"js"}],nnn("identify"),identify.r59=function(e){if(e>0){var t=path[e][0],r=path[e][1],n=path[e-1][0],i=path[e-1][1];circum+=r22(t,n,r,i);var l=r22(t,path[0][0],r,path[0][1]);l>farthestPoint&&(farthestPoint=l);var a=r-i,o=t-n,s=0,d=0;if(0==o&&0==a)return;s=r20(t,n,r,i),d=r64(s,o,a),99==prevAngle&&(prevAngle=s,prevDir=d,sixPoints[0]=new Array,sixPoints[0][0]=s,sixPoints[0][1]=d,sixPoints[1]=new Array,sixPoints[1][0]=s,sixPoints[0][1]=d,sixPoints[2]=new Array,sixPoints[2][0]=s,sixPoints[0][1]=d,sixPoints[3]=new Array,sixPoints[3][0]=s,sixPoints[0][1]=d,sixPoints[4]=new Array,sixPoints[4][0]=s,sixPoints[0][1]=d,sixPoints[5]=new Array,sixPoints[5][0]=s,sixPoints[0][1]=d),sixPoints[c6][0]=s,sixPoints[c6][1]=d,sixPoints[c6][2]=e,c6++,c6>5&&(c6=0);var c=identify.mod(sixPoints),u=c.angle,p=c.dir,g=c.equalDirCount;if(p!=prevDir&&e>2){if(pointCounter>2){t=pointsArray[pointCounter-1][0],r=pointsArray[pointCounter-1][1],n=pointsArray[pointCounter-2][0],i=pointsArray[pointCounter-2][1];var l=r22(n,t,i,r);18>l?pointCounter--:pointsArray[pointCounter-1][5]==pointsArray[pointCounter-2][5]&&pointCounter--}if(res[resc-1]="Turning a corner "+(e-g)+" "+res[resc-1],pointsArray[pointCounter]=new Array,pointsArray[pointCounter][0]=path[e-g][0],pointsArray[pointCounter][1]=path[e-g][1],pointsArray[pointCounter][2]=e-g,identify.r183(),4>g&&pointCounter>1){t=pointsArray[pointCounter][0],r=pointsArray[pointCounter][1],n=pointsArray[pointCounter-1][0],i=pointsArray[pointCounter-1][1],a=r-i,o=t-n;var m=r20(n,t,i,r);p=r64(m,o,a)}pointsArray[pointCounter][5]=p,pointCounter++}prevAngle=u,prevDir=p,res[resc]="",res[resc]=res[resc]+" "+p+" "+prevDir+" "+u+"  "+Math.round(s)+" ("+path[e][0]+","+path[e][1]+") d-"+Math.round(circum),resc++}else prevAngle=99,px[0]=0,px[1]=0,px[2]=0,py[0]=0,py[1]=0,py[2]=0,prevDir=""},identify.r251=function(e,t){var r=0,n=0,i=0;if(py[2]=e%10,px[2]=Math.round(e/10),px[0]==px[1]||px[2]==px[1]&&(r=10*px[2],n=px[2]),py[0]==py[1]||py[2]==py[1]&&(r=py[2]+r,i=py[2]),r>0){var l=0,a=0,o=0;patternSeq>-1&&(o=patternArray[patternSeq][0],l=o%10,a=Math.round(o/10)),0==n?l>0&&(r=10*l+r):0==i&&a>0&&(r=a+r),t>79?r=30:79>t&&(r=10),r==o?o+=0:(patternSeq++,patternArray[patternSeq]=new Array(3),patternArray[patternSeq][0]=r,patternArray[patternSeq][1]=0,patternArray[patternSeq][2]=t)}else patternSeq>-1&&(patternArray[patternSeq][1]=patternArray[patternSeq][1]+1);px[0]=px[1],px[1]=px[2],py[0]=py[1],py[1]=py[2]},identify.mod=function(e){var t=0,r=new Array;for(s=0;5>s;s++)r[s]=new Array,r[s][0]=e[s][0],r[s][1]=1,r[s][2]=e[s][1],r[s][3]=1,t+=Math.abs(e[s][0]);for(var n=t/6,i=0,l=0,a=0,o=0,s=0;5>s;s++)for(var d=r[s][0],c=0,u=s+1;5>c;u++)c++,u>5&&(u=0),e[u][0]==d&&(r[s][1]=r[s][1]+1,r[s][1]>i&&(l=r[s][0],i=r[s][1]));for(var s=0;5>s;s++)for(var d=r[s][2],c=0,u=s+1;5>c;u++)c++,u>5&&(u=0),e[u][1]==d&&(r[s][3]=r[s][3]+1,r[s][3]>a&&(o=r[s][2],a=r[s][3]));return 0==i&&(l=n),{angle:l,dir:o,equalDirCount:a}},identify.r183=function(){if(0==pointCounter)return pointsArray[0][3]=0,pointsArray[0][4]=0,pointsArray[0][5]=0,pointsArray[0][6]="*",void 0;var e=pointCounter,t=r22(pointsArray[e][0],pointsArray[e-1][0],pointsArray[e][1],pointsArray[e-1][1]),r=r20(pointsArray[e][0],pointsArray[e-1][0],pointsArray[e][1],pointsArray[e-1][1]);pointsArray[e][3]=t,pointsArray[e][4]=r,r-pointsArray[e-1][4],pointsArray[e][6]="*"},identify.r257=function(e){var t=0,r=40,n="";if(res=new Array,resc=0,pointsArray[pointCounter]=new Array,null!=path[0]){for(pointsArray[pointCounter][0]=path[0][0],pointsArray[pointCounter][1]=path[0][1],pointsArray[pointCounter][2]=0,identify.r183(),pointCounter++,t=0;counter>t;t++){var i=path[t][0],l=path[t][1];clear.r212(i,l),identify.r59(t)}for(r=.05*circum,pointsArray[pointCounter]=new Array,pointsArray[pointCounter][0]=path[counter-1][0],pointsArray[pointCounter][1]=path[counter-1][1],pointsArray[pointCounter][2]=counter,identify.r183(),pointCounter++,t=0;resc>t;t++)n=n+"\r\n ("+res[t];document.getElementById("ta").innerHTML=n;var a=bottomy-topy,o=rightx-leftx;r=a>o?Math.round(.2*o):Math.round(.2*a),7>r&&(r=7),n=pointCounter+" ("+leftx+" ,"+topy+"), "+" ("+leftx+" ,"+bottomy+"), "+" ("+rightx+" ,"+bottomy+"), "+" ("+rightx+" ,"+topy+") w-"+o+" h-"+a+"\r\n",prevAngle=0;var s=pointsArray[0][0],d=pointsArray[0][1],c=!1;for(t=1;pointCounter-1>t;t++){var u=pointsArray[t-1][0],p=pointsArray[t-1][1],g=pointsArray[t][0],m=pointsArray[t][1],f=pointsArray[t+1][0],y=pointsArray[t+1][1];c&&(u=s,p=d);var h=r20(u,g,p,m),v=r20(g,f,m,y),w=r64(h,g-u,m-p),A=r64(v,f-g,y-m),b=r22(u,g,p,m);w==A?(pointsArray[t][6]="disha "+w+" , "+A,c=!0):r>b||0==b?(pointsArray[t][6]="distance "+b,c=!0):(s=g,d=m,c=!1)}var x=new Array;for(t=0;pointCounter>t;t++){var S=pointsArray[t][6];if("*"==S)for(ctx.fillRect(pointsArray[t][0],pointsArray[t][1],10,10),j=t-1;j>-2;j--)if(-1==j&&(j=pointCounter-1),S=pointsArray[j][6],"*"==S){var g=pointsArray[j][0],m=pointsArray[j][1],u=pointsArray[t][0],p=pointsArray[t][1];dify=m-p,difx=g-u;var b=r22(u,g,p,m),k=r20(u,g,p,m);r>b||0==b?pointsArray[j][6]=" ":pointsArray[t][3]=b,j=-2}else 0==t&&(j=-2)}var T=0;for(t=0;pointCounter>t;t++){var i=pointsArray[t][0],l=pointsArray[t][1],b=pointsArray[t][3],k=pointsArray[t][4],S=pointsArray[t][6];if(polyPoints[noOfPoints]=new Array,"*"==S){if(polyPoints[noOfPoints][0]=i,polyPoints[noOfPoints][1]=l,noOfPoints+=1,ctx.moveTo(i,l),ctx.arc(i,l,5,0,2*Math.PI,!1),ctx.strokeStyle="red",ctx.stroke(),n=n+" ("+i+","+l+") distance: "+Math.round(b)+" angle: "+Math.round(k)+" diff:"+Math.round(pointsArray[t][5])+" \r\n",x[T]=new Array(6),x[T][0]=pointsArray[t][0],x[T][1]=pointsArray[t][1],x[T][2]=pointsArray[t][2],x[T][3]=pointsArray[t][3],x[T][4]=pointsArray[t][4],t>0){var g=x[T][0],m=x[T][1],u=x[T-1][0],p=x[T-1][1];dify=m-p,difx=g-u;var I=r20(u,g,p,m);x[T][5]=r64(I,difx,dify)}else x[T][5]=pointsArray[t][5];x[T][6]=pointsArray[t][6],T++}else n=n+"        ("+i+","+l+") d:"+b+" angl: "+Math.round(k)+" df:"+Math.round(Math.abs(pointsArray[t][5]))+" \r\n"}if(pointsArray=x,pointCounter=pointsArray.length,pointsArray[pointCounter-1][6]="last",2!=mode){var b=r22(path[0][0],path[counter-1][0],path[0][1],path[counter-1][1]),P=identify.r63(e);if(!P){return targetView.r179({patternCode:9999,pointsArray:pointsArray});var b}}}},identify.r63=function(e){if(1==pointCounter)return!1;if(2==pointCounter){var t=r243(pointsArray[1][5]),r=pointsArray[0][0],n=pointsArray[0][1],i=pointsArray[1][0],l=pointsArray[1][1],a=r22(r,i,n,l),o={x:r,y:n,distance:a,r64:t,x2:i,y2:l};return targetView.r179({patternCode:30,line:o,event:e,r64:t}),!0;var s}if(4==pointCounter&&1==Math.abs(pointsArray[3][5]-pointsArray[1][5])&&90==Math.abs(pointsArray[2][4]-pointsArray[1][4]))return identify.r84(e),!0;for(var i,l,r=pointsArray[0][0],n=pointsArray[0][1],d=0,c=0,s=1;pointCounter>s;s++){l=pointsArray[s][1],i=pointsArray[s][0];var u=180*Math.atan((l-n)/(i-r))/Math.PI;u>c&&(c=u),(0===d||d>u)&&(d=u)}if(Math.abs(c-d)<20){var t=r243(r64(c,i-r,l-n)),a=r22(r,i,n,l),o={x:r,y:n,distance:a,r64:t,x2:i,y2:l};return targetView.r179({patternCode:30,line:o,event:e,r64:t}),!0}for(var p=0,g=0,s=2;pointCounter>s;s++)0==pointsArray[s][5]%2&&0==pointsArray[s-1][5]%2?g++:0!=pointsArray[s][5]%2&&0!=pointsArray[s-1][5]%2?g++:p++;if(g>p)return identify.r74(e),!0;if(5==pointCounter&&1==Math.abs(pointsArray[3][5]-pointsArray[1][5])&&1==Math.abs(pointsArray[4][5]-pointsArray[2][5]))return identify.r84(e),!0;var m=!1,f=pointsArray[1][5],y=pointsArray[2][5],h=pointsArray[3][5],v=(f+h)/2;if(1==Math.abs(v-y)&&(m=!0),1==m){var w=r94(polyPoints[0][0],polyPoints[0][1]);if(null!=w)return elementInFocus=w,r122(),r171(w),elementInFocusPoints.ops=0,colorPicker(),clear.r36(),!0}return!1},identify.r84=function(e){var t;for(width=0,height=0,i=1;noOfPoints>i;i++)0==pointsArray[i][4]?(t=pointsArray[i][3],t>width&&(width=t+10)):90==pointsArray[i][4]&&(t=pointsArray[i][3],t>height&&(height=t+10));var r=width/height;r=r>1?100/r:100*r;var n,l=new ObjStyle({left:leftx,top:topy,position:"absolute",styleType:"Location"}),a=new ObjStyle({width:width,height:height,z_index:1,styleType:"Shape"}),o=new AdlerStyleCollection({adlerObject:l}),s=AdlerBaseExt.getType();if(Adler.pen===Adler.knifePen){if(n=new ObjStyle({border_width:1,border_style:"solid",border_color:"rgb(229,229,229)",unit:"px",box_shadow:"4px 4px 4px gray",styleType:"Border"}),"span"===s){var d=new ObjStyle({text_shadow:"2px 2px gray",font_weight:"bold",styleType:"Text"});o.addItem(d)}}else n=new ObjStyle({border_width:1,border_style:"solid",border_color:"rgb(229,229,229)",unit:"px",styleType:"Border"});o.addItem(a),o.addItem(n);var c=new DivViewModel({type:s,objStyleCollection:o,adlerType:"endObject"});targetView.r179({patternCode:10,view:c,event:e})},identify.r74=function(e){var t,r=circum/(2*Math.PI),n=new ObjStyle({left:leftx,top:topy,position:"absolute",styleType:"Location"}),i=new ObjStyle({width:Math.round(2*r),height:Math.round(2*r),z_index:1,styleType:"Shape"});t=Adler.pen===Adler.knifePen?new ObjStyle({border_radius:r,border_width:1,border_style:"solid",border_color:"rgb(229,229,229)",unit:"px",box_shadow:"4px 4px 4px gray",styleType:"Border"}):new ObjStyle({border_radius:r,border_width:1,border_style:"solid",border_color:"rgb(229,229,229)",unit:"px",styleType:"Border"});var l=new AdlerStyleCollection({adlerObject:n});l.addItem(i),l.addItem(t);var a=new DivViewModel({type:"div",objStyleCollection:l,adlerType:"endObject"});return targetView.r179({patternCode:20,view:a,event:e,pointsArray:pointsArray}),void 0;var r};var mode=0,ops=0,logStarted=!1,targetView=null,adlerEvent=null;targetArray=null;var previousTargetElement=null,targetElement=null,targetName=null;targetId=null;var touchTime=null,clickAllowed=!0,jsonDiv=null,uploadImage;nnn("clear"),clear.r36=function(){9!=Adler.mode&&(canvas.width=canvas.width,clear.r35(),clear.r41(),ctx.strokeStyle=Adler.pen.color,ctx.lineWidth=Adler.strokeWidth)},clear.r212=function(e,t){leftx>e&&(leftx=e),topy>t&&(topy=t),e>rightx&&(rightx=e),t>bottomy&&(bottomy=t)},clear.r35=function(){topy=3e3,bottomy=0,farthestPoint=0,counter=0,path=new Array,pointCounter=0,pointsArray=new Array,c6=0,prevAngle=0,patternSeq=-1,patternArray=new Array},clear.r41=function(){leftx=3e3,rightx=0,polyPoints=new Array,noOfPoints=0,noOfLines=0,noOfConnectedLines=0,circum=0,closedPath=0},clear.r40=function(){var e=leftx-10,t=topy-10,r=rightx-leftx+20,n=bottomy-topy+20;ctx.clearRect(e,t,r,n)},nnn("menu.generic"),menu.generic.sliders=new Array,menu.generic.view=null,menu.generic.activeMenus=new Array,menu.generic.deactivate=function(){var e=menu.generic.activeMenus.length-1;Adler.trace&&console.log("Entering menu.generic.deactivate activeMenus length "+e);for(var t=e;t>-1;t--){var r=menu.generic.activeMenus[t];r.der10(),menu.generic.activeMenus.pop()}},menu.generic.r150=function(e){menu.generic.view=AdlerBaseExt.r125();var t=menu.generic.activeMenus.length-1;Adler.trace&&console.log("Entering menu.generic.r150 activeMenus length "+t);for(var r=t;r>-1;r--){var n=menu.generic.activeMenus[r];if(e!=n)try{n.der10()}catch(i){console.log(i.stack)}}},menu.generic.r244=function(){var e=menu.generic.view,t=menu.generic.activeMenus.length-1;Adler.trace&&console.log("Entering menu.generic.r244 activeMenus length "+t);for(var r=t;r>-1;r--){var n=menu.generic.activeMenus[r];n!==menu.generic.undo&&n.r10({},e)}},menu.generic.higherMenu={r10:function(e){null!=e&&null!=e.childIds&&menuSrch.showMenu(e.description,e.childIds)},der10:function(){}},menu.generic.domMenu={r10:function(e,t){if(t=menu.submenu.dom.newView,menu.submenu.dom.newView=null,t){if(t.type=e.name.toLowerCase(),"hr"==t.type){var r=t.r131().r139("Shape");r.height=0;var n=t.r131().r139("Border");n.border_width=2}null==t.actualObj&&t.r80()}9==Adler.mode&&(Adler.mode=0,clear.r36())}},menu.generic.r10=function(e,t){Adler.trace&&console.log("entering menu.generic.r10");for(var r=0,n=t,i=n.length,l=0;i>l;l++){var a=n[l];"string"==typeof a&&(a=menuSrchData.myjson_search.getLeaf(a));var o,s=a.menuType;if("slider"==s)if(r++,0==menu.generic.sliders.length){var d=new menu.generic.sliderMenu(a);d.args=a,o=d,menu.generic.sliders[0]=d}else{for(var c=menu.generic.sliders.length,u=0;c>u;u++){var p=0,g=0;menu.generic.sliders[u].id==a.id&&(p=1,g=u)}if(p)o=menu.generic.sliders[g],o.isused=1;else{var d=new menu.generic.sliderMenu(a);d.args=a,menu.generic.sliders[c]=d,o=d,d.isused=1}}else"custom"==s?o=a.menu:"select"==s?(r++,o=new menu.generic.selectMenu(a),o.args=a,null==o.actualObj&&o.r80(e)):"input"==s?(o=new menu.generic.inputMenu(a),o.args=a,null==o.actualObj&&o.r80(e)):"createDom"==s&&(o=menu.generic.domMenu);o.r10(a,e)}},nnn("menu.generic.slider"),menu.generic.slider.actualObj="",menu.generic.slider.output="",menu.generic.slider.view=null,menu.generic.slider.CSSProp="",menu.generic.slider.CSSType="",menu.generic.slider.eventConfig={r90:function(){return!0},r87:function(){var e=menu.generic.slider.actualObj.value,t=menu.generic.slider.view;return menu.generic.slider.output.innerHTML=e,t.r213(menu.generic.slider.CSSProp,e,menu.generic.slider.CSSType),!0},r91:function(){return!0}},menu.generic.slider.r226=function(e,t){var r=document.getElementById("title"),n=document.getElementById("s"+e.id);menu.generic.slider.actualObj=n,menu.generic.slider.output=document.getElementById("output"),n.setAttribute("min",e.min),n.setAttribute("max",e.max),n.setAttribute("step",e.step);var i=t.getLeft(),l=t.getTop(),a=t.r146(),o=t.getHeight(),s=t.r111(e.name);
n.value=s,n.style.left=i+e.name.length+25+"px",n.style.top=l+o+15+"px",menu.generic.slider.output.style.left=i+a/2-15+"px",menu.generic.slider.output.style.top=l+o/2-15+"px",menu.generic.slider.output.innerHTML=s,r.style.left=i+"px",r.style.top=l+o+15+"px",r.innerHTML=e.name,menu.generic.slider.view=t,menu.generic.slider.CSSProp=e.name,menu.generic.slider.CSSType=e.cssType},menu.generic.slider.r80=function(e,t){var r=document.createElement("div"),n=document.createElement("input");n.setAttribute("type","range"),n.setAttribute("style","position:relative;visibility:visible;top:0px;z-index:8;height:35px;width:105px"),n.setAttribute("min",e.min),n.setAttribute("max",e.max),n.setAttribute("step",e.step);var i=document.createElement("div");return i.setAttribute("style","position:relative;visibility:visible;top:-30px;left:120px;z-index:8;height:20px;width:20px;border-radius:10px;background-color:orange;text-align:center;color:white;font-size:10;font-family:cursive"),r.appendChild(n),r.appendChild(i),AdlerBaseMenuExt.menuCollection.addItem(t),Adler.menuSuperParent.actualObj.appendChild(r),n.setAttribute("id","s"+e.id),n.adlerId=e.id,t.actualObj=r,t.sliderDiv=r,menu.generic.r231(t),r},menu.generic.r231=function(e,t){var r=e.sliderDiv,n=r.firstChild,i=r.lastChild;if(t)return n.value=t,i.innerHTML=t,void 0;var l=e.args;if(l&&l.propType&&"css"===l.propType){var a;e.view&&(a=e.view.r111(l.name,l.cssType)),a&&(n.value=a,i.innerHTML=a)}},menu.generic.sliderMenu=AdlerBaseMenuExt.MenuItem.extend({classType:"MenuSliderItem",view:null,CSSProp:null,CSSType:null,isused:null,sliderDiv:null,r90:function(e){this.view=AdlerBaseExt.r125(),this.actualObj!==e.targetHTML&&(this.actualObj=e.targetHTML);var t=this.actualObj.value;return menu.generic.r231(this,t),!0},r87:function(){return this.r254(this,this.actualObj.value,this.view),!0},r91:function(){r228(this.CSSType+" changed to "+this.actualObj.value);var e=this.args.searchData;return e&&menuSrch.r156(e),!1},r254:function(e,t,r){r.dirty||Adler.addUndo(r,"changed"),r.r213(e.CSSType,t,e.CSSProp),menu.generic.r231(e,t)},r10:function(e,t,r){this.CSSType=e.name,this.CSSProp=e.cssType,this.view=t,this.args=e,this.x=t.getLeft(),this.y=t.getTop(),this.w=t.r146(),null==this.actualObj?this.actualObj=menu.generic.slider.r80(e,this):menu.generic.r231(this);var n=document.getElementById("i"+e.id);null!=n&&(r||n.appendChild(this.actualObj),this.actualObj.style.visibility="visible"),this.isused=1},der10:function(){this.actualObj.style.visibility="hidden",this.isused=0},r80:function(){var e=this.args,t=menu.generic.slider.r80(e,this);this.actualObj=t}}),menu.generic.selectMenu=AdlerBaseMenuExt.MenuItem.extend({classType:"MenuSelectItem",sel:null,sp:null,r90:function(){return!0},r87:function(){return!0},r91:function(e){if(e instanceof AdlerEvent)return this.actualObj=e.targetHTML,void 0;null===this.view&&(this.view=AdlerBaseExt.r125());var t=this.actualObj.selectedIndex,r=this.actualObj.options[t].value;this.view=AdlerBaseExt.r125(),this.r254(this,r,this.view),this.actualObj.selectedIndex=0;var n=this.args.searchData;return n&&menuSrch.r156(n),!1},r254:function(e,t,r){var n=e.args.propType;if("css"===n)r.dirty||Adler.addUndo(r,"changed"),r.r213(e.CSSType,t,e.CSSProp),r228(this.CSSType+" changed to "+t);else if("dom"===n)menu.submenu.dom.r32(null,r,t),r228("dom type changed to "+t+" for "+r.getObjId());else if("r66"===n)r.dirty||Adler.addUndo(r,"changed"),r228(e.args.name+" added"),r.r66[e.args.name]=t,r.actualObj.setAttribute([e.args.name],t);else if("domClass"===n){r.dirty||Adler.addUndo(r,"changed");for(var i=r.r131(),l=JSON.parse(t),a=l.length,o=0;a>o;o++){var s=l[o].styleType,d=l[o].styleClassName,c=i.r139(s);i.r223(c,d)}}else"event"===n&&Adler.pen===Adler.workPen&&workflow.r89(r,t)},r10:function(e){this.CSSType=e.name,this.CSSProp=e.cssType,this.view=AdlerBaseExt.r125(),this.args=e,null==this.actualObj&&this.r80(),this.actualObj.style.visibility="visible",this.actualObj.selectedIndex=0},der10:function(){this.actualObj.style.visibility="hidden"},r80:function(){var e=this.args,t="position:relative;z-index:8;;top:0px",r=document.createElement("select");r.setAttribute("id","s"+this.args.id),r.name="name";for(var n=e.values,i=e.display,l=n.length,a=0;l>a;a++){var o=null;i&&(o=i[a]),null==o&&(o=n[a]),r.options[a]=new Option(o,n[a])}r.setAttribute("style",t),r.setAttribute("onchange","if (Adler.trace) console.log('clicked on '+targetElement.getAttribute('id'));this.view.r91(this);"),Adler.menuSuperParent.actualObj.appendChild(r);var s=this.getId();r.adlerId=s,AdlerBaseMenuExt.menuCollection.addItem(this),this.actualObj=r,r.view=this;var d=document.getElementById("i"+this.args.id);d.appendChild(this.actualObj)}}),menu.generic.inputMenu=AdlerBaseMenuExt.MenuItem.extend({classType:"MenuInputItem",actualObj:null,args:null,r90:function(){return!0},r87:function(){return!0},r91:function(e){if(e instanceof AdlerEvent)return this.actualObj=e.targetHTML,void 0;var t=this.actualObj.value;if(t){this.view=menu.submenu.dom.newView?menu.submenu.dom.newView:AdlerBaseExt.r125(),this.r254(this,t,this.view),this.actualObj.value="";var r=this.args.searchData;return r&&menuSrch.r156(r),!1}},r254:function(e,t,r){menuSrch.onFocus.apply(null,[]);var n=e.propType;if(n)if("dom"===n)r=menu.submenu.dom.newView,e.view=r,menu.submenu.dom[e.args.name](this),r228(e.args.name+" created"),menu.submenu.dom.newView=null,r.type=e.args.name;else if("css"===n)r.dirty||Adler.addUndo(r,"changed"),r228(e.args.name+" changed to "+t),r.r213(e.args.name,t,e.args.cssType);else if("r66"===n)r.dirty||Adler.addUndo(r,"changed"),r228(e.args.name+" added"),r.r66[e.args.name]=t,r.actualObj.setAttribute([e.args.name],t);else if("custom"===n){r.dirty||Adler.addUndo(r,"changed");var i=e.args.menu;i.value=t,i.r10(e.args,r),e.actualObj.value=""}},r10:function(e){this.args=e,e.propType&&(this.propType=e.propType),null==this.actualObj&&this.r80(),this.actualObj.style.visibility="visible"},der10:function(){this.actualObj.style.visibility="hidden"},r80:function(){var e=this.args,t="position:relative;z-index:8;top:0px;padding-left:5px;",r=document.createElement("input");r.setAttribute("id","s"+this.args.id),r.name="name",e.value&&r.setAttribute("value",e.value),r.setAttribute("style",t),r.setAttribute("onblur","if (Adler.trace) console.log('entered text on '+targetElement.getAttribute('id'));this.view.r91(this);"),Adler.menuSuperParent.actualObj.appendChild(r);var n=this.getId();r.adlerId=n,AdlerBaseMenuExt.menuCollection.addItem(this),this.actualObj=r,r.view=this;var i=document.createElement("img");i.setAttribute("src","png/glyphicons_173_play.png"),i.setAttribute("style","width:10px;height:10px;margin-left:8px");var l=document.getElementById("i"+this.args.id);l&&(l.appendChild(this.actualObj),l.appendChild(i))}}),menu.generic.media={saveMenu:null,value:null,r10:function(){r228("noted "+menu.generic.save.value+" px")},der10:function(){}},menu.generic.save={saveMenu:null,value:null,r10:function(){Adler.dirty=!1;var e=Adler.page.pageName;menu.generic.save.value&&(e=menu.generic.save.value),e||(e="temp");var t=Adler.page.type;Adler.storage.save("local",t,e,""),r228("saved as "+e)},der10:function(){}},menu.generic.saveFragment={value:null,r10:function(){Adler.storage.save("local","fragment",menu.generic.saveFragment.value,""),r228("saved fragment- "+menu.generic.saveFragment.value)},der10:function(){}},menu.generic.savePopup={value:null,r10:function(){Adler.storage.save("local","popup",menu.generic.savePopup.value,""),r228("saved popup- "+menu.generic.savePopup.value)},der10:function(){}},menu.generic.open={value:null,r10:function(e){var t="page";e&&e.type&&(t=e.type),Adler.storage.getData("local",t,menu.generic.open.value)},der10:function(){}},menu.generic.openFrag={value:null,r10:function(){Adler.storage.getData("local","fragment",menu.generic.openFrag.value)}},menu.generic.openPopup={value:null,r10:function(){Adler.storage.getData("local","popup",menu.generic.openPopup.value)}},menu.generic.undo={on:!1,r10:function(){var e=Adler.undoArray.length;if(e>0){var t=Adler.undoArray[e-1],r=t[0],n=t[1],i=t[2];this.on=!0,r.apply(n,i),Adler.undoArray.pop(),this.on=!1,r228("Last changes rolled back")}else r228("Nothing to undo")},der10:function(){},addUndo:function(e,t,r){this.on||Adler.undoArray.push([e,t,r])}},menu.generic.tablet={r10:function(){var e=r16();Adler.page.layout[0]="Tablet";var t=r16();Adler.canvas.width=t.winWidth,Adler.canvasView.setWidth(t.winWidth);for(var r=Adler.globalCollection,n=r.getNext();n;){var i=n.r120();i.left=i.left*t.winWidth/e.winWidth,i.top=i.top*t.winHeight/e.winHeight,i.width=i.width*t.winWidth/e.winWidth,i.height=i.height*t.winHeight/e.winHeight,n.setLeft(i.left),n.setTop(i.top),n.setWidth(i.width),n.r217(i.height),n=r.getNext()}},der10:function(){}},menu.generic.phone={r10:function(){var e=document.getElementById("iphone");if(!e){var t=document.createElement("img");t.setAttribute("src","png/iphone.png"),t.setAttribute("id","iphone"),t.setAttribute("style","position:absolute;left:-28px;top:-140px;width:387px;height:715px;")}document.body.appendChild(t);var r=r16();Adler.page.layout[0]="Phone";var n=r16();Adler.canvas.width=n.winWidth,Adler.canvas.height=n.winHeight;for(var i=Adler.globalCollection,l=i.getNext();l;){var a=l.r120();a.left=a.left*n.winWidth/r.winWidth,a.top=a.top*n.winHeight/r.winHeight,a.width=a.width*n.winWidth/r.winWidth,a.height=a.height*n.winHeight/r.winHeight,l.setLeft(a.left),l.setTop(a.top),l.setWidth(a.width),l.r217(a.height),l=i.getNext()}},der10:function(){}},menu.generic.debug={r10:function(){r228("playing back, debug started"),Adler.trace="Y",r182()},der10:function(){}},menu.generic.editText={view:null,r10:function(e,t,r){if("span"!==t.type.toLowerCase()&&"button"!==t.type.toLowerCase())return r228("use Text for editing"),void 0;if(t.children)return menu.submenu.dom.showEditor.r10(e,t),void 0;menu.generic.editText.view=t;var n=document.getElementById("editText");r&&(n.value=r);var i=t.getValue(),l=i.length-1;l>0&&(n.value=i.substring(0,l));var a=t.r102();if(!Adler.interactive){var o=document.getElementById("editTextRemove");o.style.display="block",o.style.left=a.left-16+"px",o.style.top=a.top-16+"px"}n.style.display="block",Adler.drawBoundary?(n.style.left=a.left+Adler.drawBoundary.left+"px",n.style.top=a.top+Adler.drawBoundary.top+"px"):(n.style.left=a.left+"px",n.style.top=a.top+"px"),n.style.width=a.width+"px",n.style.height=a.height+"px",n.style.visibility="visible";var s=document.getElementById("textToolBar");if(s){s.style.display="block";var d=a.top-36;0>d&&(d=a.top+55);var c=a.left-40;if(0>c&&(c=a.left),Adler.drawBoundary?(s.style.left=c+Adler.drawBoundary.left+"px",s.style.top=d+Adler.drawBoundary.top+"px"):(s.style.left=c+"px",s.style.top=d+"px"),l>0){for(var u=t.r131().r139("Text"),p=s.firstElementChild,g=p.nextElementSibling,m=g.options,f=g.nextElementSibling,y=f.options,h=f.nextElementSibling,v=h.options,w=m.length-1;w>-1;w--)if(m[w].text===u.font_family){g.selectedIndex=w;break}var A=u.font_size;A=A.substr(0,A.length-2);for(var w=y.length-1;w>-1;w--)if(y[w].text===A){f.selectedIndex=w;break}for(var w=v.length-1;w>-1;w--)if(v[w].text===u.color){h.selectedIndex=w;break}}}n.focus(),Adler.editor.active=!0,Adler.editor.blinkCursor.style.visibility="hidden"},der10:function(){var e=document.getElementById("editText");if(!Adler.interactive){var t=document.getElementById("editTextRemove");t.style.display="none"}e.style.display="none",e.style.visibility="hidden";var r=menu.generic.editText.view,n=document.getElementById("textToolBar");if(n){n.style.display="none";var i,l,a,o=n.firstElementChild,s=o.nextElementSibling,d=s.nextElementSibling,c=d.nextElementSibling,u=s.selectedIndex,p=d.selectedIndex,g=c.selectedIndex;u>0&&(i=s.options[u].text,r.r213("font_family",i,"Text")),p>0&&(l=d.options[p].text+"px",r.r213("font_size",l,"Text")),g>0&&(a=c.options[g].text,r.r213("color",a,"Text"))}var m=e.value.trim();if(m){if(r.r225ue(e.value),"Phone"===Adler.layout){var f=r.r131();f.r139("Custom","textMobile");var y=f.r114();r.actualObj.setAttribute("class",y)}Adler.dirty=!0}else r.r62();e.value="",Adler.editor.active=!1,menu.generic.editText.view=null,Adler.dirty&&Adler.j6()},fillText:function(e){var t=document.getElementById("editText");t.value=e.msg}},nnn("Action"),Action.Delete={},Action.Delete.eventConfig={r91:function(){AdlerBaseExt.r125().r62();for(var e=Adler.activeMenus.length;e>-1;e--){var t=Adler.activeMenus[e];(t===Adler.selectDiv1||t===Adler.selectDiv2)&&Adler.activeMenus.splice(e,1)}}},Action.Clone={},Action.Clone.eventConfig={r91:function(){var e=Adler.copyBuffer[0];if(view=Adler.globalCollection.getItem(e.dataId)){var t=view.r45();e.objectId=t.getObjId(),e.dataId=t.getId(),Adler.specialKey.active=0}else r228("nothing to clone")}},Action.Up={},Action.Up.eventConfig={r91:function(){var e=AdlerBaseExt.r125(),t=e.parent;return t===Adler.canvasView?(r228("Highest Level Selected"),void 0):(AdlerBaseExt.r39(!1,e),AdlerBaseExt.r202(t,!1),void 0)}},Action.Right={},Action.Right.eventConfig={r91:function(){for(var e=AdlerBaseExt.r125(),t=e.parent,r=t.r112ren(),n=r.getNext(),i=0;n;){if(1===i)return AdlerBaseExt.r39(!1,e),AdlerBaseExt.r202(n,!1),i=2,void 0;n===e&&(i=1),n=r.getNext()}2>i&&(n=r.firstObject,AdlerBaseExt.r39(!1,e),AdlerBaseExt.r202(n,!1))}},Action.Down={},Action.Down.eventConfig={r91:function(){var e=AdlerBaseExt.r125(),t=e.r112ren();if(!t)return r228("No Children"),void 0;var r=t.firstObject;r?(AdlerBaseExt.r39(!1,e),AdlerBaseExt.r202(r,!1)):r228("No Children")}},Action.Save={},Action.Save.eventConfig={r91:function(){var e=Adler.page.projName;Adler.storage.save("local","project",e,""),r228("saved as "+e)}},Action.Note=new AdlerBaseMenuExt.MenuIcon({}),Action.Note.r10=function(e){this.args=e,null==this.actualObj&&this.r80(),this.actualObj.style.visibility="visible"},Action.Note.der10=function(){this.actualObj.style.visibility="hidden"},Action.Note.view=null,Action.Note.eventConfig={r91:function(){var e=AdlerBaseExt.r125();Action.Note.view=e;var t=e.actualObj,r=document.getElementById("noteDiv");r.style.visibility="visible",Adler.r252(e,r);var n=document.getElementById("noteId");n.value=t.getAttribute("id");var i=document.getElementById("noteName");i.value=t.getAttribute("name");var l=document.getElementById("noteComment");e.note&&(l.value=e.note)}},Action.Note.r225=function(e){var t=Action.Note.view,r=t.actualObj;e.id&&r.setAttribute("id",e.id),e.name&&r.setAttribute("name",e.name),e.comment&&(t.note=e.comment)},Action.Search=new AdlerBaseMenuExt.MenuIcon({}),Action.Search.r10=function(e){this.args=e,null==this.actualObj&&this.r80(),this.actualObj.style.visibility="visible"},Action.Search.der10=function(){this.actualObj.style.visibility="hidden"},Action.Search.view=null,Action.Search.eventConfig={r91:function(){var e=AdlerBaseExt.r125();Action.Search.view=e,AdlerBaseMenuExt.menuCollection.r149(),e.actualObj;var t=document.getElementById("searchDiv");t.style.visibility="visible",Adler.r252(e,searchDiv)}},nnn("menu.submenu.colorPicker"),menu.submenu.colorPicker.activeBall=0,menu.submenu.colorPicker.r10=function(e,t){if(this.view=t,null==menu.submenu.colorPicker.simpleSelect&&(menu.submenu.colorPicker.simpleSelect=document.getElementById("colorSimpleSelect"),menu.submenu.colorPicker.simpleBorder=document.getElementById("colorSimpleBorder"),menu.submenu.colorPicker.simpleBackground=document.getElementById("colorSimpleBackground"),menu.submenu.colorPicker.simpleFont=document.getElementById("colorSimpleFont"),r98=function(){menu.submenu.colorPicker.r247(this[this.selectedIndex].value,this);var e=this.args;if(e){var t=e.searchData;t&&menuSrch.r156(t)}},menu.submenu.colorPicker.simpleSelect.onchange=r98,menu.submenu.colorPicker.simpleBorder.onchange=r98,menu.submenu.colorPicker.simpleBackground.onchange=r98,menu.submenu.colorPicker.simpleFont.onchange=r98,null==this.actualObj&&(this.actualObj=document.getElementById("colorPicker"))),null!=e)if(null!=e.invokation){if(null==this.actualObj&&(this.actualObj=document.getElementById("colorPicker")),null==menu.submenu.colorPicker.colorArray){menu.submenu.colorPicker.colorArray=new Array;var r=document.getElementById("colorTestBox"),n=menu.submenu.colorPicker.createBall(0,"on");menu.submenu.colorPicker.activeBall=0,n.stop=100,n.color=menu.submenu.colorPicker.currentColor.r4();var i=n.colorBall.style;i["background-color"]=n.color,r.style["background-color"]=n.color,i.top="2px",n.colorLine.style.top="7px",menu.submenu.colorPicker.createBall(1,"off"),this.view=t,menu.submenu.colorPicker.createPalettes(),menu.submenu.colorPicker.syncTestBox()}else this.view===t&&menu.submenu.colorPicker.syncTestBox();AdlerBaseMenuExt.r168(this.actualObj,"visibility","visible"),Adler.r252(t,[this.actualObj,menu.allMenus.searchContainer]),Adler.activeMenus.push(this.actualObj),t.ops=11}else if(null!=e.id){var l=e.name,a=menu.submenu.colorPicker.simpleSelect;"border-color"===l?a=menu.submenu.colorPicker.simpleBorder:"background-color"===l?a=menu.submenu.colorPicker.simpleBackground:"color"===l&&(a=menu.submenu.colorPicker.simpleFont),a.args=e,a.setAttribute("style","position:relative;z-index:8;top:0px");var o=document.getElementById("i"+e.id);o.appendChild(a)}},menu.submenu.colorPicker.der10=function(){if(this.view.ops=0,this.actualObj){for(var e=this.actualObj,t=Adler.activeMenus.length,r=0;t>r;r++)Adler.activeMenus[r]===e&&Adler.activeMenus.splice(r,1);r152(e,"hidden")}},menu.submenu.colorPicker.r146=function(){var e=this.actualObj.style.width;e=parseInt(e.substring(0,e.length-2))},menu.submenu.colorPicker.getHeight=function(){var e=this.actualObj.style.height;e=parseInt(e.substring(0,e.length-2))},menu.submenu.colorPicker.setLeft=function(e){this.actualObj.style.left=e+"px"},menu.submenu.colorPicker.setTop=function(e){this.actualObj.style.top=e+"px"},menu.submenu.colorPicker.gBox=null,menu.submenu.colorPicker.gBoxW=128,menu.submenu.colorPicker.gBoxH=128,menu.submenu.colorPicker.xRatio=menu.submenu.colorPicker.gBoxW/256,menu.submenu.colorPicker.yRatio=menu.submenu.colorPicker.gBoxH/256,menu.submenu.colorPicker.hueHeight=128,menu.submenu.colorPicker.currentColor=null,menu.submenu.colorPicker.colorCircle=new AdlerBaseMenuExt.MenuIcon({preferred:"na"}),menu.submenu.colorPicker.hueArrows=new AdlerBaseMenuExt.MenuIcon({preferred:"na"}),menu.submenu.colorPicker.gradientBall=new AdlerBaseMenuExt.MenuIcon({preferred:"na"}),menu.submenu.colorPicker.args="",AdlerBaseMenuExt.menuCollection.addItem(menu.submenu.colorPicker.colorCircle),AdlerBaseMenuExt.menuCollection.addItem(menu.submenu.colorPicker.hueArrows),menu.submenu.colorPicker.createBall=function(e,t){var r=document.createElement("div");r.setAttribute("style","position:absolute;left:230px;top:142px;width:25px;height:25px;border-radius:25px;background-color:white;color:gray;border:1px solid grey;text-align:center;text-shadow:1px 2px white"),r.setAttribute("id","colorBall"+e),r.innerHTML=t;var n=document.createElement("hr");n.setAttribute("style","position:absolute;left:200px;top:151px;width:29px;border:1px solid grey"),n.setAttribute("id","ballLine"+e);var i=menu.submenu.colorPicker.actualObj;i.appendChild(r),i.appendChild(n),r.config=menu.submenu.colorPicker.gradientBall.eventConfig;var l={color:null,stop:-5,colorBall:r,colorLine:n};return menu.submenu.colorPicker.colorArray.push(l),l},menu.submenu.colorPicker.colorCircle.eventConfig={xoff:0,yoff:0,view:null,pos:null,r90:function(e){var t=menu.submenu.colorPicker.actualObj;t.style.visibility="visible",t.style.display="block",this.view=document.getElementById("colorTestBox"),obj=menu.submenu.colorPicker.colorCircle.actualObj;var r=obj.style.left;r=parseInt(r.substring(0,r.length-2));var n=obj.style.top;return n=parseInt(n.substring(0,n.length-2)),this.pos=new menu.submenu.colorPicker.Position(r,n),this.xoff=r-e.currentPos.x,this.yoff=n-e.currentPos.y,!0},r87:function(e){var t=this.r21(e.currentPos);menu.submenu.colorPicker.currentColor.r6(menu.submenu.colorPicker.currentColor.Hue(),1-t.Y/(255*menu.submenu.colorPicker.yRatio),t.X/(255*menu.submenu.colorPicker.xRatio));var r=this.view,n=menu.submenu.colorPicker.args.name;return r.style[n]=menu.submenu.colorPicker.currentColor.r4(),!0},r91:function(){menu.submenu.colorPicker.syncTestBox()},r21:function(e){var t=e.x+this.xoff,r=e.y+this.yoff;return this.pos.r221(t,r,menu.submenu.colorPicker.circleLowBounds,menu.submenu.colorPicker.circleUpBounds),this.pos.Apply(menu.submenu.colorPicker.colorCircle.actualObj),this.pos}},menu.submenu.colorPicker.hueArrows.eventConfig={yoff:0,r90:function(e){var t=menu.submenu.colorPicker.actualObj;t.style.visibility="visible",t.style.display="block",this.view=document.getElementById("colorTestBox"),obj=menu.submenu.colorPicker.hueArrows.actualObj;var r=obj.style.top;return r=parseInt(r.substring(0,r.length-2)),this.pos=new menu.submenu.colorPicker.Position(0,r),this.yoff=r-e.currentPos.y,!0},r87:function(e){var t=this.r21(e.currentPos);menu.submenu.colorPicker.currentColor.r6(359.99*(menu.submenu.colorPicker.hueHeight-t.Y)/(menu.submenu.colorPicker.hueHeight-1),menu.submenu.colorPicker.currentColor.Saturation(),menu.submenu.colorPicker.currentColor.Value()),menu.submenu.colorPicker.gBox.style.backgroundColor=menu.submenu.colorPicker.Colors.r0(menu.submenu.colorPicker.currentColor.Hue(),1,1).r4();var r=this.view,n=menu.submenu.colorPicker.args.name;return r.style[n]=menu.submenu.colorPicker.currentColor.r4(),!0},r91:function(){menu.submenu.colorPicker.syncTestBox()},r21:function(e){var t=e.y+this.yoff;return this.pos.r221(0,t,menu.submenu.colorPicker.arrowsLowBounds,menu.submenu.colorPicker.arrowsUpBounds),this.pos.Apply(menu.submenu.colorPicker.hueArrows.actualObj),this.pos}},menu.submenu.colorPicker.syncTestBox=function(e){var t=e;t||(t=menu.submenu.colorPicker.currentColor.r4());var r=menu.submenu.colorPicker.colorArray.length,n=menu.submenu.colorPicker.activeBall,i=menu.submenu.colorPicker.colorArray[n];if(3>r){i.color=t;var l=document.getElementById("colorBall0","on");l.style["background-color"]=i.color;var a=document.getElementById("colorTestBox");a.style.background=t,a.gradient=null}else{i.color=t,i.colorBall.style["background-color"]=i.color;var o="linear-gradient(to bottom";if(func1=menu.submenu.colorPicker.r54()){var a=document.getElementById("colorTestBox");a.style.background=o+func1,a.gradient=func1}}},menu.submenu.colorPicker.gradientBall.eventConfig={yoff:0,yBottom:125,yTop:2,colorLen:0,colorBall:"a",click:!1,r90:function(e){this.colorBall=e.targetModel,this.colorLen=menu.submenu.colorPicker.colorArray.length-1;var t=menu.submenu.colorPicker.colorArray[this.colorLen];if(t.colorBall===this.colorBall)this.ballLine=t.colorLine;else for(var r=this.colorLen-1;r>-1;r--)if(t=menu.submenu.colorPicker.colorArray[r],t.colorBall===this.colorBall){this.colorLen=r,this.ballLine=t.colorLine;break}if(this.colorLen){var n=this.colorBall.style.top;n=parseInt(n.substring(0,n.length-2));var i=this.ballLine.style.top;return i=parseInt(i.substring(0,i.length-2)),this.yoff=n-e.currentPos.y,this.yDiff=n-i,this.click=!0,!0}},r87:function(e){if(this.colorLen){var t=this.colorBall,r=this.yoff+e.currentPos.y;return r<this.yTop?r=this.yTop:r>this.yBottom&&(r=this.yBottom),t.style.top=r+"px",this.ballLine.style.top=r-this.yDiff+"px",this.click=!1,!0}},r91:function(){var e=menu.submenu.colorPicker.colorArray[menu.submenu.colorPicker.activeBall];if(e.colorBall.innerHTML=""+(menu.submenu.colorPicker.activeBall+1),menu.submenu.colorPicker.activeBall=this.colorLen,this.colorBall.innerHTML="on",this.colorLen){var t=this.colorBall.style.top;t=parseInt(t.substring(0,t.length-2));var r=100-100*t/(this.yBottom-this.yTop);0>r&&(r=0);var n=menu.submenu.colorPicker.colorArray[this.colorLen],i=n.color;if(i||(i=menu.submenu.colorPicker.currentColor.r4()),n.stop=r,menu.submenu.colorPicker.activeBall===menu.submenu.colorPicker.colorArray.length-1)menu.submenu.colorPicker.createBall(menu.submenu.colorPicker.colorArray.length," off");else if(e=menu.submenu.colorPicker.colorArray[menu.submenu.colorPicker.activeBall-1],e.stop<r){menu.submenu.colorPicker.colorArray.sort(function(e,t){return e.stop>t.stop?-1:1});for(var l=n.colorBall,a=menu.submenu.colorPicker.colorArray.length-2;a>0;a--){var o=menu.submenu.colorPicker.colorArray[a];if(o.colorBall===l){menu.submenu.colorPicker.activeBall=a;break}}}else{var s=menu.submenu.colorPicker.colorArray[menu.submenu.colorPicker.activeBall+1];if(s.stop>r){menu.submenu.colorPicker.colorArray.sort(function(e,t){return e.stop>t.stop?-1:1});for(var l=n.colorBall,a=menu.submenu.colorPicker.colorArray.length-2;a>0;a--){var o=menu.submenu.colorPicker.colorArray[a];if(o.colorBall===l){menu.submenu.colorPicker.activeBall=a;break}}}}menu.submenu.colorPicker.syncTestBox(i);var d=document.getElementById("gradientPick");0===d.selectedIndex&&(d.selectedIndex=2)}}},menu.submenu.colorPicker.r247=function(e,t){t&&(t.selectedIndex=0);var r=AdlerBaseExt.r125(),n=JSON.parse(e);return"custom"===n.color?(menu.submenu.colorPicker.simpleSelect.args=t.args,menu.submenu.colorPicker.args=t.args,menu.submenu.colorPicker.r10({invokation:"custom",name:t.args.name,cssType:t.args.name},r),void 0):"transparent"===n.color?(this.view.dirty||Adler.addUndo(this.view,"changed"),this.view.r213(t.args.name,n.color,t.args.cssType),void 0):(menu.submenu.colorPicker.currentColor.r8(n.r,n.g,n.b),menu.submenu.colorPicker.r48("box"),this.view.dirty||Adler.addUndo(this.view,"changed"),this.view.r213(t.args.name,n.color,t.args.cssType),void 0)},menu.submenu.colorPicker.r246=function(e){var t=e.value;menu.submenu.colorPicker.currentColor.r5(t);var r=AdlerBaseExt.r125();r.dirty||Adler.addUndo(r,"changed"),r.r213("background-color",menu.submenu.colorPicker.currentColor.r135(),"Background")},menu.submenu.colorPicker.patternGradient=function(e){var t=e.r64,r=e.patternCode,n=document.getElementById("actionPick");n.selectedIndex=1;var i=document.getElementById("gradientPick"),l="";30===r?"E"==t||"W"==t?i.selectedIndex=2:"N"==t||"S"==t?(l="Created Vertical Gradient",i.selectedIndex=4,func="linear-gradient(to right"):"NE"==t||"SW"==t?(l="Created Diagonal Gradient",func="linear-gradient(to 135deg",i.selectedIndex=6):("NW"==t||"SE"==t)&&(l="Created Diagonal Gradient",func="linear-gradient(to 45deg",i.selectedIndex=5):(func="radial-gradient(ellipse at center",l="Created Radial Gradient",i.selectedIndex=3),menu.submenu.colorPicker.applyColor(n,i)},menu.submenu.colorPicker.applyColor=function(e,t){var r=e;r||(r=event.target);var n=r.selectedIndex,i=this.view,l=r.options[n].value;if("apply"===l){i.dirty||Adler.addUndo(i,"changed");var a=document.getElementById("colorDisplay"),o=!0,s=document.getElementById("colorTestBox"),d=s.gradient,c=s.style["background-color"];if(d){var u=t;u||(u=document.getElementById("gradientPick"));var p=u.options[u.selectedIndex].value+d;menu.submenu.colorPicker.addPalette(p,a,o);var g="background",m="Background";menu.submenu.colorPicker.args&&(g=menu.submenu.colorPicker.args.name,m=menu.submenu.colorPicker.args.cssType,"background-color"===g&&(g="background-image")),i.r213(g,p,m)}else{var g="background",m="Background";menu.submenu.colorPicker.args&&(g=menu.submenu.colorPicker.args.name,m=menu.submenu.colorPicker.args.cssType),i.r213(g,menu.submenu.colorPicker.currentColor.r135(),m),menu.submenu.colorPicker.addPalette(c,a,o)}}else if("removeAll"===l){var u=document.getElementById("gradientPick");u.selectedIndex=0;for(var f,y=menu.submenu.colorPicker.colorArray.length-1;y>0;y--)f=menu.submenu.colorPicker.colorArray[y],garbage.appendChild(f.colorBall),garbage.appendChild(f.colorLine),menu.submenu.colorPicker.colorArray.splice(y,1);garbage.innerHTML="";var h=document.getElementById("colorBall0");h.innerHTML="on",menu.submenu.colorPicker.createBall(1,"off"),menu.submenu.colorPicker.activeBall=0,menu.submenu.colorPicker.syncTestBox(),i.r213("background","transparent","Background")}else if("removeOne"===l){var s=document.getElementById("colorTestBox");s.gradient=null;var y=menu.submenu.colorPicker.activeBall,f=menu.submenu.colorPicker.colorArray[y];garbage.appendChild(f.colorBall),garbage.appendChild(f.colorLine),garbage.innerHTML="",menu.submenu.colorPicker.colorArray.splice(y,1),menu.submenu.colorPicker.activeBall=menu.submenu.colorPicker.colorArray.length-2,menu.submenu.colorPicker.activeBall<0&&(menu.submenu.colorPicker.activeBall=0);for(var f,y=0;y<menu.submenu.colorPicker.activeBall;y++)f=menu.submenu.colorPicker.colorArray[y],f.colorBall.innerHTML=y+"";f=menu.submenu.colorPicker.colorArray[menu.submenu.colorPicker.activeBall],f.colorBall.innerHTML="on",menu.submenu.colorPicker.syncTestBox(f.color)}r.selectedIndex=0},menu.submenu.colorPicker.colorArray=null,menu.submenu.colorPicker.r11=function(){},menu.submenu.colorPicker.r54=function(){var e="",t=menu.submenu.colorPicker.colorArray,r=t.length,n=!1;if(r>1)for(var i=1;r>i;i++){var l=t[i],a=l.stop;if(!(0>a)){a=100-a;var o=l.color;e=e+","+o+" "+a.toFixed(3)+"%",n=!0}}return n?(e=","+t[0].color+" "+(100-t[0].stop).toFixed(3)+"%"+e,e+=")"):""},menu.submenu.colorPicker.createPalettes=function(){var e=document.getElementsByName("colorPalet");if(!(e&&e.length>0)){var t=!1,r=document.getElementById("colorDisplay");if(Adler.manifest.color)for(var n=Adler.manifest.color.length,i=0;n>i;i++){var l=Adler.manifest.color[i];menu.submenu.colorPicker.addPalette(l,r,t)}}},menu.submenu.colorPicker.addPalette=function(e,t,r){if(r){if(Adler.manifest.color)for(var n=Adler.manifest.color.length,i=0;n>i;i++){var l=Adler.manifest.color[i];if(e===l)return}else Adler.manifest.color=new Array;Adler.manifest.color.push(e)}var a=document.createElement("div");a.setAttribute("name","colorPalet"),a.setAttribute("style","width:25px;height:25px;margin:3px;box-shadow:1px 1px 1px gray"),a.style.background=e,a.onclick=function(){var e=AdlerBaseExt.r125();if(e&&e!==Adler.canvasView){var t=event.target,r=t.style.background;e.r213("background",r,"Background")}},t.appendChild(a)},menu.submenu.colorPicker.Colors=new function(){function e(){function t(){var e=Math.max(Math.max(n,i),l),t=Math.min(Math.min(n,i),l);if(s=e,o=0,0!=e&&(o=1-t/e),a=0,t!=e){var r=e-t;a=n==e?(i-l)/r:i==e?2+(l-n)/r:4+(n-i)/r,a=60*a,0>a&&(a+=360)}}function r(){if(n=s,i=s,l=s,0!=s&&0!=o){var e=a/60,t=Math.floor(e),r=e-t,d=s*(1-o),c=s*(1-o*r),u=s*(1-o*(1-r));switch(t){case 0:n=s,i=u,l=d;break;case 1:n=c,i=s,l=d;break;case 2:n=d,i=s,l=u;break;case 3:n=d,i=c,l=s;break;case 4:n=u,i=d,l=s;break;default:n=s,i=d,l=c}}}var n=0,i=0,l=0,a=0,o=0,s=0;
this.r8=function(e,r,a){return isNaN(e)||isNaN(r)||isNaN(a)?!1:(e/=255,n=e>1?1:0>e?0:e,r/=255,i=r>1?1:0>r?0:r,a/=255,l=a>1?1:0>a?0:a,t(),!0)},this.Red=function(){return Math.round(255*n)},this.Green=function(){return Math.round(255*i)},this.Blue=function(){return Math.round(255*l)},this.r6=function(e,t,n){return isNaN(e)||isNaN(t)||isNaN(n)?!1:(a=e>=360?359.99:0>e?0:e,o=t>1?1:0>t?0:t,s=n>1?1:0>n?0:n,r(),!0)},this.r5=function(e){this.alpha=e},this.Hue=function(){return a},this.Saturation=function(){return o},this.Value=function(){return s},this.Setr4=function(e){if(null==e||"string"!=typeof e)return!1;if("#"==e.substr(0,1)&&(e=e.substr(1)),6!=e.length)return!1;var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return this.r8(t,r,n)},this.r4=function(){var e=this.Red().toString(16);1==e.length&&(e="0"+e);var t=this.Green().toString(16);1==t.length&&(t="0"+t);var r=this.Blue().toString(16);return 1==r.length&&(r="0"+r),("#"+e+t+r).toUpperCase()},this.r135=function(){var e,t=this.alpha;return e=t?"rgba("+this.Red()+","+this.Green()+","+this.Blue()+","+t+")":"rgb("+this.Red()+","+this.Green()+","+this.Blue()+")"},this.r3=function(){var t=a>=180?a-180:a+180,r=s*(o-1)+1,n=s*o/r,i=new e;return i.r6(t,n,r),i}}this.r0=function(t,r,n){var i=new e;return i.r6(t,r,n),i},this.r2=function(t,r,n){var i=new e;return i.r8(t,r,n),i},this.r1=function(t){var r=new e;return r.Setr4(t),r}},menu.submenu.colorPicker.Position=function(e,t){this.X=e,this.Y=t,this.r221=function(e,t,r,n){e<r.X&&(e=r.X),e>n.X&&(e=n.x),t<r.Y&&(t=r.Y),t>n.Y&&(t=n.Y),this.X=e,this.Y=t},this.Add=function(e){var t=new menu.submenu.colorPicker.Position(this.X,this.Y);return null!=e&&(isNaN(e.X)||(t.X+=e.X),isNaN(e.Y)||(t.Y+=e.Y)),t},this.Subtract=function(e){var t=new menu.submenu.colorPicker.Position(this.X,this.Y);return null!=e&&(isNaN(e.X)||(t.X-=e.X),isNaN(e.Y)||(t.Y-=e.Y)),t},this.Min=function(e){var t=new menu.submenu.colorPicker.Position(this.X,this.Y);return null==e?t:(!isNaN(e.X)&&this.X>e.X&&(t.X=e.X),!isNaN(e.Y)&&this.Y>e.Y&&(t.Y=e.Y),t)},this.Max=function(e){var t=new menu.submenu.colorPicker.Position(this.X,this.Y);return null==e?t:(!isNaN(e.X)&&this.X<e.X&&(t.X=e.X),!isNaN(e.Y)&&this.Y<e.Y&&(t.Y=e.Y),t)},this.Bound=function(e,t){var r=this.Max(e);return r.Min(t)},this.Check=function(){var e=new menu.submenu.colorPicker.Position(this.X,this.Y);return isNaN(e.X)&&(e.X=0),isNaN(e.Y)&&(e.Y=0),e},this.Apply=function(e){"string"==typeof e&&(e=document.getElementById(e)),null!=e&&(isNaN(this.X)||(e.style.left=this.X+"px"),isNaN(this.Y)||(e.style.top=this.Y+"px"))}},menu.submenu.colorPicker.pointerOffset=new menu.submenu.colorPicker.Position(0,navigator.userAgent.indexOf("Firefox")>=0?1:0),menu.submenu.colorPicker.circleOffset=new menu.submenu.colorPicker.Position(5,5),menu.submenu.colorPicker.arrowsOffset=new menu.submenu.colorPicker.Position(0,4),menu.submenu.colorPicker.arrowsLowBounds=new menu.submenu.colorPicker.Position(0,-4),menu.submenu.colorPicker.arrowsUpBounds=new menu.submenu.colorPicker.Position(0,124),menu.submenu.colorPicker.circleLowBounds=new menu.submenu.colorPicker.Position(-5,-5),menu.submenu.colorPicker.circleUpBounds=new menu.submenu.colorPicker.Position(123,123),menu.submenu.colorPicker.r52=function(e,t,r){return r?e.Subtract(t):e.Add(t)},menu.submenu.colorPicker.r48=function(e){if(null==menu.submenu.colorPicker.gBox&&(menu.submenu.colorPicker.gBox=document.getElementById("gradientBox")),null==menu.submenu.colorPicker.hArrow&&(menu.submenu.colorPicker.hArrow=document.getElementById("hueArrows")),("arrows"==e||"box"==e)&&(menu.submenu.colorPicker.gBox.style.backgroundColor=menu.submenu.colorPicker.Colors.r0(menu.submenu.colorPicker.currentColor.Hue(),1,1).r4()),"box"==e){menu.submenu.colorPicker.hArrow.style.top=menu.submenu.colorPicker.hueHeight-menu.submenu.colorPicker.currentColor.Hue()*(menu.submenu.colorPicker.hueHeight-1)/359.99-menu.submenu.colorPicker.arrowsOffset.Y+"px";var t=new menu.submenu.colorPicker.Position(255*menu.submenu.colorPicker.currentColor.Value()*menu.submenu.colorPicker.xRatio,255*(1-menu.submenu.colorPicker.currentColor.Saturation())*menu.submenu.colorPicker.yRatio);t=menu.submenu.colorPicker.r52(t,menu.submenu.colorPicker.circleOffset,!0),t.Apply("colorCircle")}},nnn("menu.submenu.dom"),menu.submenu.dom.table=new AdlerBaseMenuExt.AdlerMenu({actualObjId:"tbCreate",type:"button"}),menu.submenu.dom.table.updateRow=function(e){Adler.trace&&console.log("enering table update Row - "+e),this.view=AdlerBaseExt.r125();var t=this.view;t.tbRows=e,t.tbColumns&&menu.submenu.dom.table.r57(t)},menu.submenu.dom.table.r248=function(e){Adler.trace&&console.log("enering table update column - "+e),this.view=AdlerBaseExt.r125();var t=this.view;t.tbColumns=e,t.tbRows&&menu.submenu.dom.table.r57(t)},menu.submenu.dom.table.r57=function(e,t){e.dirty||Adler.addUndo(e,"changed"),Adler.trace&&console.groupCollapsed("enering table create ");var r=e.children;r&&r.empty();var n,i,l,a;n=e.r103(),i=e.r104();var o,s,d,c,l=e.r146(),a=e.getHeight(),u=AdlerBaseExt.r53({x:n,y:i,w:l,h:a,view:e,ln:{x:null,y:c},type:"table","static":!0});o=l/e.tbColumns,s=a/e.tbRows,d=n,c=i;for(var p=0;p<e.tbRows;p++){for(var g=AdlerBaseExt.r53({x:d,y:c,w:l,h:s,view:u,ln:{x:null,y:c},type:"tr","static":!0}),m=d,f=0;f<e.tbColumns;f++){var r=AdlerBaseExt.r53({x:m,y:c,w:o,h:s,view:g,ln:{x:m,y:null},type:"td","static":!0});m+=o,t||r.r213("border","1px dashed black","Border")}c+=s}Adler.trace&&console.groupEnd()},menu.submenu.dom.button=function(e){e.view.r131().r139("Border"),e.view.r131().r139("Text"),e.view.r131().r139("Background"),e.view.type="button",e.view.r80(),9===Adler.mode&&(Adler.mode=0),clear.r36();var t=e.actualObj.value;e.view.r225ue(t),menuSrch.onFocus.apply(null,{}),e.actualObj.value=""},menu.submenu.dom.span=function(e){var t=e.actualObj.value;e.view=menu.submenu.dom.r56(e.view,t),9===Adler.mode&&(Adler.mode=0),clear.r36(),e.actualObj.value=""},menu.submenu.dom.option=function(e){var t=e.actualObj.value,r=AdlerBaseExt.r125(),n=new DivViewModel({type:"option",objStyleCollection:new AdlerStyleCollection({}),parent:r,value:t});n.r80(),e.actualObj.value=""},menu.submenu.dom.r56=function(e,t){var r=!0,n=e.r131().r139("Text");n.text_align="center";var i=e.parent;if(i){var l=i.getHeight(),a=e.getHeight();if("number"!=typeof a&&(a=parseInt(a.substring(0,a.length-2))),3.5>l/a){var o=e.r146();"number"!=typeof o&&(o=parseInt(o.substring(0,o.length-2)));var s=i.r146();3>s/o&&(e=i,r=!1)}}return r&&(e.type="span",e.r80()),e.r225ue(t),menuSrch.onFocus.apply(null,{}),e},menu.submenu.dom.r32=function(e,t,r){AdlerBaseExt.r39(e,t);var n=AdlerBase.r46(t.r131());t.r66;var i=new DivViewModel({type:r,objStyleCollection:n,r66:t.r66,adlerType:"endObject"}),l=!0;"span"===r?(i.r80(t.parent,!0),i.actualObj.contentEditable="true",i.r213("text-align","center","Text")):i.r80(t.parent,!0),i.actualObj.setAttribute("draggable","false"),l&&t.r62()},menu.submenu.dom.showNoteEditor={args:"",view:null,r10:function(){Adler.editor.active=!0,r152(document.getElementById("noteEdt"),"visible");var e=workflow.process[workflow.currentProcess].note;e&&(Adler.noteEditor.value=e)},der10:function(){workflow.process[workflow.currentProcess].note=Adler.noteEditor.value,Adler.noteEditor.value="",r152(document.getElementById("noteEdt"),"hidden"),menu.submenu.dom.showNoteEditor.args="",menu.submenu.dom.showNoteEditor.view=null,Adler.editor.active=!1}},menu.submenu.dom.showEditor={args:"",eventConfig:{r91:function(){var e=AdlerBaseExt.r125();menu.submenu.dom.showEditor.r10(null,e)}},originalValue:"",originalClone:null,view:null,headerList:{},customClasses:null,r10:function(e,t){Adler.editor.active=!0,Adler.editor.htmlActive=!0,Adler.editor.blinkCursor.style.visibility="hidden",r152(document.getElementById("edt"),"visible"),menu.submenu.dom.showEditor.args=e,menu.submenu.dom.showEditor.view=t,language.editor.view=t,language.editor.editBox=document.getElementById("editor"),null==language.editor.editBox.keyup&&(language.editor.editBox.keyup=language.editor.assist);var r=t.r66;t.parent.getObjId();var n=t.getObjId(),i="<!-- If you want to change style/class of the 'TOP MOST' element (restriction -- ONLY for Top Most), please click on style tab-->\r\n",l=i+"<"+t.type+" id='"+n+"' ";for(var a in r)l=l+"\r\n "+a+"='"+r[a]+"' ";this.customClasses=t.r131().r114(!0),this.customClasses&&(l=l+" class='"+this.customClasses+"' ");var o={html:""},s=t.children;if(s)for(var d=2,c=s.getNext();c;)o=custom.generate.dynamicHTML(c,n,"\r\n   ",o,2,d),c=s.getNext();l=l+">"+o.html+"\r\n </"+t.type+">";for(var u=function(){var e=event.target,t=e.value,r=e.previousSibling,n="",i=!1;"SPAN"===r.nodeName?n=r.innerHTML:(i=!0,n=r.value);var l=r.parentElement.parentElement.previousSibling,a=l.innerHTML;if(t&&n){t.indexOf("px")>-1&&("left"===n||"top"===n||"width"===n||"height"===n)&&(t=parseInt(t.substring(0,t.length-2)));var o=AdlerBaseExt.r125();if(o!==Adler.canvasView&&(o.r213(n,t,a),i)){garbage.appendChild(r),garbage.innerHTML="",r=document.createElement("span"),r.setAttribute("style","display:inline-block;width:200px;text-align:left;"),r.innerHTML=n,e.parentElement.insertBefore(r,e);var s=document.createElement("li"),r=document.createElement("input"),t=document.createElement("input");r.setAttribute("style","display:inline-block;width:200px;"),r.setAttribute("placeholder","name"),t.setAttribute("placeholder","value"),t.onblur=u,s.appendChild(r),s.appendChild(t),e.parentElement.parentElement.appendChild(s)}}},p=document.createElement("ul"),g=t.r131(),m=g.getNext(),f=["Misc","Visibility","Background","Text","Border","Shape","Location"];m;){for(var y=m.styleType,h=f.length-1;h>-1;h--)if(y===f[h]){f.splice(h,1);break}var v=document.createElement("li"),w=document.createElement("span"),A=document.createElement("ul");v.appendChild(w),v.appendChild(A),p.appendChild(v),w.innerHTML=y;var b,x,S,k;k=!0,x=!1;for(var T=m.stringify(b,x,S,k),h=0,I=T.length;I>h;h++){var P=T[h],C=document.createElement("li"),E=document.createElement("span"),B=document.createElement("input");E.setAttribute("style","display:inline-block;width:200px;text-align:left;"),E.innerHTML=P.name,B.setAttribute("value",P.value),B.onblur=u,C.appendChild(E),C.appendChild(B),A.appendChild(C)}var C=document.createElement("li"),E=document.createElement("input"),B=document.createElement("input");E.setAttribute("style","display:inline-block;width:200px;text-align:left;"),E.setAttribute("placeholder","name"),B.setAttribute("placeholder","value"),B.onblur=u,C.appendChild(E),C.appendChild(B),A.appendChild(C),m=g.getNext()}for(var h=f.length-1;h>-1;h--){var v=document.createElement("li"),w=document.createElement("span"),A=document.createElement("ul");v.appendChild(w),v.appendChild(A),w.innerHTML=f[h],p.appendChild(v);var C=document.createElement("li"),E=document.createElement("input"),B=document.createElement("input");E.setAttribute("style","display:inline-block;width:200px;text-align:left;"),E.setAttribute("placeholder","name"),B.setAttribute("placeholder","value"),B.onblur=u,C.appendChild(E),C.appendChild(B),A.appendChild(C)}var j="Inline"+t.getId(),O=workflow.process[j],M="";O&&O.script&&(M=O.script);var D="// this function will be called onload unless you create your own\r\n// example --- //document.getElement('id').addEventListner('click',fn,false)//function fn() {} ",N="",L="type any note here";O&&O.note&&(N=O.note);var _="",H="e.g. <script src='http://xyz.com' type='text/javascript'/>\r\n<link rel='stylesheet' href='//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css'>";if(menu.submenu.dom.showEditor.headerList={},O&&O.include&&(menu.submenu.dom.showEditor.headerList=menu.widgets.addHeaders(O.include)),menu.submenu.dom.showEditor.headerList){var V=menu.submenu.dom.showEditor.headerList;if(V.linkArray)for(var h=0,F=V.linkArray.length;F>h;h++)_=_?_+"\r\n<link rel='stylesheet' href='"+V.linkArray[h]+"'  />":_+"<link rel='stylesheet' href='"+V.linkArray[h]+"'  />";if(V.scriptArray)for(var h=0,F=V.scriptArray.length;F>h;h++)_=_?_+"\r\n<script src='"+V.scriptArray[h]+"' type='text/javascript' />":_+"<script src='"+V.scriptArray[h]+"' type='text/javascript' />"}language.editor.tabHtml.data=l,language.editor.tabHtml.placeHolder="<!-- the style for top level div is on the style tab -->",language.editor.tabStyle.data=p,language.editor.tabScript.data=M,language.editor.tabScript.placeHolder=D,language.editor.tabNote.data=N,language.editor.tabNote.placeHolder=L,language.editor.tabHeader.data=_,language.editor.tabHeader.placeHolder=H,language.editor.tabStyle.dirty=!1,language.editor.tabHtml.dirty=!1,language.editor.tabScript.dirty=!1,language.editor.tabNote.dirty=!1,language.editor.tabHeader.dirty=!1;var U=null;if(e)switch(e.name){case"html":U=language.editor.tabHtml;break;case"style":U=language.editor.tabStyle;break;default:U=language.editor.tabNote}else U=language.editor.tabHtml;language.editor.existing="",language.editor.r99({target:U}),language.editor.existing=U},der10:function(){var e=menu.submenu.dom.showEditor.view;Adler.editor.active=!1,Adler.editor.htmlActive=!1;var t=language.editor.existing;if(t.style.color="grey",t.style["z-index"]=31,t.style["box-shadow"]="0px 0px 0px 0px rgba(50, 50, 50, 0.75)",r152(document.getElementById("edt"),"hidden"),language.editor.tabHtml.dirty){var r="";r=t===language.editor.tabHtml?document.getElementById("editor").value:language.editor.tabHtml.data,garbage.innerHTML=r;for(var n,i={},l=garbage.firstElementChild,a=0,o=l.attributes,s=o.length;s>a;a++){n=o.item(a);var d=n.nodeName;if("id"===d);else if("class"===d){var c=e.r131(),u=new Array;this.customClasses&&(u=this.customClasses.split(" "));for(var p=n.nodeValue.split(" "),g=0,m=p.length;m>g;g++){var f=p[g].trim();if(f){var y=c.r139("Custom",f);y.styleClassName=f}}for(var g=u.length-1;g>-1;g--){var h=!1,v=u[g].trim();if(v){for(var w=0,A=p.length;A>w;w++){var f=p[w].trim();if(f&&f===v){h=!0;break}}if(!h){var b=c.r139("Custom",v);c.removeItem(b),b.r62()}}}e.setAttribute("class",c.r114())}else if("src"===d){var x=!1,S=getImage(e.fileName,!0);S&&(x=!0),i[d]=n.nodeValue,e.fileName=n.nodeValue;var k=e.actualObj.getAttribute("data-adler"),w=JSON.parse(k);w.fileName=n.nodeValue,e.actualObj.setAttribute("data-adler",JSON.stringify(w));var S=getImage(e.fileName);if(S){var T=e.fileName,I="png";T.indexOf(".jpeg")>-1?I="jpeg":T.indexOf(".gif")>-1&&(I="gif");var P="data:image/"+I+";base64,"+S.imageData;e.actualObj.setAttribute("src",P)}else if(x){var C=e.actualObj.getAttribute("src"),E=C.split(";"),B=E[1].substring(7);S={imageName:e.fileName,imageData:B},insertImage(S)}}else i[d]=n.nodeValue,e.actualObj.setAttribute(d,n.nodeValue)}e.r66=i;var j=e.children;j&&j.empty(),Adler.storage.externalHTMLFrag(e,l.innerHTML),garbage.innerHTML=""}if(language.editor.tabHeader.dirty){var O,M=e.getId();workflow.InitLight("Inline"+M,M);var D="";D=t===language.editor.tabHeader?document.getElementById("editor").value:language.editor.tabHeader.data,workflow.process["Inline"+M].include=D,O=menu.widgets.addHeaders(D);var N=menu.submenu.dom.showEditor.headerList.linkArray,L=menu.submenu.dom.showEditor.headerList.scriptArray,_=O.linkArray,H=O.scriptArray;if(N){_||(_=new Array);for(var a=N.length-1;a>-1;a--){for(var V=N[a],h=!1,w=_.length-1;w>-1;w--)if(_[w]===V){h=!0;break}if(!h)for(var F=Adler.page.manifest.style,w=F.length-1;w>-1;w--)if(F[w]===V){Adler.page.manifest.style.splice(w,1);break}N.splice(a,1)}}if(L){H||(H=new Array);for(var a=L.length-1;a>-1;a--){for(var U=L[a],h=!1,w=H.length-1;w>-1;w--)if(H[w]===U){h=!0;break}if(!h)for(var R=Adler.page.manifest.script,w=R.length-1;w>-1;w--)if(R[w]===U){Adler.page.manifest.script.splice(w,1);break}L.splice(a,1)}}}if(language.editor.tabNote.dirty){var M=e.getId();workflow.InitLight("Inline"+M,M);var W="";W=t===language.editor.tabNote?document.getElementById("editor").value:language.editor.tabNote.data,workflow.process["Inline"+M].note=W}if(language.editor.tabScript.dirty){var M=e.getId();workflow.InitLight("Inline"+M,M);var z="";z=t===language.editor.tabScript?document.getElementById("editor").value:language.editor.tabScript.data,workflow.process["Inline"+M].script=z}AdlerBaseExt.r39(!1,e),menu.submenu.dom.showEditor.args="",menu.submenu.dom.showEditor.view=null,language.editor.existing=""}},menu.submenu.dom.showInnerHTML={editor:"",args:"",originalValue:"",originalClone:null,view:null,r66:function(e){for(var t=e.attributes,r=t.length-1;r>-1;r--){var n=t[r],i=n.name;0===i.indexOf("data")?e.removeAttribute(i):"draggable"===i&&e.removeAttribute(i)}return e},r10:function(e,t){menu.submenu.dom.showInnerHTML.args=e,menu.submenu.dom.showInnerHTML.view=t;var r=document.getElementById("htmlEditorDiv");r.style.visibility="visible",menu.submenu.dom.showInnerHTML.editor=document.getElementById("htmlEditor");var n=menu.submenu.dom.showInnerHTML.r66(t.actualObj.cloneNode(!1));garbage.appendChild(n);var i=garbage.innerHTML;menu.submenu.dom.showInnerHTML.editor.value=i,menu.submenu.dom.showInnerHTML.originalValue=i,menu.submenu.dom.showInnerHTML.originalClone=n,garbage.removeChild(n)},der10:function(){var e=menu.submenu.dom.showInnerHTML.view;document.getElementById("htmlEditorDiv").style.visibility="hidden";var t=menu.submenu.dom.showInnerHTML.editor.value;if(t===menu.submenu.dom.showInnerHTML.originalValue)return menu.submenu.dom.showInnerHTML.originalValue="",menu.submenu.dom.showInnerHTML.view=null,void 0;garbage.innerHTML=t;for(var r=menu.submenu.dom.showInnerHTML.originalClone.attributes,n=garbage.firstChild.attributes,i=n.length-1;i>-1;i--){var l=n[i],a=l.name,o=l.value,s=r[a];if(!s||s.value!==o){if("style"===a){var d=e.objStyleCollection;d.empty(!0),d.r13(garbage.firstChild),Adler.selectDiv&&AdlerBaseExt.r39(null,e)}e.setAttribute(a,o)}}garbage.innerHTML="",menu.submenu.dom.showInnerHTML.originalValue="",menu.submenu.dom.showInnerHTML.view=null,menu.submenu.dom.showInnerHTML.originalClone=null},r180:function(e){var t=menu.submenu.dom.showInnerHTML.args,r=menu.submenu.dom.showInnerHTML.view;if(menu.submenu.dom.showInnerHTML.der10(),"parent"===e)r.parent&&(r=r.parent);else if("child"===e)r.children&&r.children.r118()>0&&(r=r.children.objectArray[0]);else if("sibling"===e){var n;if(r.parent){var i,n=r.parent;if(n.children&&n.children.r118()>0)for(var l=n.children.r118(),a=0;l>a;a++)if(i=n.children.objectArray[a],i===r){var o=a+1;if(o===l){if(0===a)return;o=0}r=n.children.objectArray[o];break}}}AdlerBaseExt.r202(r,!0),menu.submenu.dom.showInnerHTML.r10(t,r)}},menu.submenu.dom.showScript={args:null,view:null,name:null,editor:null,r10:function(e,t){var r=menu.submenu.dom.showScript;r.args=e,r.view=t;var n=document.getElementById("scriptEditorDiv");r152(n,"visible"),r.name=document.getElementById("scriptName"),r.editor=document.getElementById("scriptEditor"),r.name.value="",r.editor.value="";var i=document.getElementById("scriptSelect");if(i.innerHTML="",i.style.visibility="hidden",t.script){r.name.onfocus=function(){i.style.visibility="visible"};var l=0;for(var a in t.script)if("key"!==a){0===l&&(r.name.value=a,r.editor.value=t.script[a]);var o=document.createElement("option");o.setAttribute("value",t.script[a]),o.innerHTML=a,i.appendChild(o),l++}i.selectedIndex=0,i.onchange=function(){var e=i[i.selectedIndex];r.name.value=e.innerHTML,r.editor.value=e.value,i.style.visibility="hidden"}}},der10:function(){r152(document.getElementById("scriptEditorDiv"),"hidden")},r180:function(e){var t=menu.submenu.dom.showScript.args,r=menu.submenu.dom.showScript.view;if(menu.submenu.dom.showScript.der10(),"parent"===e)r.parent&&(r=r.parent);else if("child"===e)r.children&&r.children.r118()>0&&(r=r.children.objectArray[0]);else if("sibling"===e){var n;if(r.parent){var i,n=r.parent;if(n.children&&n.children.r118()>0)for(var l=n.children.r118(),a=0;l>a;a++)if(i=n.children.objectArray[a],i===r){var o=a+1;if(o===l){if(0===a)return;o=0}r=n.children.objectArray[o];break}}}AdlerBaseExt.r202(r,!0),menu.submenu.dom.showScript.r10(t,r)}},nnn("Adler.storage"),Adler.storage.save=function(e,t,r){if("local"===e){var n=t;"page"===n&&(n="page");var i=getPage(r,n);if(i){var l=!1;i.template!==Adler.page.template&&(i.template=Adler.page.template,l=!0),Adler.page.nextPages||(Adler.page.nextPages=new Array),Adler.page.widgets||(Adler.page.widgets=new Array),i.widgets=Adler.page.widgets,i.layout!==Adler.page.layout&&(i.layout=Adler.page.layout,l=!0),i.manifest=Adler.page.manifest,l=!0,l&&(delete i._id,i.size||(i.size=r16()),insertPage(i));var a={},o=!0,s={pageId:i.pageId,documentType:"html",docId:""};s=getPageArtifact(i.pageId,"html",o),a.htmlDocId=s.docId,s=getPageArtifact(i.pageId,"css",o),a.cssDocId=s.docId,s=getPageArtifact(i.pageId,"workflow",o),a.wkDocId=s.docId,Adler.storage.r235(i,n,a)}else{Adler.page.pageId=Adler.getNextId(),Adler.page.type=n;var d=r16();i={pageId:Adler.page.pageId,pageName:r,size:d,type:n,layout:Adler.layout,manifest:Adler.page.manifest},Adler.page.template&&(i.template=Adler.page.template),insertPage(i),sessionStorage.page=JSON.stringify(Adler.page),Adler.storage.r235(i,n)}}},Adler.storage.r235=function(e,t,r){var n={pageId:e.pageId,documentType:"html",data:Adler.canvasView.r240()};r&&(n.docId=r.htmlDocId),insertPageArtifacts(n),n={pageId:e.pageId,documentType:"workflow",data:JSON.stringify(workflow.process)},r&&(n.docId=r.wkDocId),insertPageArtifacts(n);var i="[",l=!0;gColl=Adler.globalCollection.objectArray;for(var a=gColl.length,o=0;a>o;o++)for(var s=gColl[o],d=s.r131(),c=d.getNext();c;){l?l=!1:i+=",";var u="";u=s.subType&&"img"===s.subType?c.stringify():c.stringify(),i=i+'{"styleClassName":"'+c.styleClassName+'","styleType":"'+c.styleType+'","detail":"'+u+'"}',c=d.getNext()}i+="]",n={pageId:e.pageId,documentType:"css",data:i},r&&(n.docId=r.cssDocId),insertPageArtifacts(n),r228(t+" "+e.pageName+" saved"),"fragment"!=t&&(Adler.page.pageId=e.pageId,Adler.page.pageName=e.pageName,Adler.page.layout=e.layout,Adler.page.type=e.type)},Adler.storage.getData=function(e,t,r,n){if(""!==r){var i;if("local"===e){var i=t,l=getPage(r,i);if(!l)return r228(r+"Not Found"),!1;if(n||"fragment"!=i&&"widget"!=i){if(Adler.page.pageName=l.pageName,Adler.page.layout=l.layout,Adler.page.type=l.type,Adler.page.pageId=l.pageId,Adler.page.userId=l.userId,Adler.page.template=l.template,l.widgets&&(Adler.page.widgets=l.widgets),Adler.interactive);else{var a=r16();Adler.canvasView.setWidth(a.winWidth),"Phone"===Adler.page.layout?menu.generic.phone.r10({},Adler.canvasView):"Tablet"===Adler.page.layout&&menu.generic.tablet.r10({},Adler.canvasView)}if(l.template){var o=l.template,s=!1,d=getImage(o,s),c=document.createElement("img");c.src=d.imageData,custom.gallery.image.i1(c),Adler.interactive||Adler.carvePen.cleanUp()}}var u=2;if(l.manifest){if(l.manifest.style)for(var p=0,g=l.manifest.style.length;g>p;p++)Adler.addHeaders(l.manifest.style[p],"style",u);if(l.manifest.script)for(var p=0,g=l.manifest.script.length;g>p;p++)Adler.addHeaders(l.manifest.script[p],"script",u)}var m=getPageArtifact(l.pageId,"html"),f=m.data;f||(f="");var y="";m=getPageArtifact(l.pageId,"workflow"),m&&(y=m.data,workflow.process=JSON.parse(y));var h=document.getElementById("processList"),v=!0;h||(v=!1),v&&(h.selectedIndex=0);var a=r16();workflow.coordinates={x:a.winWidth/2,y:a.winHeight/2};try{m=getPageArtifact(l.pageId,"css");var w=m.data;w&&(Adler.sheetJSON=JSON.parse(w))}catch(A){console.log(A)}Adler.storage.r58(f,Adler.canvasView,i),Adler.sheetJSON=null;var b=Adler.globalCollection.r118()+10;Adler.seq=Adler.seq+10>b?Adler.seq+10:b,r228(i+" "+l.pageName+" opened");for(var x in workflow.process){if(v){var S=document.createElement("option");S.innerHTML=x,h.appendChild(S)}if(x.indexOf("Inline")>-1){var k=workflow.process[x];if(k.include&&(headerList=menu.widgets.addHeaders(k.include)),k.id=x,k.classType="adlerProcess",k.r62=function(){delete workflow.process[this.id]},k.adlerId){var T=Adler.globalCollection.getItem(k.adlerId);T&&(T.InlineProcess=workflow.process["Inline"+k.adlerId])}}}if(Adler.page.widgets)for(var p=Adler.page.widgets.length-1;p>-1;p--){var I=Adler.page.widgets[p],P=I.id,C=Adler.globalCollection.getItem(P);C.widget=I,I.r62=function(){AdlerBaseExt.deleteWidget(this)}}}return!0}},Adler.storage.pages={opened:!1,r167:function(){var e=targetElement.dElement;e.style["-webkit-transform"]="scale(1,1)";var t=targetElement.div,r=targetElement.dimension,n=5*r.w,i=5*r.h;t.style.width=n+"px",t.style.height=i+"px"},r169:function(){var e=targetElement.dElement;e.style["-webkit-transform"]="scale(0.2,0.2)";var t=targetElement.div,r=targetElement.dimension,n=r.w,i=r.h;t.style.width=n+"px",t.style.height=i+"px"},config:{actualObj:null,pos:null,menuPos:null,finalPos:null,counter:0,mouseup:!1,r90:function(e){if(Adler.pen===Adler.workPen)return Adler.storage.pages.config.counter=0,Adler.storage.pages.config.mouseup=!1,Adler.storage.pages.config.scaledEl=null,e.r229(),void 0;this.pos=e.currentPos,r241=function(e){var t=e.parentNode;return t=t!==Adler.canvasView.actualObj&&t!==Adler.canvasView.actualObj.parentNode?r241(t):e};var t=e.targetModel;t=r241(t),this.actualObj=t;var r=e.currentPos.x,n=e.currentPos.y;this.menuPos={x:r,y:n}},r87:function(e){if(Adler.pen===Adler.workPen)return e.r230(),void 0;var t=e.currentPos,r=t.x-this.pos.x,n=t.y-this.pos.y,i=this.menuPos.x+r,l=this.menuPos.y+n;this.finalPos={x:i,y:l},this.actualObj.style.left=i+"px",this.actualObj.style.top=l+"px"},r91:function(){if(Adler.pen===Adler.workPen){findPage=function(e){for(var t=!0;t;){if((e===document.body||e===Adler.canvasView.actualBody)&&(t=!1),e.pageName)return t=!1,e;e=e.parentElement}return""},tFirst=targetArray[0].targetElement;var e=targetArray.length,t=targetArray[e-1].targetElement;null==t&&(t=targetArray[e-2].targetElement);var r=findPage(tFirst),n=r.pageName,i=findPage(t),l=i.pageName,a=n+"_"+r.getAttribute("id"),o=l+"_"+i.getAttribute("id");return null==tFirst.script&&(tFirst.script=new Object),tFirst.setAttribute("data-ng-click","moveTo"+l+"()"),tFirst.script["$scope.moveTo"+l]="function () { NaN"+a+"'); "+"\r\n   currentElement.style.visibility = 'hidden'; "+"\r\n   var nextElement = document.getElementById('"+o+"'); "+"\r\n   lastElement.style.visibility = 'visible'; "+"\r\n  } ",clear.r36(),void 0}var s=this.actualObj;if(s.opened)return!0;var d=s.innerHTML;html=Adler.storage.get(s.key+"innerHTML"),s.innerHTML=html;var c=s.firstChild.clientWidth,u=s.firstChild.clientHeight;c=.2*c+10,u=.2*u+20;var p=this.finalPos.x+20,g=this.finalPos.y-20,m=document.createElement("div");m.setAttribute("id",d+"control");var f="position:absolute;left:"+p+"px;top:"+g+"px;width:"+c+"px;height:"+u+"px;border:3px solid aqua;z-index:0;";m.setAttribute("style",f);var y=document.createElement("img");y.setAttribute("src","png/glyphicons_192_circle_remove.png"),y.setAttribute("style","width:12px;height;12px;padding-left:5px;padding-right:5px;");var h=document.createElement("img");h.setAttribute("src","png/glyphicons_191_circle_minus.png"),h.setAttribute("style","width:12px;height;12px;padding-left:5px;padding-right:5px;");var v=document.createElement("img");return v.setAttribute("src","png/glyphicons_190_circle_plus.png"),v.setAttribute("style","width:12px;height;12px;padding-left:5px;"),h.dElement=s,h.div=m,h.dimension={w:c,h:u},h.r91=Adler.storage.pages.r169,v.dElement=s,v.div=m,v.dimension={w:c,h:u},v.r91=Adler.storage.pages.r167,m.appendChild(y),m.appendChild(h),m.appendChild(v),Adler.canvasView.actualObj.appendChild(m),m.config=Adler.storage.pages.config,s.style["z-index"]="2",s.style["background-color"]="transperant",s.style["-webkit-transform"]="scale(0.2,0.2)",s.firstChild.pageName=d,s.pageName=d,Adler.storage.r154(s),s.opened=!0,!0}},r10:function(){if(!Adler.storage.pages.opened){var e,t;try{t=Adler.storage.get("Adler.pageCount")}catch(r){r.indexOf("chrome")>-1&&(Adler.environment="ChromeApp"),Adler.storage.get("Adler.pageCount")}if(!t)return r228("no saved pages"),"";e=parseInt(t);for(var n=10,i=75,l=0;e>l;l++){var a=Adler.storage.get("Adler.page"+l);if(0!==a.length){var o=document.createElement("div");o.setAttribute("id",a),o.setAttribute("data-page",a),o.innerHTML=a,o.setAttribute("style","position:absolute;font-size:12px;left:"+n+"%;top:"+i+"%;font-family:cursive;border:3px solid aqua;display:block;color:white;background-color:green;width:40px;padding-left:5px;padding-right:5px;z-index:1"),o.setAttribute("draggable","false"),Adler.canvasView.actualObj.appendChild(o),o.key="Adler.page"+l,n+=10,n>65&&(i+=5,n=5),o.config=Adler.storage.pages.config}}Adler.storage.pages.opened=!0}},der10:function(){}},Adler.storage.get=function(e){if(!Adler.environment){var t={};t.fileName=e,t.folder="/artifacts/";var r=JSON.stringify(t),n=window.location.pathname.split("/"),i=n3(r,"/"+n[1]+"/download/1",!1);return i.data}"ChromeApp"===Adler.environment&&chrome.storage.sync.get("name",function(){})},Adler.storage.r58=function(e,t,r){if("fragment"!=r){var t=Adler.storage.empty();t.actualObj.innerHTML=e,t.r65(t.actualObj)}else{t=new DivViewModel({type:"div",objStyleCollection:new AdlerStyleCollection({}),adlerType:"adlerCore",parent:Adler.canvasView}),t.actualObj=document.createElement("div"),t.actualObj.innerHTML=e,t.r65(t.actualObj),Adler.storage.fragTree(t.actualObj);var n=Adler.canvasView.children.getItem(t.getId());n&&(Adler.canvasView.children.removeItem(t),garbage.appendChild(t.actualObj),garbage.innerHTML="")}},Adler.storage.empty=function(){Adler.globalCollection.removeItem(Adler.canvasView),Adler.globalCollection.empty(),Adler.globalCollection.idArray=new Array;var e=Adler.canvasView;return e.ns=1,Adler.globalCollection.addItem(e),document.getElementById("drawArea").appendChild(e.actualObj),e},Adler.storage.r154=function(e,t){if(e.hasChildNodes())for(var r=e.firstChild;r;){if(1===r.nodeType)if(t){var n=r.nodeName,i=r.getAttribute("data-id"),l=new AdlerStyleCollection({});l.r13(r);for(var a={},o=e.attributes,s=o.length-1;s>-1;s--){var d=o[s];a[d.name]=d.value}var c=new DivViewModel({type:n,objStyleCollection:l,adlerType:"endObject",parent:t});c.actualObj=r,Adler.globalCollection.addItem(c);var i=c.getId();r.adlerId=i,Adler.storage.r154(r,c)}else r.r91=DivViewModel.r91,r.removeAttribute("data-id"),r.config=Adler.storage.pages.config,Adler.storage.r154(r);else t&&(t.value=r.data);r=r.nextSibling}},Adler.storage.r154=function(e,t){if(e.hasChildNodes())for(var r=e.firstChild;r;){if(1===r.nodeType){var n=r.nodeName,i=r.getAttribute("data-id"),l=new AdlerStyleCollection({});l.r13(r);for(var a={},o=e.attributes,s=o.length-1;s>-1;s--){var d=o[s];a[d.name]=d.value}var c=new DivViewModel({type:n,objStyleCollection:l,adlerType:"endObject",parent:t});c.actualObj=r,Adler.globalCollection.addItem(c);var i=c.getId();r.adlerId=i,Adler.storage.r154(r,c)}else 3===r.nodeType&&(t.value=r.data);r=r.nextSibling}},Adler.storage.fragTree=function(e){if(e.hasChildNodes())for(var t=e.firstChild;t;){if(1===t.nodeType){AdlerBase.r137(),t.nodeName;
var r=t.getAttribute("data-adler");r?(j=JSON.parse(r),j.dataType="fragment"):j={dataType:"fragment"},t.setAttribute("data-adler",JSON.stringify(j)),Adler.storage.fragTree(t)}var n=t;t=t.nextSibling;var i=n.parentNode,l=i.adlerId;if(null==l){var a=n.adlerId,o=Adler.globalCollection.getItem(a),s=AdlerBaseExt.n1(o);s.length>0?o.setParent(s[0]):o.setParent(Adler.canvasView)}}},Adler.storage.pageFound=!1,Adler.storage.externalHTMLTree=function(e,t,r,n){var i;if(n)i=n;else{i={};var l=r16();i.left=l.winWidth,i.width=l.winWidth,i.top=l.winHeight,i.height=l.winHeight}if(console.log(i),e.hasChildNodes())for(var a=e.firstChild;a;){if(1===a.nodeType){var o=r+"   ",s=a.nodeName;if("META"===s||"LINK"===s||"SCRIPT"===s){a=a.nextSibling;continue}for(var d=r+"<"+s,c=!1,u=new AdlerStyleCollection({}),p={},g=a.attributes,m=g.length,f=0;m>f;f++){var y=g[f];if(p[y.name]=y.value,"class"===y.name)if(y.value.indexOf("adlerTop")>-1){c=!0;var h=a.getAttribute("id");Adler.storage.pageFound=!0,t=Adler.storage.empty(),console.log("starting page "+h)}else for(var v=y.value,w=v.split(" "),A=w.length,b=0;A>b;b++){var x=w[b];v.split("_");var S=Adler.sheetJSON[x];if(S){var k=S[0],T=new Array;if(null==k){for(var I in S)T.push(I);for(var P=T.length,C=0;P>C;C++)S[C]=T[C]}u.r13(JSON.stringify(S),!0,i)}}else"style"===y.name&&(u.r13(a,!0,i),a.setAttribute("style",""));d=d+" "+y.name+"='"+y.value+"' "}if(console.log(d),Adler.storage.pageFound){var E,B=u.r139("Shape"),j=B.r146(),O=B.getHeight();E=j||O?{left:j,width:j,top:O,height:O}:i,a.setAttribute("class",u.r114());var M=new DivViewModel({type:s,objStyleCollection:u,adlerType:"endObject"});M.parent=t;var D=t.children;D?D.addItem(M):(D=new AdlerCollection({adlerObject:M}),t.children=D),M.actualObj=a,Adler.globalCollection.addItem(M);var N=M.getId();a.adlerId=N,Adler.storage.externalHTMLTree(a,M,o,E)}if(c)return Adler.canvasView.actualObj.appendChild(a),a=null,void 0}else 3===a.nodeType&&Adler.storage.pageFound&&(t.value=a.data);a=a.nextSibling}},Adler.storage.externalHTMLFrag=function(e,t){var r,n=!1,i=null;if("string"==typeof t){var r=document.createElement("div");r.innerHTML=t,n=!0}else{if(!(t instanceof HTMLElement))return null;r=t}var l=null,a=0;if(!r.hasChildNodes())return i;for(var o=r.firstChild;o;)if(1===o.nodeType){var s=o.nodeName.toLowerCase(),d=new AdlerStyleCollection({});i=new DivViewModel({type:s,objStyleCollection:d,adlerType:"endObject"});for(var c,u={},p=!0,g=0,m=o.attributes,f=m.length;f>g;g++){c=m.item(g);var y=c.nodeName;if("id"===y)p=!1;else if("class"===y)for(var d=i.r131(),h=c.nodeValue.split(" "),g=0,f=h.length;f>g;g++){var v=h[g].trim();if(v){var w=v.substring(0,4);if("Loca"!==w&&"Shap"!==w&&"Bord"!==w&&"Backg"!==w&&"Visi"!==w&&"Text"!==w&&"Misc"!==w){var A=d.r139("Custom",v);A.styleClassName=v}}}else"style"===y?(d.r13(o),o.setAttribute("style","")):u[y]=c.nodeValue}var b=d.r114();b&&o.setAttribute("class",b),p&&o.setAttribute("id",s+AdlerBase.r137()),i.r66=u,i.actualObj=o,i.dirty=!1,i.parent=e,e.children||(e.children=new AdlerCollection({})),e.children.addItem(i),Adler.storage.externalHTMLFrag(i,o);var x=i.getId();o.adlerId=x,o.ns=1,i.ns=1;var S={adlerId:x,ns:1};o.setAttribute("data-adler",JSON.stringify(S)),Adler.globalCollection.addItem(i);var k=o;o=o.nextSibling,n&&e.actualObj.appendChild(k),l=null,a++}else l=o.nodeValue,a++,o=o.nextSibling;return l&&1===a?(l=l.trim(),e.r225ue(l),null):i},nnn("autoArrange"),autoArrange.highLow={lowX:3e3,highX:0,lowY:3e3,highY:0},autoArrange.activate=function(){var e=Adler.page.widgets;e.sort(autoArrange.sortWidgetsParentId);for(var t=new Array,r=e.length,n="",i=null,l=0;r>l;l++){var a=e[l];a.parentId!=n&&(i&&t.push(i),i=new Array),i.push(a),n=a.parentId}if(i){t.push(i),r=t.length;for(var l=0;r>l;l++)i=t[l],autoArrange.arrange(i)}},autoArrange.arrange=function(e){var t=e[0].parentId,r=Adler.globalCollection.getItem(t),n=r.r146();e.sort(autoArrange.sortWidgetsLeft);var i=0;col=0;var l=new Array,a=new Array;if(wLen=e.length,!(1>wLen)){for(var o=e[0].dimension,s=0,d=0,c=0;wLen>d;){for(var u=3e3,p=3e3,g=0,m=0;150>s&&wLen>d&&(o.left<u&&(u=o.left),o.width<p&&(p=o.width),o.height>g&&(g=o.width),m=o.width+m,a.push(e[d++]),wLen>d);){var f=e[d].dimension;s=Math.abs(f.left-o.left),i++,o=f}a=autoArrange.xwAdjust(u,p,g,m,a),a.length>c&&(c=a.length),l.push(a),a=new Array,s=0}var y=new Array,h=new Array,v=new Array,w=new Array,A=l.length,b=3e3,x=3e3,S=0;hTotal=0;for(var k=0,T=!0,d=0;c>d;d++){for(var I=0;A>I;I++)if(a=l[I],d<a.length){v.push(a[d]);var P=a[d].dimension.height;hTotal+=P;var C=a[d].dimension.width;k+=C,x>P&&(x=P),P>S&&(S=P),b>a[d].dimension.top&&(b=a[d].dimension.top),D=Adler.globalCollection.getItem(a[d].id),w.push(D)}v=autoArrange.yhAdjust(b,x,S,hTotal,v),y.push(v);var E={AdlerViews:w,totalW:k};k=0,w=new Array,h.push(E),v=new Array}if(T){for(var B=y.length,d=0;B>d;d++){var j=y[d],O=j.length,M=AdlerBaseExt.r53({x:0,y:0,w:n,h:j[0].dimension.height,view:r,type:"div",dontDraw:!1,border:!1,"static":!0}),E=h[d],D=E.AdlerViews[0],N=10;border=1;for(var L=(n-2*(N+border)*O)/O-1,I=0;O>I;I++)D=E.AdlerViews[I],D.r213("position","static","Location"),D.r213("float","left","Location"),D.r213("margin",10,"Shape"),D.setLeft(j[0].dimension.left),D.setWidth(L-2),D.setTop(j[0].dimension.top),D.r217(j[0].dimension.height-2*(N+border)),D.setParent(M);M.setParent(r)}alert("done")}}},autoArrange.xwAdjust=function(e,t,r,n,i){var l=i.length,a=n/l;r/t>1.2&&(a=0);for(var o=0;l>o;o++){var s=i[o];s.dimension.left=e,a&&(s.dimension.width=a)}return i.sort(autoArrange.sortWidgetsTop),i},autoArrange.yhAdjust=function(e,t,r,n,i){var l=i.length,a=n/l;r/t>1.2&&(a=0);for(var o=0;l>o;o++){var s=i[o];s.dimension.top=e,a&&(s.dimension.height=a)}return i},autoArrange.sortWidgetsParentId=function(e,t){var r=1,n=-1,i=0;return e.parentId<t.parentId?n:e.parentId>t.parentId?r:i},autoArrange.sortWidgetsLeft=function(e,t){var r=1,n=-1;return e.dimension.left<t.dimension.left?n:r},autoArrange.sortWidgetsTop=function(e,t){var r=1,n=-1;return e.dimension.top<t.dimension.top?n:r},nnn("custom.generate"),custom.generate.switchProj=!1,custom.generate.pages=null,custom.generate.scriptSource=null,custom.generate.dynamic={},custom.generate.dynamic.r10=function(e,t){r228("started.. Please wait");var r={js:""},n=t.parent.getObjId(),i=1;r=custom.generate.dynamicHTML(t,n,"   \r\n",r,1,i),json={fileData:r.js,fileName:"scratch.js",fileType:"text/javascript",folder:"/js/"},jsonString=JSON.stringify(json),n3("scratch.js",jsonString,"/upload/1"),r228("Code Generated");var l;l=window.location.protocol+"//"+window.location.host,l=l+"/AdlerGen/js/"+"scratch.js",window.open(l)},custom.generate.dynamic.deActivateMenu=function(){},custom.generate.selected={},custom.generate.selected.r10=function(e,t){var r={html:""},n=t.parent.getObjId(),i=0;r=custom.generate.dynamicHTML(t,n,"   \r\n",r,1,i),json={fileData:r.html,fileName:"scratch.html",fileType:"text/html",folder:"/"},jsonString=JSON.stringify(json),n3("scratch.html",jsonString,"/upload/1"),r228("Code Generated");var l;l=window.location.protocol+"//"+window.location.host,l=l+"/AdlerGen/"+"scratch.html",window.open(l)},custom.generate.selected.deActivateMenu=function(){},custom.generate.r10=function(e,t){var r,n=Adler.page.projName;if(""===n&&(n=Adler.google.fileName),custom.generate.pages=[{page:n,done:!0,event:!1,type:Adler.type}],Adler.page.nextPages)for(var i=Adler.page.nextPages.length,l=0;i>l;l++){var a=Adler.page.nextPages[l];custom.generate.pushNextPage(a.page,null,a.type)}if(custom.generate.scriptSource=[{source:"adlerScripts.js",done:!1}],"google"===Adler.upload)r228("Code upload will take Time. Please wait"),Adler.google.r0(n);else{if(r=custom.generate.totalPackage(n),null==r)return r228("Unable to generate"),void 0;var o=r.html,s=r.css,d=r.js,c=r.image;window.location.pathname.split("/");var u={fileData:o,fileName:Adler.page.projName+".html",fileType:"text/html"},p=JSON.stringify(u);if(n3(Adler.page.projName+".html",p,"/upload/1"),null!=s&&(u={fileData:s,fileName:Adler.page.projName+".css",fileType:"text/css",folder:"/css/"},p=JSON.stringify(u),n3(Adler.page.projName+".css",p,"/upload/1")),null!=d&&(u={fileData:d,fileName:Adler.page.projName+".js",fileType:"text/javascript",folder:"/js/"},p=JSON.stringify(u),n3(Adler.page.projName+".js",p,"/upload/1")),c.length>0)for(var l=c.length-1;l>-1;l--)u={fileData:c[l].img,fileName:c[l].fileName,fileType:c[l].fileType,folder:"/image/"},p=JSON.stringify(u),n3(c[l].fileName,p,"/upload/1")}this.view=t;var g=document.getElementById("i"+e.id);null!=g&&menuSrch.r194(),r228("Code Generated");var m;m=window.location.protocol+"//"+window.location.host,m=m+"/AdlerGen/"+n+".html",window.open(m)},custom.generate.der10=function(){},custom.generate.menu=function(){var e=[{id:50001,name:"code generate",type:custom.generate,menuType:"custom",menu:custom.generate,description:"generate",hint:"onClick"},{id:50002,name:"code",type:custom.generate,menuType:"custom",menu:custom.generate,description:"generate selected code",hint:"onClick"}];return e},custom.generate.totalPackage=function(e){var t="",r="",n="",i={html:t,css:r,js:n,image:new Array},l=new Array;l=custom.generate.all(e,l,"page"),custom.generate.switchProj&&(Adler.storage.getData("local","page",e),custom.generate.switchProj=!1);for(var a=l.length,o=0;a>o;o++){var s=l[o];t=t+"\r\n"+s.html,r=r+"\r\n"+s.css,n=n+"\r\n"+s.js;for(var d=s.image,c=d.length,u=0;c>u;u++)i.image.push(d[u])}var p="<!doctype html>\r\n<html>\r\n   <head>\r\n         <title>"+e+"-- Powered by Adler\r\n         </title>",g="";if(Adler.manifest.meta)for(var m=Adler.manifest.meta.length,f=0;m>f;f++){var y=Adler.manifest.meta[f];f>0?g=g+","+y:g+=y}if(g){for(var h="",v=" ",w=g.length,A=0;w>A;A++){var b=g.charAt(A);'"'!==b||'"'===v?(h+=b,v=b):v=b}p=p+"<meta "+h+" />\r\n"}if(p=p+" <link rel='stylesheet' type='text/css' href='./css/"+e+".css'>",Adler.page.manifest||(Adler.page.manifest={script:[],style:[]}),Adler.page.manifest.style)for(var x=Adler.page.manifest.style,S=x.length,u=0;S>u;u++){var k=x[u];p=p+"\r\n      <link rel='stylesheet' type='text/css' href='"+k+"'>"}for(var T=custom.generate.scriptSource,u=T.length-1;u>-1;u--){var I=T[u];p=p+"\r\n      <script src='"+I.source+"'></script>"}if(Adler.page.manifest.script)for(var P=Adler.page.manifest.script,C=P.length,u=0;C>u;u++){var E=P[u];p=p+"\r\n      <script src='"+E+"'></script>"}t=p+"\r\n      <script src='./js/"+encodeURIComponent(e)+".js'></script>"+"\r\n   </head>"+"\r\n <body onload='adlerInit()' >"+t+"\r\n </body> \r\n </html>",r=" .adlerHidden { position:absolute;left:0px;top:0px;width:100%;height:100%;display:none;visibility:hidden; }\r\n .adlerTop { position:absolute;left:0px;top:0px;width:100%;height:100%;display:block;visibility:visible; }\r\n .adlerPopup { position:absolute;left:0px;top:0px;width:100%;height:100%;display:block;visibility:visible;} \r\n"+r;var B="          ",j="   function adlerInit() { \r\n  "+B+"zTop = '10'; zPrevious = '5'; \r\n "+B+"document.expando = true;\r\n "+B+"currentPage = document.getElementById('"+e+"');\r\n "+B+"prevPage = '';\r\n "+B+"currentPageName='"+e+"';\r\n\r\n";j+=' var sz = winSize(); \r\n document.body.setAttribute("style","width:"+sz.winWidth+"px;height:"+sz.winHeight+"px;");\r\n\r\n';for(var O=custom.generate.pages,u=O.length-1;u>-1;u--){var M=O[u];M.event&&(j=j+B+"   event_"+M.page+"();\r\n")}return j+="\r\n };",n=j+"\r\n"+n,console.log(" =========css=============\r\n"),console.log(r),console.log(" =========js=============\r\n"),console.log(n),console.log(" =========html=============\r\n"),console.log(t),i.html=t,i.css=r,i.js=n,i},custom.generate.all=function(e,t,r){var n=custom.generate.code(Adler.canvasView,e,r);t.push(n);for(var i=custom.generate.pages,l=i.length-1;l>-1;l--)if(pDetail=i[l],!pDetail.done){var a=pDetail.page,o=pDetail.type,s=Adler.page.projName;Adler.page.type,Adler.storage.getData("local",o,a),custom.generate.switchProj=!0,Adler.page.projName=s,pDetail.done=!0,custom.generate.all(a,t,o)}return t},custom.generate.search=function(){var e=[{mid:"50001",key:"generate",weight:"1"},{mid:"50002",key:"generate+selected",weight:"1"}];return e},custom.generate.drawMenu=function(e){var t=document.createElement("p");return t.innerHTML="generate Code",e&&e.appendChild(t),custom.generate.actualObj=t,t},custom.generate.uBorderStyleSheets=null,custom.generate.uBackgroundStyleSheets=null,custom.generate.uTextStyleSheets=null,custom.generate.uVisibleSheet=null,custom.generate.code=function(e,t,r){var n="",i="",l=new Array,a="",o={html:a,script:n,include:i,image:l,fileName:t},s=e.actualObj.innerHTML;custom.generate.uBorderStyleSheets=null,custom.generate.uBackgroundStyleSheets=null,custom.generate.uTextStyleSheets=null,custom.generate.uVisibleSheet=null;var d="";d=custom.generate.collectData(e,d,o),custom.generate.html(e,o,1,r),o.nextPages=new Array;var s,c=custom.generate.Js(o),u="adlerTop";if(custom.generate.switchProj&&(u="adlerHidden"),"page"===r){for(var p=o.html;p.indexOf("<pageName>")>-1;)p=p.replace("<pageName>",t);s="<div id='"+t+"' class='"+u+"'>\r\n"+p+"\r\n</div>"}else s=o.html;return{html:s,css:d,js:c,image:o.image,nextPages:o.nextPages}},custom.generate.collectData=function(e,t,r){var n=e.r146(),i=e.getHeight(),l={};if(n?l.winWidth=n:l=r16(),i)l.winHeight=i;else{var a=r16();l.winHeight=a.winHeight}var o=e.r112ren();if(null==o)return t;for(var s=o.getNext();s;){for(var d,c=s.actualObj.getAttribute("id"),u=s.r131(),p=u.getNext();p;){d=null;var g=p.styleType;if("Custom"!==g){if("Border"===g)custom.generate.uBorderStyleSheets?d=custom.generate.uBorderStyleSheets:(custom.generate.uBorderStyleSheets=new Array,d=custom.generate.uBorderStyleSheets);else if("Background"===g)custom.generate.uBackgroundStyleSheets?d=custom.generate.uBackgroundStyleSheets:(custom.generate.uBackgroundStyleSheets=new Array,d=custom.generate.uBackgroundStyleSheets);else if("Text"===g)custom.generate.uTextStyleSheets?d=custom.generate.uTextStyleSheets:(custom.generate.uTextStyleSheets=new Array,d=custom.generate.uTextStyleSheets);else if("Visibility"===g)custom.generate.uVisibleStyleSheets?d=custom.generate.uVisibleStyleSheets:(custom.generate.uVisibleStyleSheets=new Array,d=custom.generate.uVisibleStyleSheets);else{if("Location"===p.styleType||"td"===s.type.toLowerCase()&&"Custom"!==p.styleType)if("absolute"===p.position){var m=s.actualObj.offsetParent;m&&m!==e.actualObj&&(l.winWidth=m.clientWidth,l.winHeight=m.clientHeight)}else{var f=s.actualObj.parentElement;l.winWidth=f.clientWidth,l.winHeight=f.clientHeight}t=t+"\r\n ."+r.fileName+"_"+c+"_"+p.styleType+" { "+"\r\n    "+p.stringify(null,!0,l)+"\r\n   }"}d&&(t=custom.generate.compare(d,p,s,p.styleType,t,r)),p=u.getNext()}else s.Custom=1,p=u.getNext()}t=custom.generate.collectData(s,t,r),s=o.getNext()}return t},custom.generate.compare=function(e,t,r,n,i,l){for(var a=-1,o=e.length,s=0;o>s;s++){existingStyle=e[s].stringify();var d=t.stringify();if(existingStyle===d){a=s;break}}if(-1===a)if(a=o,e[a]=t,"Background"===n&&r.subType&&"img"===r.subType){var c=t.background_image;if(c&&c.indexOf(";")>-1){var u=c.split(";"),p=u[1].substring(7),g=p.substring(0,p.length-1),m=u[0].split(":")[1],f=l.image;f.push({fileName:l.fileName+"_"+r.fileName,img:g,fileType:m}),l.image=f,i=i+"\r\n ."+l.fileName+"_"+n+"_"+o+" {"+"\r\n    "+t.stringify(l.fileName+"_"+r.fileName)+"\r\n   }"}else i=i+"\r\n ."+l.fileName+"_"+n+"_"+o+" {"+"\r\n    "+t.stringify()+"\r\n   }"}else i=i+"\r\n ."+l.fileName+"_"+n+"_"+o+" {"+"\r\n    "+t.stringify()+"\r\n   }";return r[n]=a+1,i},custom.generate.html=function(e,t,r,n){var i=t.html,l=e.r112ren();if(null==l)return e.value&&(i+=e.value),t.html=i,i;for(var a="\r\n  ",o=t.fileName,s=0;r>s;s++)a+="   ";for(var d=l.getNext();d&&d.actualObj;){var c=d.actualObj.getAttribute("id");c=n&&"popup"===n&&1===r?o:o+"_"+c;var u=d.actualObj.getAttribute("name"),p=d.type;i=i+a+"<"+d.type,u&&u.length>0&&(i=i+" name='"+u+"' ");var g=null;"img"===p?g=i+" id='"+c+"' class='"+c+"_Shape ":"tr"===p||"option"===p?d.Custom&&(g=i+"' class='"):g="td"===p?i+" id='"+c+"' class='"+c+"_Shape ":i+" id='"+c+"' class='"+c+"_Location "+c+"_Shape ",g&&(d.Border&&(g=g+o+"_Border_"+(d.Border-1)+" "),d.Background&&(g=g+o+"_Background_"+(d.Background-1)+" "),d.Text&&(g=g+o+"_Text_"+(d.Text-1)+" "),d.Visibility&&(g=g+o+"_Visibility_"+(d.Visibility-1)+" "),d.Custom&&(g=g+d.r131().r114(!0)+" "),i=n&&"popup"===n?g+"adlerHidden'":g+"'");var m="";if(d.r66)for(var f in d.r66){if(m=d.r66[f],"src"===f&&d.subType&&"img"===d.subType){var y=t.fileName+"_"+d.fileName;m="./image/"+y}var h=m.length;i=h>0?i+" "+f+"='"+m+"'":i+" "+f}if(i+=">",t.html=i,custom.generate.html(d,t,r+1),i=t.html,i=i+a+"</"+d.type+">",d.subType&&"img"===d.subType){var v=d.actualObj.getAttribute("src");if(v&&"img"===d.type.toLowerCase()){var w=v.split(";"),A=w[1].substring(7),b=w[0].split(":")[1],x=t.image;x.push({fileName:t.fileName+"_"+d.fileName,img:A,fileType:b}),t.image=x}}d=l.getNext()}return t.html=i,i},custom.generate.dynamicH=function(e,t,r,n){var i=t.js;n||(i=t.html,n=0);var l=e.getObjId(),a="\r\n  ",o=e.r112ren();if(null==o){if(e.value){for(var s=0;r>s;s++)a+="   ";var d=e.value;1===n?(i=i+a+" var txt = document.createTextNode('"+d+"');",i=i+a+e.getObjId()+".appendChild(txt);",t.js=i):t.html=t.html+d}return t}for(var s=0;r>s;s++)a+="   ";for(var c=o.getNext();c&&c.actualObj;)t=custom.generate.dynamicHTML(c,l,a,t,r,n),c=o.getNext();return t},custom.generate.dynamicHTML=function(e,t,r,n,i,l){var a=n.js;1!==l&&(a=n.html);var o=e.type,s=e.actualObj.getAttribute("id");a=1===l?a+r+"var "+s+" = document.createElement('"+o+"');":a+r+"<"+o+" id='"+s+"'";var d="";if(e.r66)for(var c in e.r66){if(d=e.r66[c],"src"===c&&e.subType&&"img"===e.subType){var u=n.fileName+"_"+e.fileName;d="./image/"+u}var p=d.length;p>0&&(a=1===l?a+r+s+".setAttribute('"+c+"','"+d+"');":a+" "+c+"='"+d+"'")}var g=e.r131();if(1===l)a=a+r+s+".setAttribute('style','"+g.r140(!0)+"');",a=a+r+t+".appendChild("+s+");",n.js=a,n=custom.generate.dynamicH(e,n,i+1,l);else{var m;m=0===l?!0:!1;var f=g.r140(m);f&&(a=a+" style='"+f+"'");var y=!0,h=g.r114(y);h&&(a=a+" class='"+h+"'"),a+=">",n.html=a,n=custom.generate.dynamicH(e,n,i+1,l),n.html=n.html+r+"</"+o+">"}return n},custom.generate.Js=function(e){var t=e.fileName;e.script;for(var r=null,n=custom.generate.pages,i=n.length-1;i>-1;i--){var l=n[i];if(l.page===t){r=l;break}}var a="",o="";for(var s in workflow.process){var d=!1;0===s.indexOf("Inline")&&(d=!0),workflow.process[s].points[0].name;for(var c=new Array,u=new Array,p=null,g="onclick",m=new Array,i=workflow.process[s].points.length-1;i>-1;i--){var f=workflow.process[s].points[i],y=f.type,h=null,v=f.dataId;v&&(h=Adler.globalCollection.getItem(v)),"Output"===y?(u.push(f),f.condition&&m.push(f)):"Input"===y?c.push(h):"Event"===y&&(p=h,g=f.details.name)}if(null==p)if(c.length>0||u.length>0)g="onload";else{if(!workflow.process[s].script)continue;g="onload"}if(r.event=!0,"Event"===g&&(g="onclick"),workflow.process[s].tokenDetails&&workflow.process[s].tokenDetails.source&&custom.generate.pushNextScriptSource(workflow.process[s].tokenDetails.source.fileName),p&&"onload"!==g){var w="event_"+p.getObjId();a=a+"\r\n   // add event handler for "+t+"_"+p.getObjId()+"\r\n"+"     var "+w+" = document.getElementById('"+t+"_"+p.getObjId()+"') ;"+"\r\n"+"     "+w+"."+g+" = "+t+"_"+s.replace("-","_")+"_Event;"}else d||(a=a+"\r\n "+t+"_"+s.replace("-","_")+"_Event();");var A=workflow.eventJS(s),b=A.script;if(b){for(;b.indexOf("<pageName>")>-1;)b=b.replace("<pageName>",t);for(;b.indexOf("<container>")>-1;){var x=t+"_"+p.getObjId();b=b.replace("<container>",x)}}if(d?a=a+"\r\n"+b:o=o+"\r\n"+b,A.pages)for(var S=A.pages,k=S.length-1;k>-1;k--){var T=S[k];custom.generate.pushNextPage(T.page,e,T.type)}}return a&&(a="  function event_"+t+"() {\r\n"+a+"\r\n  };\r\n\r\n"+o),e.script=a,a},custom.generate.pushNextPage=function(e,t,r){for(var n=custom.generate.pages,i=n.length-1;i>-1;i--){var l=n[i];if(l.page===e&&l.type==r)return}t&&t.nextPages.push(e),custom.generate.pages.push({page:e,done:!1,event:!1,type:r})},custom.generate.pushNextScriptSource=function(e){for(var t=custom.generate.scriptSource,r=t.length-1;r>-1;r--){var n=t[r];if(n.source===e)return}custom.generate.scriptSource.push({source:e,done:!1})},custom.generate.test=function(e,t,r){var n=e;n||(n="page");var i=t;i||(i=Adler.flow.flowName);var l=r;l||(l=Adler.page.pageName);var a="<html>\r\n  <head>\r\n",o="    ";if("page"===n){var s=custom.generate.getData(Adler.userId,i,l,"page"),d=custom.generate.getHtml(s,o);a=a+o+"<title>"+s.page.pageName+" - Powered by Adler"+"</title>\r\n";var c=o+" <style type='text/css' id='adlerStyle'>\r\n";s.css&&s.css.data&&(c=c+"\r\n"+o+o+custom.generate.getCss(s,o)),c=c+"\r\n"+o+"  </style>\r\n",c+=custom.generate.getManifest(s,o),c=c+"\r\n"+o+"<script type='text/javascript'>\r\n"+o+'  function adlerInit() { \r\n	ADLER_SCHEMA = localStorage["Adler-User"] \r\n',s.workflow&&s.workflow.data&&(c=c+"\r\n"+o+o+custom.generate.getScript(s,o)),c=c+"\r\n"+o+o+"}\r\n"+o+"  </script>\r\n",a=a+c+"\r\n  </head>\r\n  <body onload='adlerInit()'>",a=a+"\r\n"+o+o+d}else if("flow"===n){var u=new Array,p=new Array,g=new Array,m=new Array,f=new Array,y=getFlow(i);y=y[0];var i=y.flowName,h=Adler.userId,v=y.pages,w=y.entryPage,l=w,s=custom.generate.getData(h,i,l,"page",y);custom.generate.populate(s,u,p,g,m,f);for(var A=v.length,b=0;A>b;b++){var x=v[b];l=x.pageName,l!==w&&(s=custom.generate.getData(h,i,l,"page",y),custom.generate.populate(s,u,p,g,m,f))}a=a+o+"<title>"+i+" - Powered by Adler"+"</title>\r\n";var c="";c=c+o+" <style type='text/css' id='adlerStyle'>\r\n";for(var S=m.length,b=0;S>b;b++)c=c+"\r\n"+o+o+" /* CSS for "+m[b].pageName+"   */",c=c+"\r\n"+o+o+m[b].css;c=c+"\r\n"+o+"  </style>\r\n";for(var k=u.length,b=0;k>b;b++){var T=u[b];c=c+"\r\n"+o+"<link rel='stylesheet' type='text/css' href='"+T+"'>"}for(var I=p.length,b=0;I>b;b++){var P=p[b];c=c+"\r\n"+o+"<script src='"+P+"'></script>"}c=c+"\r\n"+o+"<script type='text/javascript'>\r\n";for(var C=f.length,b=0;C>b;b++){var E="false";f.pageName===w&&(E="true"),c=c+"\r\n "+o+o+"  var "+f[b].pageName+"_init ="+E+";"}c=c+"\r\n"+o+"  function adlerInit() { \r\n "+o+o;for(var b=0;C>b;b++)c=c+"\r\n "+o+o+"  if ("+f[b].pageName+"_init) ",c=c+"\r\n "+o+o+"       {"+f[b].pageName+"_load();} ";c=c+"\r\n"+o+o+"}\r\n";for(var b=0;C>b;b++)c=c+"\r\n "+o+o+" "+f[b].pageName+"_load = function() { ",c=c+"\r\n "+o+o+"       "+f[b].script,c=c+"\r\n "+o+o+"  }\r\n";c=c+o+"  </script>\r\n",a=a+c+"\r\n  </head>\r\n  <body onload='adlerInit()'>";for(var B=m.length,b=0;B>b;b++)a=a+"\r\n"+o+o+"<!-- html for "+g[b].pageName+" --->",a=a+"\r\n"+o+o+g[b].html}a+="\r\n  </body>\r\n</html>",console.log(a),r228("Code generated")},custom.generate.populate=function(e,t,r,n,i,l){var a=e.page.pageName;custom.generate.addManifest(e,t,r);var o="    ",s=custom.generate.getCss(e,o),d=custom.generate.getHtml(e,o),c=custom.generate.getScript(e,o),u=custom.generate.recursiveNextPage(e,o,t,r,s,c,d);u&&(s=u.css,c=u.js,d=u.html),i.push({pageName:a,css:s}),l.push({pageName:a,script:c}),n.push({pageName:a,html:d})},custom.generate.recursiveNextPage=function(e,t,r,n,i,l,a){var o=e.pageInfo;if(o.nextPage){var s=o.nextPage,d=custom.generate.getData(Adler.userId,e.flow.flowName,s,"page",e.flow);custom.generate.addManifest(d,r,n),i=i+"\r\n /* css for  scroll page "+s+" */ \r\n"+custom.generate.getCss(d,t),l=l+"\r\n /* script for scroll page "+s+" */ \r\n"+custom.generate.getScript(d,t),a=a+"\r\n <!-- html for scroll page "+s+"--> \r\n"+custom.generate.getHtml(d,t);var c=custom.generate.recursiveNextPage(d,t,r,n,i,l,a);return c&&(i=c.css,l=c.js,a=c.html),{css:i,js:l,html:a}}return null},custom.generate.getData=function(e,t,r,n,i){var l=i;if(!i){if(l=getFlow(t),!l)throw console.log("No flow found for "+t),99;l=l[0]}var a,o,s,d={userId:e,flowId:l.flowId,pageName:r,type:null,pageId:null,layout:null,type:null,pageTemplate:null,nextPages:null,manifest:null},c=getPage(r,n,d);c?(a=getPageArtifact(c.pageId,"html"),o=getPageArtifact(c.pageId,"workflow"),s=getPageArtifact(c.pageId,"css")):(c={pageName:r,manifest:null},a={data:"<div>under construction</div>"},s={data:"[]"},o={data:"{}"});for(var u=null,p=l.pages,g=p.length,m=0;g>m;m++){var f=p[m];if(f.pageName===r){u=f,p.splice(m,1);break}}return{flow:l,pageInfo:u,page:c,html:a,css:s,workflow:o}},custom.generate.addManifest=function(e,t,r){var n=function(e,n){var i=r;"css"===e&&(i=t);for(var l=i.length-1;l>-1;l--){var a=i[l];if(a===n)return!0}return!1},i=e.page.manifest;if(i){if(i.style)for(var l=i.style,a=l.length,o=0;a>o;o++){var s=l[o],d=n("css",s);d||t.push(s)}if(i.script)for(var c=i.script,u=c.length,o=0;u>o;o++){var p=c[o],d=n("js",p);d||r.push(p)}}},custom.generate.getManifest=function(e,t){var r="",n=e.page.manifest;if(n){if(n.style)for(var i=n.style,l=i.length,a=0;l>a;a++){var o=i[a];r=r+"\r\n"+t+"<link rel='stylesheet' type='text/css' href='"+o+"'>"}if(n.script)for(var s=n.script,d=s.length,a=0;d>a;a++){var c=s[a];r=r+"\r\n"+t+"<script src='"+c+"'></script>"}}return r},custom.generate.getCss=function(dat,padding){var newPadding=padding+padding;eval("var genCSS ="+dat.css.data);for(var css="",cLen=genCSS.length,i=0;cLen>i;i++){var cssObj=genCSS[i];"Custom"!==cssObj.styleType&&(css=css+"\r\n"+newPadding+"."+cssObj.styleClassName+" {\r\n",css=css+newPadding+"  "+cssObj.detail+"\r\n"+newPadding+"  }")}return css},custom.generate.getScript=function(dat,padding){var head="";eval("var genW = "+dat.workflow.data);for(var k in genW){var proc=genW[k];proc.data&&(head=head+"\r\n"+padding+padding+proc.data);var script=proc.script;if(script){if(script.indexOf("<container>")>-1){var divId="",adlerId=k.substring(6),infoArray=dat.infoArray;if(infoArray)for(var i=infoArray.length-1;i>-1;i--){var info=infoArray[i];if(info.adlerData.adlerId==adlerId){for(divId=info.divId;script.indexOf("<container>")>-1;)script=script.replace("<container>",divId);break}}}head=head+"\r\n"+padding+padding+script}}return head},custom.generate.getHtml=function(e){e.infoArray=new Array;var t="";return HTMLParser(e.html.data,{start:function(r,n){t+="<"+r;for(var i={divId:null,adlerData:null},l=0;l<n.length;l++){var a=n[l].name;switch(a){case"draggable":continue;case"id":i.divId=n[l].escaped;break;case"data-adler":for(var o=n[l].escaped;o.indexOf("&quot")>-1;)o=o.replace("&quot;",'"');i.adlerData=JSON.parse(o);continue}t+=" "+a+'="'+n[l].escaped+'"'}t+=">",i.adlerData&&e.infoArray.push(i)},end:function(e){t+="</"+e+">"},chars:function(e){t+=e},comment:function(e){t+="<!--"+e+"-->"}}),t},nnn("menu.widgets"),menu.widgets.widgetDetails=new Object,menu.widgets.widgetList=new Array,menu.widgets.r10=function(e){var t=getWidgetDetails(e.categoryId,{wcatId:e.categoryId,widgetId:null,widgetName:null,description:null,examplePage:null}),r="Adler Widgets";switch(e.categoryId){case"1":r="Adler Widgets";break;case"2":r="JQuery UI Widgets";break;case"3":r="JQuery Mobile Widgets";break;case"4":r="High Chart Widgets"}menu.widgets.j1(r,t)},menu.widgets.der10=function(){},menu.widgets.j1=function(e,t){var r=document.getElementById("widgetRemove");r.style.visibility="visible";var n=document.getElementById("widgetDisplay");n?(n.innerHTML="",n.style.visibility="visible",n.style.display="block"):(n=document.createElement("div"),n.setAttribute("id","widgetDisplay"),n.setAttribute("style","left:29.8446%;top:27.9707%;position:absolute;width:28.8083%;height:41.4077%;border:1px solid black;background-color:whitesmoke;z-index:100"),document.body.appendChild(n));var i=document.createElement("div");i.setAttribute("id","wHeader"),i.setAttribute("style","width:99.9993%;height:15.8973%;"),n.appendChild(i);var l=document.createElement("span");l.setAttribute("id","wTitle"),l.setAttribute("style","left:22.3020%;top:3%;position:absolute;width:55.2514%;height:9.4444%;border:1px solid black;box-shadow:4px 4px 4px gray;text-shadow:2px 2px gray;font-weight:bold;text-align:center;color:white;background-color:silver;"),i.appendChild(l);var a=document.createTextNode(e);l.appendChild(a);var o=document.createElement("div");o.setAttribute("id","wData"),o.setAttribute("style","width:99.9993%;height:83.2401%;border-top:1px solid black;overflow:none scroll;"),n.appendChild(o);var s=document.createElement("div");s.setAttribute("id","wDetail"),s.setAttribute("style","width:100%;height:15%;text-align:center;border-bottom:1px solid black;font-weight:bold;"),o.appendChild(s);var d=document.createElement("div");d.setAttribute("id","wName"),d.setAttribute("style","float:left;width:34.5321%;height:100.0000%;"),s.appendChild(d),a=document.createTextNode("Name"),d.appendChild(a);var c=document.createElement("div");c.setAttribute("id","wDescription"),c.setAttribute("style","float:left;width:64.3881%;height:100.0000%;border-left:1px solid black;"),s.appendChild(c),a=document.createTextNode("Description"),c.appendChild(a);for(var u=0,p=t.length;p>u;u++){var s=document.createElement("div");s.setAttribute("id","wDetail"),s.setAttribute("style","width:100%;height:15%;text-align:center;"),o.appendChild(s);var d=document.createElement("div");d.setAttribute("id","wName"+u),d.setAttribute("style","float:left;width:34.5321%;height:100.0000%;cursor:hand"),s.appendChild(d),d.examplePage=t[u].examplePage,d.widgetId=t[u].widgetId,a=document.createTextNode(t[u].widgetName),d.appendChild(a);var c=document.createElement("div");c.setAttribute("id","wDescription"+u),c.setAttribute("style","float:left;width:64.3881%;height:100.0000%;"),s.appendChild(c),a=document.createTextNode(t[u].description),c.appendChild(a),d.widgetId=t[u].widgetId,d.examplePage=t[u].examplePage,d.onclick=function(){var e=event.target,t=document.getElementById("widgetMenu");t.style.visibility="visible",t.left=e.offsetLeft+n.offsetLeft+"px",t.top=e.offsetTop+n.offsetTop+"px",menu.widgets.widgetDetails=new Object,menu.widgets.widgetDetails.widgetId=e.widgetId,menu.widgets.widgetDetails.examplePage=e.examplePage}}var g=document.getElementById("widgetMenu");g?(g.innerHTML="",g.style.visibility="hidden"):(g=document.createElement("div"),g.setAttribute("id","widgetMenu"),g.setAttribute("style","left:38.3803%;top:43.5364%;position:absolute;width:11.2764%;height:8.0238%;visibility:hidden;z-index:101;margin-top:0px;border-width:0px;border-style:solid;border-color:black;box-shadow:4px 4px 4px gray;background:transparent;text-align:center;color:maroon;"),document.body.appendChild(g));var m=document.createElement("div");m.setAttribute("id","openD"),m.setAttribute("style","line-height:25px;width:99.9954%;height:46.2574%;z-index:1;color:white;background:-webkit-gradient(linear, 0% 100%, 0% 0%, color-stop(0.138, rgb(0, 246, 19)), color-stop(0.61, rgb(230, 238, 230)), to(rgb(0, 246, 19)));"),g.appendChild(m);var a=document.createTextNode("APPLY");m.appendChild(a);var f=document.createElement("div");f.setAttribute("id","openD"),f.setAttribute("style","line-height:25px;width:99.9954%;height:46.2574%;z-index:1;color:white;background:-webkit-gradient(linear, 0% 100%, 0% 0%, color-stop(0.138, rgb(0, 19, 246)), color-stop(0.61, rgb(230, 230, 238)), to(rgb(0, 19, 246)));"),g.appendChild(f);var a=document.createTextNode("CUSTOMIZE");f.appendChild(a);var y=menu.widgets.j4;m.onclick=y;var h=menu.widgets.j3;f.onclick=h},menu.widgets.j2=function(){var e=sessionStorage.widgetData;if(e){var t=JSON.parse(e);"open"===t.status}},menu.widgets.j3=function(){var e=menu.widgets.widgetDetails,t=e.examplePage,r=e.widgetId;menu.widgets.r92(r);var n={status:"open",details:e};sessionStorage.widgetData=JSON.stringify(n);var i=window.location.protocol+"//"+window.location.host;
i=i+"/AdlerWidget/"+t,window.open(i,500,500);var l=menu.widgets.j2;setTimeout(l,1e3)},menu.widgets.insertWidget=function(e,t){menu.widgets.widgetDetails=new Object,"string"==typeof t&&(t=parseInt(t)),menu.widgets.r92(t),menu.widgets.j41(e,menu.widgets.widgetDetails)},menu.widgets.j4=function(){menu.widgets.r92(menu.widgets.widgetDetails.widgetId);var e=menu.widgets.widgetDetails,t=AdlerBaseExt.r125();menu.widgets.j41(t,e)},menu.widgets.j41=function(e,t){if(t.type&&"pageTemplate"!==t.type){var r=1;t.p&&t.p.aa&&(r=t.p.aa);var n=e.getId(),i=null;if(Adler.page.widgets)for(var l=Adler.page.widgets.length-1;l>-1;l--){var a=Adler.page.widgets[l];if(a.id===n){i=a;break}}var o=function(e,t){return a={type:e.type,dimension:t.r102(),id:t.getId(),classType:"widget",parentId:t.parent.getId(),aa:r},a.r62=function(){AdlerBaseExt.deleteWidget(this)},Adler.page.widgets||(Adler.page.widgets=new Array),Adler.page.widgets.push(a),t.widget=a,a};if(i?i.type!==t.type&&(AdlerBaseExt.deleteWidget(i),i=o(t,e)):i=o(t,e),i.sampleId=t.sampleId,t.store&&(i.store=t.store),t.specific&&(i.specific=t.specific),"Phone"===Adler.layout)var s=e.r131().r139("Custom","mobile")}language.editor.existing=language.editor.tabStyle,menu.submenu.dom.showEditor.view=e;var d=t.html;if(garbage.innerHTML=d,d){var c=garbage.firstElementChild;if(c){var u=c.getAttribute("class");if(u){var p=u.split(" ");u="";for(var l=0,g=p.length;g>l;l++){var m=p[l],f=m.substring(0,4);"Loca"===f||"Shap"===f||"Bord"===f||"Backg"===f||"Visi"===f||"Text"===f||"Misc"===f||(u=u+" "+m)}u=u.trim(),u?c.setAttribute("class",u):c.removeAttribute("class")}var y=c.getAttribute("draggable");y&&c.removeAttribute("draggable");var h=c.getAttribute("data-class");if(h&&c.removeAttribute("data-class"),t.p&&t.p.cHTML){if(e.actualObj.innerHTML=c.innerHTML,u){var v=e.r131();v.r139("Custom",u),e.actualObj.setAttribute("class",v.r114())}language.editor.tabHtml.data="",language.editor.tabHtml.dirty=!1}else language.editor.tabHtml.data=garbage.innerHTML,language.editor.tabHtml.dirty=!0}}else language.editor.tabHtml.data="",language.editor.tabHtml.dirty=!1;var w="";t.script?(w=t.script,language.editor.tabScript.data=t.script,language.editor.tabScript.dirty=!0):(language.editor.tabScript.data="",language.editor.tabScript.dirty=!1),t.note?(language.editor.tabNote.data=t.note,language.editor.tabNote.dirty=!0):(language.editor.tabNote.data="",language.editor.tabNote.dirty=!1),t.include?(language.editor.tabHeader.data=t.include,language.editor.tabHeader.dirty=!0):(language.editor.tabHeader.data="",language.editor.tabHeader.dirty=!1);var A=2;menu.submenu.dom.showEditor.der10(A);var b=document.getElementById("widgetMenu");if(b){b.style.visibility="hidden";var x=document.getElementById("widgetDisplay");x.style.visibility="hidden",x.style.display="none",document.getElementById("widgetRemove").style.visibility="hidden"}if(t.p){garbage.innerHTML="",e.subType="widget";var S=e.actualObj.getAttribute("data-adler"),k=JSON.parse(S);if(k.subType="widget",t.p&&(k.p=t.p,e.p=t.p,t.p.nb)){var T=e.r131(),s=T.r139("Border");T.removeItem(s),e.actualObj.setAttribute("class",T.r114())}e.actualObj.setAttribute("data-adler",JSON.stringify(k));var I=e.actualObj.cloneNode(!0);garbage.appendChild(I);var P=garbage.innerHTML,C=k.adlerId;workflow.InitLight("Inline"+C,C),e.InlineProcess=workflow.process["Inline"+C],P&&(workflow.process["Inline"+C].html=P),garbage.innerHTML="",t.data&&(Adler.r164(t.data,"jsinline","scriptId",1),workflow.process["Inline"+C].data=t.data)}if(w){if("widget"!==e.subType){garbage.innerHTML="",e.subType="widget";var S=e.actualObj.getAttribute("data-adler"),k=JSON.parse(S);k.subType="widget",t.p&&(k.p=t.p,e.p=t.p),e.actualObj.setAttribute("data-adler",JSON.stringify(k)),garbage.appendChild(e.actualObj.cloneNode(!0));var d=garbage.innerHTML,C=k.adlerId;workflow.InitLight("Inline"+C,C),e.InlineProcess=workflow.process["Inline"+C],d&&(workflow.process["Inline"+C].html=d),garbage.innerHTML=""}for(;t.script.indexOf("<container>")>-1;)t.script=t.script.replace("<container>",e.getObjId());w=t.script,Adler.r164(w,"jsinline","scriptId",1)}menu.widgets.widgetDetails=new Object},menu.widgets.r92=function(e){"string"==typeof e&&(e=parseInt(e));var t=new Object;for(var r in menu.widgets.widgetDetails)t[r]=menu.widgets.widgetDetails[r];for(var n=menu.widgets.widgetList.length-1;n>-1;n--){var i=menu.widgets.widgetList[n];if(i.widgetId===t.widgetId)return menu.widgets.widgetDetails=i,void 0}defineProjArtifactTable();var l=projDocData.find({userId:"1",projId:e,documentType:"html",docId:null,data:null},!0);t.html=l[0].data;var a="";l=projDocData.find({userId:"1",projId:e,documentType:"workflow",docId:null,data:null},!0),l&&(a=l[0].data,a=JSON.parse(a));for(var r in a){a=a[r];break}t.script=a.script,t.note=a.note,t.include=a.include,t.widgetId=e,menu.widgets.widgetList.push(t),menu.widgets.widgetDetails=t},menu.widgets.addHeaders=function(e){var t=new Array,r=new Array,n=2;Adler.page.manifest||(Adler.page.manifest={script:[],style:[]}),Adler.page.manifest.script||(Adler.page.manifest.script=new Array),Adler.page.manifest.style||(Adler.page.manifest.style=new Array);for(var i=!0,l=0,a=e.toLowerCase();i;){var o=a.indexOf("<script",l);if(0>o){i=!1;break}o=a.indexOf("src=",o),o+=4;var s=a.substring(o,o+1);l=o+1,o++,o=a.indexOf(s,o);var d=e.substring(l,o);t.push(d),Adler.addHeaders(d,"script",n)}var c=!0;for(l=0;c;){var o=a.indexOf("<link",l);if(0>o){c=!1;break}o=a.indexOf("href=",o),o+=5;var s=a.substring(o,o+1);l=o+1,o++,o=a.indexOf(s,o);var u=e.substring(l,o);r.push(u),Adler.addHeaders(u,"style",n)}return{linkArray:r,scriptArray:t}},menu.widgets.widgetMenuActive="basic",menu.widgets.widgetMenu=function(e){var t=document.getElementById(menu.widgets.widgetMenuActive+"Label"),r=document.getElementById(menu.widgets.widgetMenuActive);t.className="",r.style.display="none";var n=document.getElementById(e+"Label"),i=document.getElementById(e);n.className="menuActive",i.style.display="block",menu.widgets.widgetMenuActive=e},nnn("menuSrchData"),menuSrchData.domTypeList=["--","select","input","span","textarea","img","button","hr","table","header","footer","nav","a","p","h1","h2","form","iframe"],menuSrchData.myjson_search={menusearch:[],leafMenu:[{id:1103,name:"Note",icon:"png/glyphicons_039_notes.png",parent:null,visibility:"visible",menuType:"custom",menu:Action.Note,description:"Note",hint:"onClick"},{id:1104,name:"Search",icon:"png/glyphicons_027_search.png",parent:null,visibility:"visible",menuType:"custom",menu:Action.Search,description:"Search"},{id:2100,name:"Shape",icon:"png/glyphicons_280_settings.png",menuType:"custom",menu:menu.generic.higherMenu,childIds:["10012","10013","10014","10015"],description:"shape+properties",hint:"onClick"},{id:2200,name:"Location",icon:"png/glyphicons_186_move.png",menuType:"custom",menu:menu.generic.higherMenu,childIds:["10016","10017"],description:"Location properties"},{id:2300,name:"Background",icon:"png/glyphicons_316_tree_conifer.png",menuType:"custom",menu:menu.generic.higherMenu,childIds:["10000","10001","10002","4000","20006"],description:"Background properties",hint:"onClick"},{id:2400,name:"Border",icon:"png/glyphicons_280_settings.png",menuType:"custom",menu:menu.generic.higherMenu,childIds:["20004"],description:"Border properties",hint:"onClick"},{id:3100,name:"Type",icon:"png/glyphicons_280_settings.png",color:AdlerBaseMenuExt.colorArray[0],childIds:["20008"],description:"Change Object Type"},{id:5105,cssType:"Text",propType:"css",name:"font-size",value:"none",menuType:"slider",min:7,max:48,step:1,value:10,description:"Font Size",hint:"onSearch"},{id:3e4,name:"Delete",icon:"png/glyphicons_016_bin.png",parent:null,visibility:"visible",menuType:"custom",menu:Action.Delete,description:"Delete",hint:"onClick"},{id:30001,name:"Clone",icon:"png/glyphicons_318_more_items.png",parent:null,visibility:"visible",menuType:"custom",menu:Action.Clone,description:"Clone",hint:"onClick"},{id:10017,cssType:"Shape",propType:"css",name:"z-index",value:3,menuType:"slider",menu:"Locationz",min:0,max:25,step:5,description:"z-index",hint:"onSearch"},{id:1e4,cssType:"Background",propType:"css",name:"background-repeat",value:3,menuType:"select",menu:"backgroundrepeat",values:["no-repeat","repeat","repeat-x"],description:"Repeat",hint:"onSearch"},{id:10001,cssType:"Background",propType:"css",name:"background-attachment",value:3,menuType:"select",menu:"backgroundattachment",values:["fixed","scroll"],description:"Attachment",hint:"onSearch"},{id:10002,cssType:"Background",propType:"css",name:"background-position",value:3,menuType:"select",menu:"backgroundposition",values:["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"],description:"Position",hint:"onSearch"},{id:10009,cssType:"Background",propType:"css",name:"background-position-x",menuType:"input",menu:"backgroundpos",description:"Background pos x",hint:"onSearch"},{id:10010,cssType:"Background",propType:"css",name:"background-position-y",menuType:"input",menu:"backgroundpos",description:"Background pos y",hint:"onSearch"},{id:10011,cssType:"Background",propType:"css",name:"background-size",menuType:"input",menu:"backgroundsize",description:"Background size",hint:"onSearch"},{id:20004,cssType:"Border",propType:"css",name:"border-width",min:0,max:10,step:1,value:1,menuType:"slider",description:"border thickness",hint:"onSearch"},{id:20005,cssType:"Border",propType:"css",name:"border-style",menuType:"select",description:"border style",values:["none","dotted","dashed","solid","double","groove","ridge","inset","outset"],hint:"onSearch"},{id:2500,name:"Visibility",icon:"png/glyphicons_186_move.png",menuType:"custom",menu:menu.generic.higherMenu,description:"visibility properties"},{id:10018,cssType:"Text",propType:"css",name:"r64",value:"rtl",menuType:"select",values:["ltr","rtl","inherit"],description:"Text Direction",hint:"onSearch"},{id:10019,cssType:"Text",propType:"css",name:"text-align",value:"left",menuType:"select",values:["-pick-","left","right","center","justify","inherit"],description:"Text align",hint:"onSearch"},{id:10020,cssType:"Text",propType:"css",name:"text-decoration",value:"none",menuType:"select",values:["none","underline","overline","line-through","blink","inherit"],description:"Text decoration",hint:"onSearch"},{id:10021,cssType:"Text",propType:"css",name:"text-transform",value:"none",menuType:"select",values:["none","capatilize","uppercase","lowercase","inherit"],description:"Text transform"},{id:10022,cssType:"Text",propType:"css",name:"font-size",min:1,max:50,step:1,value:10,menuType:"slider",description:"Font size",hint:"onSearch"},{id:10023,cssType:"Text",propType:"css",name:"color",menuType:"custom",menu:menu.submenu.colorPicker,description:"Font color",hint:"onSearch"},{id:10024,cssType:"Text",propType:"css",name:"line-height",min:0,max:50,step:1,value:0,menuType:"slider",description:"text position",hint:"onSearch"},{id:10025,cssType:"Shape",propType:"css",name:"margin",min:0,max:50,step:1,value:1,menuType:"slider",description:"margin",hint:"onSearch"},{id:10026,cssType:"Shape",propType:"css",name:"margin-left",min:0,max:50,step:1,value:1,menuType:"slider",description:"margin left",hint:"onSearch"},{id:10027,cssType:"Shape",propType:"css",name:"margin-right",min:0,max:50,step:1,value:1,menuType:"slider",description:"margin right",hint:"onSearch"},{id:10028,cssType:"Shape",propType:"css",name:"margin-top",min:0,max:50,step:1,value:1,menuType:"slider",description:"margin top",hint:"onSearch"},{id:10029,cssType:"Shape",propType:"css",name:"margin-bottom",min:0,max:50,step:1,value:1,menuType:"slider",description:"margin bottom",hint:"onSearch"},{id:10030,cssType:"Shape",propType:"css",name:"padding",min:0,max:50,step:1,value:1,menuType:"slider",description:"padding",hint:"onSearch"},{id:10031,cssType:"Shape",propType:"css",name:"padding-left",min:0,max:50,step:1,value:1,menuType:"slider",description:"padding left",hint:"onSearch"},{id:10032,cssType:"Shape",propType:"css",name:"padding-right",min:0,max:50,step:1,value:1,menuType:"slider",description:"padding right",hint:"onSearch"},{id:10033,cssType:"Shape",propType:"css",name:"padding-top",min:0,max:50,step:1,value:1,menuType:"slider",description:"padding top",hint:"onSearch"},{id:10034,cssType:"Shape",propType:"css",name:"padding-bottom",min:0,max:50,step:1,value:1,menuType:"slider",description:"padding bottom",hint:"onSearch"},{id:20006,name:"background-color",cssType:"Background",propType:"css",menuType:"custom",menu:menu.submenu.colorPicker,description:"background color",hint:"onSearch"},{id:20007,name:"border-color",cssType:"Border",propType:"css",menuType:"custom",menu:menu.submenu.colorPicker,description:"border color",hint:"onSearch"},{id:20008,propType:"dom",name:"type",value:"div",menuType:"select",values:menuSrchData.domTypeList,description:"Dom Type",hint:"onSearch"},{id:21003,propType:"dom",name:"input",menuType:"createDom",description:"Create Input",hint:"onClick"},{id:20009,propType:"dom",name:"table-create",value:"none",menuType:"custom",menu:menu.submenu.dom.table,description:"Create Table ",hint:"onClick"},{id:30002,menuType:"custom",menu:Adler.storage.pages,description:"show pages",hint:"onSearch"},{id:10003,cssType:"Visibility",propType:"css",name:"visibility",value:"visible",menuType:"select",menu:"visibility",values:["visible","hidden","inherit"],description:"Visibility",hint:"onSearch"},{id:10004,cssType:"Visibility",propType:"css",name:"opacity",value:"0",menuType:"slider",menu:"opacity",min:0,max:1,step:.1,description:"Opacity",hint:"onSearch"},{id:10005,cssType:"Text",propType:"css",name:"outline-color",value:"",menuType:"colorpicker",menu:"outline-color",description:"Outline-Color"},{id:10006,cssType:"outline-style",propType:"css",name:"outline-style",value:"none",menuType:"select",menu:"outline-style",values:["none","dotted","dashed","solid","double","groove","ridge","inset","outset","inherit"],description:"Outline-Style"},{id:10007,cssType:"outline-width",propType:"css",name:"outline-width",value:"inherit",menuType:"select",menu:"outline-width",values:["thin","medium","thick","inherit"],description:"Outline-Width"},{id:10036,name:"html",menuType:"custom",menu:menu.submenu.dom.showEditor,description:"show HTML",hint:"onSearch"},{id:10037,name:"script",menuType:"custom",menu:menu.submenu.dom.showEditor,description:"show Script",hint:"onSearch"},{id:10038,name:"style",menuType:"custom",menu:menu.submenu.dom.showEditor,description:"show CSS Style",hint:"onSearch"},{id:10039,name:"note",menuType:"custom",menu:menu.submenu.dom.showNoteEditor,description:"show Note",hint:"onSearch"},{id:21001,propType:"dom",name:"button",menuType:"input",description:"Create button",hint:"onSearch"},{id:21002,propType:"dom",name:"span",menuType:"input",description:"Create Text Label",hint:"onSearch"},{id:21003,propType:"dom",name:"input",menuType:"createDom",description:"Create Input",hint:"onClick"},{id:21004,propType:"dom",name:"hr",menuType:"createDom",description:"Create a line",hint:"onClick"},{id:21010,propType:"r66",name:"placeholder",menuType:"input",domObject:"input",description:"placeholder",hint:"onSearch"},{id:21011,propType:"r66",name:"value",menuType:"input",domObject:"input",description:"value",hint:"onSearch"},{id:21012,propType:"r66",name:"type",menuType:"select",domObject:"input",values:["-pick-","text","password","search","color","email","checkbox","radio","password"],description:"Type",hint:"onSearch"},{id:21013,propType:"dom",name:"option",menuType:"input",description:"Add option",hint:"onSearch"},{id:21014,propType:"r66",name:"id",menuType:"input",description:"rename ID",hint:"onSearch"},{id:30033,name:"phone",menuType:"custom",menu:menu.generic.phone,description:"create phone layout",hint:"onClick"},{id:30034,name:"tablet",menuType:"custom",menu:menu.generic.tablet,description:"create tablet layout",hint:"onClick"},{id:30014,description:"open Page",propType:"custom",menuType:"input",menu:menu.generic.open,hint:"onSearch"},{id:30015,description:"open Fragment",propType:"custom",menuType:"input",menu:menu.generic.openFrag,hint:"onSearch"},{id:30016,description:"open Popup",propType:"custom",menuType:"input",menu:menu.generic.openPopup,hint:"onSearch"},{id:30005,description:"undo",menuType:"custom",menu:menu.generic.undo,hint:"onSearch"},{id:30006,description:"save as Page",propType:"custom",menuType:"input",menu:menu.generic.save,hint:"onSearch"},{id:30007,description:"save as Fragment",propType:"custom",menuType:"input",menu:menu.generic.saveFragment,hint:"onSearch"},{id:30008,description:"save as Popup",propType:"custom",menuType:"input",menu:menu.generic.savePopup,hint:"onSearch"},{id:30009,description:"save As Is",menuType:"custom",menu:menu.generic.save,hint:"onClick"},{id:10035,propType:"domClass",name:"class",menuType:"select",domObject:"input",values:['[{"styleType":"twtrbtn","styleClassName":"btn"}]','[{"styleType":"twtrbtn","styleClassName":"btn"},{"styleType":"twtrbtnType","styleClassName":"btn-default"}]','[{"styleType":"twtrbtn","styleClassName":"btn"},{"styleType":"twtrbtnType","styleClassName":"btn-primary"}]','[{"styleType":"twtrbtn","styleClassName":"btn"},{"styleType":"twtrbtnType","styleClassName":"btn-error"}]'],display:["-pick-","default","primary","error"],description:"Button Type",hint:"onSearch"},{id:30051,description:"hide below",propType:"custom",menuType:"input",menu:menu.generic.media,hint:"onSearch"},{id:30052,description:"stack below",propType:"custom",menuType:"input",menu:menu.generic.media,hint:"onSearch"},{id:50001,name:"code generate",menuType:"custom",menu:custom.generate,description:"generate",hint:"onClick"},{id:50002,name:"code",menuType:"custom",menu:custom.generate.dynamic,description:"generate dynamic code",hint:"onClick"},{id:50003,name:"code",menuType:"custom",menu:custom.generate.selected,description:"generate selected code",hint:"onClick"},{id:6e4,propType:"event",name:"class",menuType:"select",values:["-pick-","onhover","onclick","onswipe"],display:["-pick-","on Hover","on Click","on Swipe"],description:"Define Event",hint:"onSearch"},{id:1e5,categoryId:"1",menuType:"custom",menu:menu.widgets,description:"Adler Widgets",hint:"onClick"},{id:11e4,categoryId:"2",menuType:"custom",menu:menu.widgets,description:"JQueryUI Widgets",hint:"onClick"},{id:12e4,categoryId:"3",menuType:"custom",menu:menu.widgets,description:"JQueryMobile Widgets",hint:"onClick"},{id:13e4,categoryId:"4",menuType:"custom",menu:menu.widgets,description:"HighCharts Widgets",hint:"onClick"}],getLeaf:function(e,t){var r=0;t&&(r=t);for(var n=menuSrchData.myjson_search.leafMenu.length,i=r;n>i;i++)if(e==menuSrchData.myjson_search.leafMenu[i].id)return{pos:i,leaf:menuSrchData.myjson_search.leafMenu[i]}}},menuSrchData.myjson_common_key={common_key:["i","me","you","it","they","can","how","to","do","the","that","this","those","they","what","be","so","can't","find","of","change","set","have","has"]},nnn("menuSrch"),menuSrch.txtSearch=null,menuSrch.keyPress=null,menuSrch.onKeyPress=function(){var e=event.which,t=String.fromCharCode(e);null==menuSrch.txtSearch&&(menuSrch.txtSearch=document.getElementById("txtSearch"));var r=menuSrch.txtSearch.value;(" "==t||r.length>=3)&&menuSrch.r253(r)},menuSrch.onFocus=function(){null==menuSrch.txtSearch&&(menuSrch.txtSearch=document.getElementById("txtSearch")),menuSrch.txtSearch.value="",menuSrch.r194()},menuSrch.r194=function(){for(var e=Adler.searchSuggest,t=document.getElementById("lostNFound"),r=e.lastChild;r;)t.appendChild(r),r=e.lastChild;AdlerBaseMenuExt.r168(t,"visibility","hidden"),e.style.height="auto"},menuSrch.showMenu=function(e,t){null==menuSrch.txtSearch&&(menuSrch.txtSearch=document.getElementById("txtSearch"));var r=menuSrch.txtSearch;if(r.value=e,t){var n=menuSrch.r199(t);menuSrch.r253(e,n)}else menuSrch.r253(e)},menuSrch.r199=function(e){for(var t=menuSrchData.myjson_search.menusearch,r=new Array,n=0;n<e.length;n++)for(var i=e[n],l=0;l<t.length;l++)if(t[l].mid===i){r.push(t[l]);break}return r.sort(menuSrch.sort_by("weight",!0,parseInt)),r},menuSrch.v_menusSearchListArray=menuSrchData.myjson_search.menusearch,menuSrch.v_menusCommonKeyArray=menuSrchData.myjson_common_key.common_key,menuSrch.g_exact_key="",menuSrch.v_menusUniqueKeyArray=r144(menuSrch.v_menusSearchListArray),menuSrch.r129=function(e){var t=new Array,r=new Array;e=e.toLowerCase(),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/\s{2,}/g," "),e=e.replace(/\+/g," "),e=e.replace(/\_/g," ");for(var n=e.split(" "),i=0;i<n.length;++i)for(var l=0;l<menuSrch.v_menusCommonKeyArray.length;++l)if(n[i]==menuSrch.v_menusCommonKeyArray[l]){delete n[i];break}n=menuSrch.r192(n);for(var a="",i=0;i<n.length;++i)a=a+n[i]+"+";if(a=a.substr(0,a.length-1),menuSrch.g_exact_key=a,t=menuSrch.r123(menuSrch.v_menusSearchListArray,a),t.length>0&&t.sort(menuSrch.sort_by("weight",!0,parseInt)),n.length>1){var o=menuSrch.r123(menuSrch.v_menusSearchListArray,n[0]);t.length>0&&(o=menuSrch.r191(o,t));for(var i=0;i<o.length;++i){var s=!0,d=o[i];s=menuSrch.r159(d.mid,n,1),1==s&&r.push(d)}}for(var i=0;i<r.length;++i){var d=r[i];t.push(d)}return t},menuSrch.r250=function(e,t){for(var r=!1,n=0;n<menuSrch.v_menusSearchListArray.length;++n){var i=menuSrch.v_menusSearchListArray[n];if(i.mid==e&&i.key==t)return menuSrch.v_menusSearchListArray[n].weight=parseInt(i.weight)+1,r=!0,void 0}if(0==r){var l='{"mid" : "'+e+'", "key" : "'+t+'", "weight" : "3"}',a=JSON.parse(l);menuSrch.v_menusSearchListArray.push(a)}},menuSrch.r156=function(e){e.weight=parseInt(e.weight)+1},menuSrch.r159=function(e,t,r){for(var n=r;n<t.length;++n){for(var i=!1,l=0;l<menuSrch.v_menusSearchListArray.length;++l){var a=menuSrch.v_menusSearchListArray[l],o=a.key;if(a.mid==e&&o.indexOf(t[n],0)>=0){i=!0;break}}if(0==i)return i}return!0},menuSrch.r123=function(e,t){for(var r=new Array,n=0;n<e.length;++n){var i=e[n],l=i.key;l.indexOf(t,0)>=0&&(menuSrch.r160(i.mid,r)||r.push(e[n]))}return r},menuSrch.r191=function(e,t){for(var r=e,n=!1,i=0;i<r.length;++i){n=!1;var l=r[i];n=menuSrch.r160(l.mid,t),1==n&&delete r[i]}return r=menuSrch.r192(r)},menuSrch.r160=function(e,t){for(var r=0;r<t.length;++r){var n=t[r];if(n.mid==e)return!0}return!1},menuSrch.r192=function(e){for(var t=e.length;t>=0;t--)void 0==e[t]&&e.splice(t,1);return e},menuSrch.sort_by=function(e,t,r){var n=function(t){return r?r(t[e]):t[e]};return function(e,r){var i=n(e),l=n(r);return(l>i?-1:i>l?1:0)*[1,-1][+!!t]}},menuSrch.r237=function(e){e.className="suggest_link_over"},menuSrch.r236=function(e){e.className="suggest_link"},menuSrch.r253=function(e,t){if(Adler.trace&&console.log("Entering menuSrch.r253"),0!==e.length){var r;r=t?t:menuSrch.r129(e),menuSrch.r12(r)}},menuSrch.r12=function(e){var t=Adler.searchSuggest;if(e.length>0){menuSrch.r194();for(var r=0;r<e.length;++r){var n=e[r],i=n.mid,l=menuSrchData.myjson_search.getLeaf(i,0).leaf,a=l.description;l.type;var o=l.hint,s="i"+i,d=document.getElementById(s);if(null==d){d=document.createElement("div"),d.setAttribute("onmouseover","menuSrch.r237(this);"),d.setAttribute("onmouseout","menuSrch.r236(this);"),o&&"onClick"==o&&d.setAttribute("onclick","menuSrch.r9("+i+");"),d.setAttribute("class","suggest_link"),d.setAttribute("id","i"+i);var c=document.createElement("span");c.setAttribute("style","position:relative;top:0px;"),c.innerHTML=a,d.appendChild(c),t.appendChild(d),o&&"onClick"!=o&&menu.generic.r10(AdlerBaseExt.r125(),[l])}else AdlerBaseMenuExt.r168(d,"visibility","visible"),t.appendChild(d),o&&"onClick"!=o&&"custom"===l.menuType&&menu.generic.r10(AdlerBaseExt.r125(),[l]);l.searchData=n}}else t.innerHTML="";var u=window.getComputedStyle(t).height;u=parseInt(u.substring(0,u.length-2)),u>150&&(t.style.height="150px",t.style.overflow="scroll")},menuSrch.r130=function(e){menuSrchData.myjson_search.leafMenu.length;for(var t=0;t<menuSrchData.myjson_search.leafMenu.length;++t){var r=menuSrchData.myjson_search.leafMenu[t];if(r.id==e)return r.description}return""},menuSrch.r9=function(e){Adler.txtSearch.value="",menuSrch.r194();var t=new Array,r=menuSrchData.myjson_search.getLeaf(e,0);t.push(r.leaf),menu.generic.r10(AdlerBaseExt.r125(),t)},nnn("menu.allMenus"),menu.allMenus.actionContainer=new AdlerBaseMenuExt.MenuContainer({id:1e3,name:"",left:330,top:10,width:125,height:35,border:"1px solid",type:"Rectangle"});var del=menuSrchData.myjson_search.leafMenu[0];del.parent=menu.allMenus.actionContainer,del.left=0;var cln=menuSrchData.myjson_search.leafMenu[1];cln.parent=menu.allMenus.actionContainer,cln.left=30;var nt=menuSrchData.myjson_search.leafMenu[2];nt.parent=menu.allMenus.actionContainer,nt.left=60;var srch=menuSrchData.myjson_search.leafMenu[3];srch.parent=menu.allMenus.actionContainer,srch.left=90,Action.Search.r204(srch),menu.allMenus.propertyContainer=new AdlerBaseMenuExt.MenuContainer({id:2e3,name:"Properties",left:450,top:10,width:110,height:172,type:"Rectangle"}),menu.allMenus.property=[{id:2300,name:"Background",icon:"png/glyphicons_316_tree_conifer.png",color:AdlerBaseMenuExt.colorArray[5],parent:menu.allMenus.propertyContainer,childIds:[2301,2302,2303,4e3,8e3]},{id:2400,name:"Border",icon:"png/glyphicons_280_settings.png",color:AdlerBaseMenuExt.colorArray[0],parent:menu.allMenus.propertyContainer},{id:2500,name:"Visibility",icon:"png/glyphicons_186_move.png",color:AdlerBaseMenuExt.colorArray[1],parent:menu.allMenus.propertyContainer},{id:2600,name:"Margin",icon:"png/glyphicons_316_tree_conifer.png",color:AdlerBaseMenuExt.colorArray[2],parent:menu.allMenus.propertyContainer},{id:2100,name:"Shape",icon:"png/glyphicons_280_settings.png",color:AdlerBaseMenuExt.colorArray[3],parent:menu.allMenus.propertyContainer,childIds:[2101,2102,2103,2104]},{id:2200,name:"Location",icon:"png/glyphicons_186_move.png",color:AdlerBaseMenuExt.colorArray[4],parent:menu.allMenus.propertyContainer,childIds:[2201,2202]}];for(var l=menu.allMenus.property.length,i=0;l>i;i++)new AdlerBaseMenuExt.MenuItem(menu.allMenus.property[i]);menu.allMenus.oncreateContainer=new AdlerBaseMenuExt.MenuContainer({id:3e3,name:"Often Used",left:590,top:10,width:110,height:172,type:"Rectangle"}),menu.allMenus.often=[{id:3100,name:"Type",icon:"png/glyphicons_280_settings.png",color:AdlerBaseMenuExt.colorArray[0],parent:menu.allMenus.oncreateContainer,childIds:[3101],description:"Often Used"}];for(var l=menu.allMenus.often.length,i=0;l>i;i++)new AdlerBaseMenuExt.MenuItem(menu.allMenus.often[i]);menu.allMenus.searchContainer=new AdlerBaseMenuExt.MenuContainer({id:5e3,name:"",left:100,top:200,width:180,height:"auto",border:"1px solid",type:"Rectangle"}),nnn("language.editor"),language.editor.type=null,language.editor.tabScript=null,language.editor.tabStyle=null,language.editor.tabHtml=null,language.editor.existing=null,language.editor.lang="script",language.editor.editBox=null,language.editor.letterCount=0,language.editor.keyArray=new Array,language.editor.view=null,language.editor.script=[["switch","navy"],["while","tan"],["function","red"],["if","aqua"],["for","olive"],["var","orange"]],language.editor.style=[["position","red"]],language.editor.html=[["id","blue"],["name","blue"],["data-id","red"],["data-class","red"],["src","blue"],["value","blue"]],language.editor.r99=function(e){language.editor.existing.data=language.editor.existing===language.editor.tabStyle?language.editor.editBox.firstChild:language.editor.editBox.value;var t=e.target;t===language.editor.tabStyle?(language.editor.lang="style",document.getElementById("editor").style.visibility="hidden",language.editor.editBox=document.getElementById("editorDiv"),language.editor.editBox.style.visibility="visible",t.data&&(language.editor.editBox.innerHTML="",language.editor.editBox.appendChild(t.data))):(t===language.editor.tabHtml?language.editor.lang="html":t===language.editor.tabScript&&(language.editor.lang="script"),document.getElementById("editorDiv").style.visibility="hidden",language.editor.editBox=document.getElementById("editor"),language.editor.editBox.style.visibility="visible",language.editor.editBox.value=t.data?t.data:"",language.editor.editBox.setAttribute("placeholder",t.placeHolder)),t.style.color="white",t.style["box-shadow"]="0px 0px 5px 4px rgba(50, 50, 50, 0.75)",t.style["z-index"]=33;var r=language.editor.existing;r&&(r.style.color="grey",r.style["z-index"]=31,r.style["box-shadow"]="0px 0px 0px 0px rgba(50, 50, 50, 0.75)",language.editor.existing=t);var n=t.style["background-color"];language.editor.editBox.style["border-color"]=n,language.editor.editBox.style.color=n},language.editor.assist=function(e){var t=e.which,r=String.fromCharCode(t);switch(language.editor.keyArray[language.editor.letterCount]=t,t){case 8:case 13:case 38:case 40:language.editor.letterCount=0,language.editor.keyArray=new Array;break;case 219:r="]",e.shiftKey&&(r="}"),language.editor.r158(r);break;case 186:if(e.shiftKey);else if("style"===language.editor.lang){var n=language.editor.editBox.innerHTML;language.editor.view.actualObj.setAttribute("style",n),language.editor.tabStyle.data=n}break;case 222:r="'",e.shiftKey&&(r='"'),language.editor.r158(r);break;case 57:r="0",e.shiftKey&&(r=")"),language.editor.r158(r);break;case 32:var i=language.editor.letterCount,l=window.getSelection(),a=l.focusNode,o=l.focusOffset-1,s=o-i;0>s&&(s=o),l.collapse(a,s);var d=document.createRange();d.setStart(a,s),d.setEnd(a,o),l=window.getSelection(),lastWord=l.focusNode.nodeValue.substring(s,o);var c=language.editor.r34(language.editor.lang,lastWord);c?language.editor.r50(l,d,lastWord," ",c):(l=window.getSelection(),a=l.focusNode,l.collapse(a,o+1)),language.editor.letterCount=0;break;default:e.shiftKey||(r=r.toLowerCase()),language.editor.letterCount++}},language.editor.r34=function(e,t){for(var r=language.editor[e],n=r.length-1;n>-1;n--){var i=r[n][0];if(t===i)return r[n]}return null},language.editor.r158=function(e){var t,r;window.getSelection?(t=window.getSelection(),t.getRangeAt&&t.rangeCount&&(r=t.getRangeAt(0),r.deleteContents(),r.insertNode(document.createTextNode(e)))):document.selection&&document.selection.createRange&&(document.selection.createRange().text=e)},language.editor.r50=function(e,t,r,n,i){var l=i[1];t.deleteContents();var a=document.createElement("font");a.innerHTML=r+n,a.setAttribute("style","font-size:14px;color:"+l),t.insertNode(a),t.setStartAfter(a),e.removeAllRanges(),e.addRange(t)},language.editor.r170=function(e){var t,r;if(window.getSelection){if(t=window.getSelection(),t.rangeCount>0){var n=t.focusNode,i=t.focusOffset+e;t.collapse(n,Math.min(n.length,i))}}else(t=window.document.selection)&&"Control"!=t.type&&(r=t.createRange(),r.move("character",e),r.select())},language.editor.r197=function(){if(window.getSelection){if(sel=window.getSelection(),sel.getRangeAt&&sel.rangeCount)return sel.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null},language.editor.r196=function(e){e&&(window.getSelection?(sel=window.getSelection(),sel.removeAllRanges(),sel.addRange(e)):document.selection&&e.select&&e.select())
},language.editor.onblur=function(){},nnn("codeAssistData"),codeAssistData.myjson_class={codeAssistList:[{token:"M_CUSTOM",name:"Custom",source:{fileName:"adlerScripts.js"},key:"custom note javascript",dtype:"A","class":{method:"codeAssistLib.custom",param:[{ptoken:"P_INPUT_BOX_ID",isNull:"Y"}],output:{ptoken:"P_EDITCHECK_DATA"}}},{token:"M_TAB",name:"Tab",source:{fileName:"adlerScripts.js"},key:"tab",dtype:"A","class":{method:"codeAssistLib.custom",param:[{ptoken:"P_INPUT_BOX_ID",isNull:"Y"}],output:{ptoken:"P_EDITCHECK_DATA"}}},{token:"M_EDITCHECK",name:"EditCheck",source:{fileName:"adlerScripts.js"},key:"edit check editcheck",dtype:"A","class":{method:"codeAssistLib.editCheck",param:[{ptoken:"P_INPUT_BOX_ID",isNull:"Y"}],output:{ptoken:"P_EDITCHECK_DATA"}}},{token:"M_LINKPAGE",name:"LinkPage",source:{fileName:"adlerScripts.js"},key:"hyperlink link",dtype:"A","class":{method:"codeAssistLib.hyperlink",param:[],output:{ptoken:"P_PAGE"}}},{token:"P_INPUT_BOX_ID",name:"editCheckInput",dtype:"S",sample:"Div2"},{token:"P_EDITCHECK_DATA",name:"editcheck output results",key:"editoutput",dtype:"O","enum":[],sample:{inputValue:"somevalue"}},{token:"P_RETURN_STATUS",name:"return status",key:"return status",dtype:"B","enum":["TRUE","FALSE"],sample:"TRUE"},{token:"P_RETURN_MESSAGE",name:"return message",key:"return message",dtype:"S","enum":[],sample:"The method ran successfully"},{token:"P_CURRENT_DATE",name:"current date",key:"current date",dtype:"D","enum":[],sample:"10/25/2012"},{token:"P_HTML_ELEMENT",name:"html element",key:"html element",dtype:"H","enum":[],sample:""},{token:"P_USER_ID",name:"user",key:"user id",dtype:"S","enum":[],sample:"venkat"},{token:"P_PASSWORD",name:"password",key:"password",dtype:"S","enum":[],sample:""},{token:"P_AUTH_DATA",name:"authn results",key:"auth result",dtype:"O","enum":[],sample:{code:0,msg:"success"}},{token:"P_PAGE",name:"hyperlink",key:"hyperlink",dtype:"S","enum":[],sample:"http://www.google.com"},{token:"M_AUTHENTICATE",name:"Authenticate",source:{fileName:"adlerScripts.js"},key:"authenticate login",dtype:"A","class":{method:"codeAssistLib.authenticate",param:[{ptoken:"P_USER_ID",isNull:"N"},{ptoken:"P_PASSWORD",isNull:"N"}],output:{ptoken:"P_AUTH_DATA"}}}]},codeAssistData.myjson_synonym={codeAssistSyn:[{key:"i",syn:""},{key:"the",syn:""},{key:"if",syn:""},{key:"it",syn:""},{key:"bring",syn:"get"},{key:"empty",syn:"clear"},{key:"update",syn:"set"}]},nnn("codeAssist"),codeAssist.v_codeAssistListArray=codeAssistData.myjson_class.codeAssistList,codeAssist.v_codeAssistCommonKeyArray=codeAssistData.myjson_synonym.codeAssistSyn,codeAssist.g_exact_key="",codeAssist.funcSearch=null,codeAssist.r200=function(e){var t=e.which,r=String.fromCharCode(t);null==codeAssist.funcSearch&&(codeAssist.funcSearch=document.getElementById("functionSearch"));var n=codeAssist.funcSearch.value;" "==r&&codeAssist.r186(n)},codeAssist.r186=function(e){var t=new Array;t=codeAssist.r128(e);var r=document.getElementById("function_suggest");r.innerHTML="";for(var n=0;n<t.length;++n){var i=t[n],l=i.token,a=i.name;div=document.createElement("div"),div.setAttribute("onmouseover","menuSrch.r237(this);"),div.setAttribute("onmouseout","menuSrch.r236(this);"),div.setAttribute("class","suggest_link"),div.setAttribute("id",l),div.data=i,div.onclick=function(){codeAssist.r181(l)};var o=document.createElement("span");o.setAttribute("style","position:relative;top:0px;"),o.innerHTML=a,div.appendChild(o),r.appendChild(div)}},codeAssist.r181=function(e){var t=codeAssist.r141(e);workflow.Init(t)},codeAssist.r141=function(e){for(var t=new Array,r=0;r<codeAssist.v_codeAssistListArray.length;++r)if(e==codeAssist.v_codeAssistListArray[r].token)return t=codeAssist.v_codeAssistListArray[r];return null},codeAssist.r128=function(e){var t=new Array;e=e.toLowerCase(),e=e.replace(/^\s+|\s+$/g,""),e=e.replace(/\s{2,}/g," "),e=e.replace(/\+/g," "),e=e.replace(/\_/g," ");for(var r=e.split(" "),n=0;n<r.length;++n)for(var i=0;i<codeAssist.v_codeAssistCommonKeyArray.length;++i)if(r[n]==codeAssist.v_codeAssistCommonKeyArray[i].key){""==codeAssist.v_codeAssistCommonKeyArray[i].syn?delete r[n]:r[n]=codeAssist.v_codeAssistCommonKeyArray[i].syn;break}r=codeAssist.r192(r);for(var l="",n=0;n<r.length;++n)l=l+r[n]+"+";l=l.substr(0,l.length-1),codeAssist.g_exact_key=l;for(var n=0;n<codeAssist.v_codeAssistListArray.length;++n){var a=!0,o=codeAssist.v_codeAssistListArray[n];if(0==o.token.indexOf("M_")){var s=" "+o.key+" ";if(a=codeAssist.r159(s,r),1==a){var d=new Object({token:o.token,name:o.name});t.push(d)}}}return t},codeAssist.r159=function(e,t){for(var r=0;r<t.length;++r){var n=!1;if(e.indexOf(" "+t[r]+" ",0)>=0){n=!0;break}if(0==n)return n}return!0},codeAssist.r192=function(e){for(var t=e.length;t>=0;t--)void 0==e[t]&&e.splice(t,1);return e},nnn("codeAssistLib"),codeAssistLib.r207=function(e,t){return e instanceof HTMLElement?(e.style.background=t,!0):!1},codeAssistLib.r38=function(e){return e instanceof HTMLElement?(e.value="",!0):!1},codeAssistLib.r218=function(e){return e instanceof HTMLElement?(e.readOnly=!0,!0):!1},codeAssistLib.r138=function(){var e=new Array;return e},nnn("language.notepad"),language.notepad.noteEditor=null,language.notepad.noteEditorInp=new Array,language.notepad.notepad_suggest=null,language.notepad.keyArray=new Array,language.notepad.assist=function(e){var t=null,r=e.which;switch(String.fromCharCode(r),language.editor.keyArray[language.editor.letterCount]=r,r){case 13:t=e.target.value,e.target==language.notepad.noteEditorInp[language.notepad.noteEditorInp.length-1]&&language.notepad.r55(e);case 32:t=e.target.value;var n=new Array;n=codeAssist.r128(t),language.notepad.notepad_suggest=document.getElementById("notepad_suggest"),language.notepad.notepad_suggest.left="100px",language.notepad.notepad_suggest.top="40px",language.notepad.r185(0,n);case 38:case 40:}return!0},language.notepad.r185=function(e,t){for(var r="",n=0;n<t.length;++n){var i=t[n],l=i.token,a=i.name;r=r+'<div onmouseover="language.notepad.r27(this, \'blue\')" onmouseout="language.notepad.r27(this,\'white\')" onClick="language.notepad.r51('+e+",'"+l+"','"+a+"')\">"+a+"</div>"}language.notepad.notepad_suggest.innerHTML=r},language.notepad.r51=function(e,t,r){return language.notepad.noteEditorInp[e].value=r,language.notepad.noteEditorInp[e].token=t,language.notepad.notepad_suggest.innerHTML="",language.notepad.r55(event),language.notepad.noteEditorInp[e+1].focus(),!0},language.notepad.r27=function(e,t){return e.style.background=t,!0},language.notepad.r55=function(){var e=document.createElement("input");e.setAttribute("name","noteEditorInp[]"),e.setAttribute("style","position:absolute;left:0px;width:400px;border:0px;"),language.notepad.noteEditor.appendChild(e);var t=document.createElement("br");language.notepad.noteEditor.appendChild(t),language.notepad.noteEditorInp=document.getElementsByName("noteEditorInp[]"),language.notepad.noteEditorInp[language.notepad.noteEditorInp.length-1].keyup=language.notepad.assist},nnn("flow"),flow.color=["#e51c23","#e91e63","#9c27b0","#673ab7","#3f51b5","#5677fc","#03a9f4","#00bcd4","#009688","#259b24","#8bc34a","#ff5722","#795548","#607d8b","#263238","#3e2723","#000000"],flow.r50em=0,flow.pageMap={},flow.draw=function(e,t){if(10==e.patternCode)if(t!==Adler.canvasView){e.view.r80(Adler.canvasView);var r=flow.getColor(),n=t.r120(),i=e.view.actualObj;i.style["background-color"]=r,i.style["box-shadow"]="4px 4px 6px gray",e.view.r213("width",n.width,"Shape"),e.view.r213("top",n.top+n.height,"Location"),e.view.r213("left",n.left,"Location"),e.view.r213("color","white","Text");for(var l=t.name,a=l+"-1",o=null,s=Adler.flow[Adler.layout].pages,d=s.length-1;d>-1;d--){var c=s[d];if(c.pageName===l){o=c;break}}flow.addNewPage(e.view.r120(),Adler.flowCtx,e.view,a),o&&(o.nextPage=a)}else{e.view.r80(Adler.canvasView);var r=flow.getColor(),n=t.r120(),i=e.view.actualObj;i.style["background-color"]=r,i.style["box-shadow"]="4px 4px 6px gray",i.style.color="white";var u={x:n.left,y:n.top,x2:n.left+n.width,y2:n.top+n.height};Adler.decisionDiv.view=e.view,flow.decision("screenName")}else{var u=e.line;u||(lastPoint=e.pointsArray.length-1,u={x:e.pointsArray[0][0],y:e.pointsArray[0][1],x2:e.pointsArray[lastPoint][0],y2:e.pointsArray[lastPoint][1]},u.distance=r22(u.x2,u.x,u.y2,u.y));var p=AdlerBaseExt.r148(u.x,u.y),g=p[0];p=AdlerBaseExt.r148(u.x2,u.y2);var m=p[0];if(g===m)if(g===Adler.canvasView)flow.r58(e.line);else{if(u.distance<21){var f=Adler.flowMenu.style;if(targetView===Adler.canvasView)return"none"===f.display&&(f.display="table",Adler.move.style.visibility="hidden"),void 0;f.display="table";var y=adlerEvent.currentPos;if(f.left=y.x+10+"px",f.top=y.y-35+"px",Adler.flowMenu.view=targetView,Adler.move.view=targetView,Adler.copyPage){var h=document.getElementById("flowPaste").style;h.display="block"}var v=Adler.move.style;return v.visibility="visible",v.left=targetView.getLeft()-35+"px",v.top=targetView.getTop()-35+"px",void 0}Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,4e3),flow.decision("addWidget",g,{left:u.x,top:u.y,width:u.x2-u.x,height:u.y2-u.y},u)}else{if(m===Adler.canvasView){var w={x:u.x2-40,y:u.y2-10,x2:u.x2+40,y2:u.y2+90};m=flow.r58(w)}Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,4e3),flow.connectLine(g,m,!0)}}},flow.connectLine=function(e,t,r){var n=e.r102(),i=t.r102(),l="black";e.actualObj.color&&(l=e.actualObj.color);var a,o,s,d;n.top+n.height<i.top?(o=i.left+i.width/2,d=i.top):n.top>i.top+i.height?(o=i.left+i.width/2,d=i.top+i.height):(o=i.left,d=i.top+i.height/2,i.left+i.width<n.left&&(o=i.left+i.width)),n.left+n.width<i.left?(a=n.left+n.width,s=n.top+n.height/2):n.left>i.left+i.width?(a=n.left,s=n.top+n.height/2):(a=n.left+n.width/2,s=n.top+n.height,i.top+i.height<n.top&&(s=n.top)),Adler.flowCtx.strokeStyle=l,Adler.flowCtx.beginPath(),Adler.flowCtx.moveTo(a,s);var c=o,u=s;u>d&&(u=d),a>o&&(c=a),Adler.flowCtx.quadraticCurveTo(c,u,o,d),Adler.flowCtx.stroke();var p=Math.atan2(d-s,o-a);flow.drawArrow(a,s,((a+o)/2+c)/2,((s+d)/2+u)/2,p),r&&(Adler.decisionDiv.view1=e,Adler.decisionDiv.view2=t,flow.connectPages(e,t),flow.redraw())},flow.drawArrow=function(e,t,r,n,i){var l=Adler.flowCtx,a=10;l.beginPath(),l.moveTo(r,n),l.lineTo(r-a*Math.cos(i-Math.PI/6),n-a*Math.sin(i-Math.PI/6)),l.moveTo(r,n),l.lineTo(r-a*Math.cos(i+Math.PI/6),n-a*Math.sin(i+Math.PI/6)),l.stroke()},flow.decision=function(e){var t=Adler.decisionDiv;if(!t.view){var r=Adler.canvasView.r120();t.view=AdlerBaseExt.r53({x:r.left,y:r.top,w:r.width,h:r.height,view:Adler.canvasView,ln:{r64:"E"},type:"div",dontDraw:!1,border:!1})}var n=t.view.r120(),i=n.left+20,l=n.top+20;if(Adler.dimension.width-i-300<5&&(i=Adler.dimension.width-300),Adler.dimension.height-l-300<5&&(l=Adler.dimension.height-300),t.style.left=i+"px",t.style.top=l+"px",t.type=e,t.style.display="block",t.style.visibility="visible","screenName"===e){var a=document.getElementById("decisionScreen");a.style.display="block",a.style.visibility="visible";var o=document.getElementById("decisionName");o.focus()}else{var s=document.getElementById("decisionWidget");s.style.display="block",s.style.visibility="visible",t.line=line}},flow.r58=function(e,t){var r,n,i,l,a=!1;e?(i=Math.abs(e.y-e.y2),l=Math.abs(e.x2-e.x),l>i?i=l:l=i,r=e.x,n=e.y):(a=!0,l=t.width,i=t.height,r=t.left,n=t.top);var o=new ObjStyle({left:r,top:n,position:"absolute",styleType:"Location"}),s=new ObjStyle({width:l,height:i,padding:10,overflow:"hidden",visibility:"visible",z_index:1,styleType:"Shape"}),d=new ObjStyle({box_shadow:"4px 4px 4px gray",border_width:1,border_style:"solid",border_color:"white",unit:"px",styleType:"Border"}),c=flow.getColor(),u=new ObjStyle({background_color:c,color:"white",styleType:"Background"}),p=new AdlerStyleCollection({adlerObject:o});p.addItem(s),p.addItem(d),p.addItem(u);var g=new DivViewModel({type:"div",objStyleCollection:p,adlerType:"endObject"});return g.r80(Adler.canvasView),Adler.dirty=!0,Adler.flow.dirty=!0,g.actualObj.color=c,a?g:(Adler.decisionDiv.view=g,flow.decision("screenName",g,g.r120()),g)},flow.connectPages=function(e,t){var r=e.name,n=t.name;if("adlerDiv"!=n)for(var i=Adler.flow[Adler.layout].pages,l=i.length,a=0;l>a;a++){var o=i[a];if(r===o.pageName){o.level&&9===o.level&&(o.dimension.top=110,o.level=1,e.setTop(110)),o.href.push(n);var s=flow.findPage(n);s.level&&(s.level=o.level+1,s.dimension.top=100*s.level,t.setTop(s.dimension.top));break}}},flow.drawFlow=function(){Adler.flow[Adler.layout]||(Adler.flow[Adler.layout]={pages:[],entryPage:"",pageTemplate:null});var e=Adler.flowCtx,t=e.canvas;t.width=t.width,Adler.flowCtx.strokeStyle="#000000",Adler.flowCtx.lineWidth=2,Adler.flowCtx.font="bold 12px sans-serif",flow.r50em=0;var r=Adler.flow[Adler.layout].pages,n=r.length;Adler.flow[Adler.layout].entryPage?Adler.flow[Adler.layout].entryPage=n>0?r[0].pageName:"":n>0&&(Adler.flow[Adler.layout].entryPage=r[0].pageName,Adler.flow.version=Adler.version,sessionStorage["adler-flowDetail"]=JSON.stringify(Adler.flow),Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,4e3));for(var i=0;n>i;i++){var l=r[i];flow.pageMap[l.pageName]=l;var a=flow.r58(null,l.dimension),e=Adler.flowCtx;a.name=l.pageName,l.description&&(a.actualObj.innerHTML=l.description),e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowBlur=2,e.shadowColor="rgba(200,200,200,1)";var o=l.pageName;e.fillText(o,l.dimension.left+20,l.dimension.top-10),e.stroke()}for(var i=0;n>i;i++){var l=r[i],s=flow.findView(l.pageName),d=l.href;if(d&&d.length>0)for(var c=d.length-1;c>-1;c--){flow.pageMap[d[c]].parent=l.pageName;var u=flow.findView(d[c]);flow.connectLine(s,u,!1)}}Adler.dirty=!1,Adler.flow.dirty=!1,e.shadowOffsetX=1,e.shadowOffsetY=1,e.shadowBlur=2,e.shadowColor="rgba(200,200,200,1)",e.fillStyle="gray",e.fillText("flowName - "+Adler.flow.flowName,480,25),e.fillStyle="gray",e.fillText("user - "+localStorage["Adler-User"],480,45),e.shadowColor="rgba(0,0,0,1)",e.font="bold 32px sans-serif",e.fillText(Adler.layout+" View ",250,40),e.stroke(),e.font="bold 12px sans-serif";var p="";for(var g in flow.pageMap){var m=flow.pageMap[g];if(!m.parent&&m.href&&m.href.length>0){p=g,Adler.flow[Adler.layout].entryPage=p,sessionStorage["adler-flowDetail"]=JSON.stringify(Adler.flow);break}}},flow.redraw=function(){Adler.flow[Adler.layout]||(Adler.flow[Adler.layout]={pages:[],entryPage:"",pageTemplate:null});var e=Adler.flow[Adler.layout].pages,t=e.length,r=Adler.flowCtx,n=r.canvas;n.width=n.width,Adler.flowCtx.strokeStyle="#000000",Adler.flowCtx.lineWidth=2,Adler.flowCtx.font="bold 12px sans-serif";for(var i=0;t>i;i++){var l=e[i],a=flow.findView(l.pageName);a||(a=flow.r58(null,l.dimension),a.name=l.pageName,l.description&&(a.actualObj.innerHTML=l.description)),r.shadowOffsetX=2,r.shadowOffsetY=2,r.shadowBlur=2,r.shadowColor="rgba(200,200,200,1)";var o=l.pageName;r.fillText(o,l.dimension.left+20,l.dimension.top-10),r.stroke();var s=l.href;if(s&&s.length>0)for(var d=s.length-1;d>-1;d--){var c=flow.findView(s[d]);flow.connectLine(a,c,!1)}}},flow.pageTemplate={applyTemplate:function(){var e=sessionStorage["adler-"+Adler.flow.flowName+"-"+Adler.layout+"-pageTemplate"];if(e){var t=Adler.canvasView.r120();view=AdlerBaseExt.r53({x:t.left,y:t.top,w:t.width,h:t.height,view:Adler.canvasView,ln:{r64:"E"},type:"div",dontDraw:!1,border:!1});var r=JSON.parse(e);menu.widgets.j41(view,r),clearTimeout(Adler.j6Timer),Adler.j6()}else{var n={title:"Choose Background  ",choices:[{text:"Yes",callback:function(){var e=document.getElementById("decision");e.view=null;var t="/Customization/pageTemplate"+Adler.layout+".html";Adler.decisionImplement(t)}},{text:"No",callback:function(){}}]};confirmAction(n)}},reflectTemplate:function(e){var t=JSON.stringify(e);sessionStorage["adler-"+Adler.flow.flowName+"-"+Adler.layout+"-pageTemplate"]=t,Adler.flow[Adler.layout].pageTemplate=t,insertFlow(Adler.flow),Adler.flow.dirty=!1}},flow.noteCard={openCard:function(e){var t=e.r120(),r=document.getElementById("noteCard"),n=r.style;n.display="block",n.visibility="visible",n.left=t.left+"px",n.top=t.top+"px",r.focus(),Adler.pen.cursor.style.left=t.left-10+"px",Adler.pen.cursor.style.top=t.top-10+"px";var i=document.getElementById("team");i.style.display="block",i.style.visibility="visible"}},flow.getColor=function(){var e=flow.r50em;e>flow.color.length-1&&(e=0,flow.r50em=0),flow.r50em++;var t=flow.color[e];return t},flow.findView=function(e){for(var t=Adler.globalCollection.objectArray,r=t.length-1;r>-1;r--){var n=t[r];if(n.name===e)return n}return null},flow.findPage=function(e){for(var t=Adler.flow[Adler.layout].pages,r=t.length,n=0;r>n;n++){var i=t[n];if(e===i.pageName)return i}return null},flow.addNewPage=function(e,t,r,n,i){var l={pageName:n,dimension:e,href:[]};return i&&(l.description=i),r.name=n,i&&(r.actualObj.innerHTML=i),t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowBlur=2,t.shadowColor="rgba(200,200,200,1)",t.fillText(n,e.left-10,e.top-30),t.stroke(),Adler.flow[Adler.layout]||(Adler.flow[Adler.layout]={entryPage:n}),Adler.flow[Adler.layout].pages||(Adler.flow[Adler.layout].pages=new Array,Adler.flow[Adler.layout].entryPage=l.pageName),Adler.flow[Adler.layout].pages.push(l),Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,4e3),Adler.flow.version=Adler.version,sessionStorage["adler-flowDetail"]=JSON.stringify(Adler.flow),l},flow.openPage=function(e,t){var r=t;if(r){if("string"==typeof r);else{var n=t;r=n.name}clearTimeout(Adler.j6Timer),Adler.j6(),r228("Opening page "+r),Adler.pageView=!0,canvas.width=canvas.width;var i=document.getElementById("canvasImage");i.width=i.width,Adler.storage.empty(),Adler.dummy=document.createElement("div"),document.getElementById("layout").style.display="none";var l=document.getElementById("penFlowBox");l.style.display="none",l.style.visibility="hidden";var a=document.getElementById("flowPen");a.style.display="none",a.style.visibility="hidden";var o=document.getElementById("flowPenCursor");o.style.display="none",a.style.visibility="hidden",Adler.activeMenus=new Array,Adler.hiddenMenus=new Array,Adler.pen=document.getElementById("componentPenCursor"),defineInteractivePens(),l=document.getElementById("penInteractiveBox"),l.style.display="block",l.style.visibility="visible",Adler.activeMenus.push(document.getElementById("penInteractiveBox")),Adler.componentPen.onclick(),Adler.defaultPen=Adler.componentPen,document.getElementById("editTextRemove").onclick=function(){menu.generic.editText.der10()},language.editor.tabStyle=document.getElementById("tabStyle"),language.editor.tabHtml=document.getElementById("tabHtml"),language.editor.tabNote=document.getElementById("tabNote"),language.editor.tabScript=document.getElementById("tabScript"),language.editor.tabHeader=document.getElementById("tabHeader"),language.editor.editBox=document.getElementById("editor"),Adler.page.manifest&&(Adler.page.manifest.style&&(Adler.page.manifest.style=new Array),Adler.page.manifest.script&&(Adler.page.manifest.script=new Array));var s=Adler.storage.getData("local","page",r);s||(Adler.page={pageName:r,pageId:"",userId:Adler.userId,type:"page",template:"",layout:Adler.layout,size:r16(),manifest:{}},flow.pageTemplate.applyTemplate(),r228("Creating New Page "+r));var d=document.getElementById("nextPage");d.r90||(d.r90=function(){var e=Adler.page.pageName,t=flow.findPage(e);if(t.nextPage)flow.openPage({},t.nextPage);else{var r=e+"-1",n=t.dimension,i={left:n.left,top:n.top+n.height,width:n.width,height:50};t.nextPage=r,Adler.flow[Adler.layout].pages.push({pageName:r,dimension:i}),Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,4e3),flow.openPage({},r)}}),Adler.decisionDiv.type="",Adler.dirty=!1,document.onkeyup=function(e){e.preventDefault(),r153(e)},document.onkeydown=function(e){specialKeys(e)}}},flow.deletePage=function(e,t){var r=t.name,n=flow.findPage(r);Adler.flow.flowId;var i=null;if(n.type&&"custom"===n.type||(i=getPage(r)),i&&(deletePage({pageId:i.pageId,flowId:i.flowId,userId:i.userId}),r228("Page "+r+" deleted"),r===Adler.flow[Adler.layout].entryPage&&(Adler.flow[Adler.layout].entryPage="")),"redrawFlow"===e){t.r62();var l=Adler.flow[Adler.layout].pages,a=l.length,o=Adler.flowCtx,s=o.canvas;s.width=s.width,Adler.flowCtx.strokeStyle="#000000",Adler.flowCtx.lineWidth=2,Adler.flowCtx.font="bold 12px sans-serif";for(var d=a-1;d>-1;d--){var c=l[d];if(c.pageName!==r){var u=flow.findView(c.pageName),p=c.pageName;o.fillText(p,c.dimension.left+20,c.dimension.top-10),o.stroke();var g=c.href;if(g&&g.length>0)for(var m=g.length-1;m>-1;m--){var f=g[m];if(f!==r){var y=flow.findView(g[m]);flow.connectLine(u,y,!1)}else g.splice(m,1)}}else Adler.flow[Adler.layout].pages.splice(d,1)}Adler.flowPen.onclick(),Adler.dirty=!0,Adler.flow.dirty=!0,clearTimeout(Adler.j6Timer),Adler.j6Timer=setTimeout(Adler.j6,4e3)}},nnn("workflow"),workflow.dragConnection=null,workflow.dPoint=null,workflow.process={},workflow.currentProcess="pageSave",workflow.tokenDetails=null,workflow.label=["Outcome","Input","Event","Output","Outcome","a","b","c","d","e","f","g","h","i","j"],workflow.labelIndex=0,workflow.lableIndexLast=0,workflow.jsonDiv=null,workflow.counter=0,workflow.coordinates=null,workflow.windowSize=null,workflow.firstCall=!0,workflow.r99=function(e){var t=e.target;if(t!==workflow.existing){t.style.color="white",t.style["box-shadow"]="0px 0px 5px 4px rgba(50, 50, 50, 0.75)",t.style["z-index"]=33;var r=workflow.existing;r.style.color="grey",r.style["z-index"]=31,r.style["box-shadow"]="0px 0px 0px 0px rgba(50, 50, 50, 0.75)";var n=t.style["background-color"];workflow.detailDiv.style["border-color"]=n,workflow.detailDiv.style.color=n,workflow.existing=t,workflow.r92()}},workflow.r92=function(){var e=function(e,t,r){var n=e.firstChild,i=n.options;for(var l in i)if(i[l].value===t[r]){n.selectedIndex=l;break}};workflow.detailDiv.innerHTML="";var t=workflow.existing;if(t===workflow.tabInput){var r=document.createElement("table");r.setAttribute("style","width:100%;font-size:12px;font-family:cursive;color:green;margin-left:5px;margin-right:5px;");var n=document.createElement("tr");n.setAttribute("style","background-color:olive;border-bottom:1px solid olive;font-weight:bold;font-size:14px;color:white;"),r.appendChild(n);var i=document.createElement("th");i.innerHTML="Label",n.appendChild(i);var l=document.createElement("th");l.innerHTML="Name",n.appendChild(l);var a="Connection",o=document.createElement("th");o.innerHTML=a,n.appendChild(o);for(var s=!1,d=workflow.process[workflow.currentProcess].points.length,c=1;d>c;c++)if("Input"===workflow.process[workflow.currentProcess].points[c].type){var n=document.createElement("tr");s?(n.setAttribute("style","width:100%;font-size:12px;font-family:cursive;background-color:rgb(180,180,180);color:white"),s=!1):(n.setAttribute("style","width:100%;font-size:12px;font-family:cursive;background-color:white;color:black"),s=!0),r.appendChild(n);var i=document.createElement("td");i.innerHTML="("+workflow.process[workflow.currentProcess].points[c].details.label+")",n.appendChild(i);var l=document.createElement("td");l.innerHTML=workflow.process[workflow.currentProcess].points[c].details.name,n.appendChild(l);var a="undefined";workflow.process[workflow.currentProcess].points[c].dataId&&(a=workflow.process[workflow.currentProcess].points[c].objId);var o=document.createElement("td");o.innerHTML=a,n.appendChild(o)}workflow.detailDiv.appendChild(r)}else if(t===workflow.tabOutput)var u=workflow.process[workflow.currentProcess].points[0],p=u.details;else if(t===workflow.tabCondition){var r=document.createElement("table");r.setAttribute("style","width:100%;font-size:12px;font-family:cursive;color:green;margin-left:5px;margin-right:5px;");var n=document.createElement("tr");n.setAttribute("style","background-color:olive;border-bottom:1px solid olive;font-weight:bold;font-size:14px;color:white;"),r.appendChild(n);var i=document.createElement("th");i.innerHTML="Label",n.appendChild(i);var l=document.createElement("th");l.innerHTML="Name",n.appendChild(l);var g=document.createElement("th");g.innerHTML="Condition",n.appendChild(g);var m=document.createElement("th");m.innerHTML="Value",n.appendChild(m);var f=document.createElement("th");f.innerHTML="Effect",n.appendChild(f);var u=workflow.process[workflow.currentProcess].points[0],p=u.details,y=p.sample;AdlerBase.isArray(y)&&(y=y[0]);for(var s=!1,d=workflow.process[workflow.currentProcess].points.length,c=1;d>c;c++)if("Output"===workflow.process[workflow.currentProcess].points[c].type){var h=workflow.process[workflow.currentProcess].points[c].condition,n=document.createElement("tr");s?(n.setAttribute("style","width:100%;font-size:12px;font-family:cursive;background-color:rgb(180,180,180);color:white"),s=!1):(n.setAttribute("style","width:100%;font-size:12px;font-family:cursive;background-color:white;color:black"),s=!0),r.appendChild(n);var i=document.createElement("th");i.innerHTML="("+workflow.process[workflow.currentProcess].points[c].details.label+")",n.appendChild(i);var v="<select data-key='field' data-index='"+c+"' onchange='workflow.r214(this)'>";v+="<option value='-'>-pick-</option>";for(var w in y)v=v+"<option value='"+w+"'>"+w+"</option>";v+="</select>";var l=document.createElement("td");l.innerHTML=v,n.appendChild(l);var g=document.createElement("td");g.innerHTML="<select data-key='ops' data-index='"+c+"' onchange='workflow.r214(this)'><option value='--'>-pick-</option><option value='gt'>&gt;</option><option value='lt'>&lt;</option><option value='eq'>=</option><option value='ne'>!=</option><option value='bt'>between</option><option value='lk'>like</option></select>",n.appendChild(g);var A=document.createElement("td");A.innerHTML="<input data-key='value' data-index='"+c+"' onkeyup='workflow.r214(this)' size='7' type='text'/>",n.appendChild(A);var f=document.createElement("td");if(f.innerHTML="<select data-key='transition' data-index='"+c+"' onchange='workflow.r214(this)'><option value='--'>-pick-</option><option value='popup'>popup</option><option value='flyIn'>flyIn</option><option value='flyOut'>flyOut</option><option value='fade'>fade</option></select>",n.appendChild(f),h&&(h.field&&e(l,h,"field"),h.ops&&e(g,h,"ops"),h.transition&&e(f,h,"transition"),h.value)){var b=A.firstChild;b.value=h.value}}workflow.detailDiv.appendChild(r)}else if(t===workflow.tabEvent){var r=document.createElement("table");r.setAttribute("style","width:100%;font-size:12px;font-family:cursive;color:green;margin-left:5px;margin-right:5px;");var n=document.createElement("tr");n.setAttribute("style","background-color:olive;border-bottom:1px solid olive;font-weight:bold;font-size:14px;color:white;"),r.appendChild(n);var i=document.createElement("th");i.innerHTML="Label",n.appendChild(i);var l=document.createElement("th");l.innerHTML="Name",n.appendChild(l);var x=document.createElement("th");x.innerHTML="Event",n.appendChild(x);var a="Connection",o=document.createElement("th");o.innerHTML=a,n.appendChild(o);for(var s=!1,d=workflow.process[workflow.currentProcess].points.length,c=1;d>c;c++)if("Event"===workflow.process[workflow.currentProcess].points[c].type){var n=document.createElement("tr");s?(n.setAttribute("style","width:100%;font-size:12px;font-family:cursive;background-color:rgb(180,180,180);color:white"),s=!1):(n.setAttribute("style","width:100%;font-size:12px;font-family:cursive;background-color:white;color:black"),s=!0),r.appendChild(n);var i=document.createElement("td");i.innerHTML="("+workflow.process[workflow.currentProcess].points[c].details.label+")",n.appendChild(i);var l=document.createElement("td");l.innerHTML=workflow.process[workflow.currentProcess].points[c].details.name,n.appendChild(l);var x=document.createElement("td");x.innerHTML="<select onchange='workflow.r89(this);'><option value='-pick-'>-pick-</option><option value='onclick'>on click/tap</option><option value='swipe'>on swipe</option><option value='onblur'>on blur</option><option value='onfocus'>on focus</option></select>",n.appendChild(x),e(x,workflow.process[workflow.currentProcess].points[c].details,"name");var a="undefined";workflow.process[workflow.currentProcess].points[c].dataId&&(a=workflow.process[workflow.currentProcess].points[c].objId);var o=document.createElement("td");o.innerHTML=a,n.appendChild(o)}workflow.detailDiv.appendChild(r)}},workflow.InitLight=function(e,t){if(workflow.currentProcess=e,!workflow.process[e]){var r=!0;workflow.process[e]=new Object;var n=workflow.process[e];n.points=[{}],n.points[0]={x1:0,x2:0,y1:0,y2:0,name:e,tokenDetails:{name:e}},workflow.r76(null,r),n.points[1].details.name="onload",workflow.process[e].points[1].dataId=t,workflow.process[e].id=e,workflow.process[e].classType="adlerProcess",workflow.process[e].adlerId=t,workflow.process[e].r62=function(){delete workflow.process[this.id]}}},workflow.Init=function(e,t){if(null==e){if(workflow.labelIndex=0,workflow.tokenDetails=null,null==workflow.coordinates){workflow.windowSize=r16();var r=workflow.windowSize;d=r.winWidth/2,c=r.winHeight/2,workflow.coordinates={x:d,y:c}}return codeAssist.r181("M_CUSTOM"),workflow.r245(),void 0}if(workflow.firstCall&&workflow.r245(),e){if(workflow.tokenDetails=e,t)workflow.currentProcess=t;else{t=e.name;var n=0;for(var i in workflow.process)processName=i.split("-")[0],processName===t&&n++;workflow.currentProcess=0===n?t:t+"-"+n}for(var l=document.getElementById("processList"),a=!0,o=l.length-1;o>-1;o--)if(l.options[o].text===workflow.currentProcess){a=!1,l.selectedIndex=o;break}if(a){var s=document.createElement("option");s.innerHTML=workflow.currentProcess,l.appendChild(s),l.selectedIndex=l.length-1}if(workflow.labelIndex>5&&(workflow.labelIndex=5),workflow.lableIndexLast=workflow.labelIndex,workflow.process[workflow.currentProcess])workflow.r188();else{workflow.process[workflow.currentProcess]=new Object,workflow.process[workflow.currentProcess].tokenDetails=e,workflow.process[workflow.currentProcess].points=new Array;var d=workflow.coordinates.x,c=workflow.coordinates.y;workflow.process[workflow.currentProcess].points[0]={x1:d,y1:c,name:e.name},workflow.r82(e.name)}}else{workflow.currentProcess="Custom";for(var l=document.getElementById("processList"),a=!0,o=l.length-1;o>-1;o--)if(l.options[o].text===workflow.currentProcess){a=!1,l.selectedIndex=o;break}if(a){var s=document.createElement("option");s.innerHTML=workflow.currentProcess,l.appendChild(s),l.selectedIndex=l.length-1}workflow.process[workflow.currentProcess]=new Object,workflow.process[workflow.currentProcess].points=new Array;var d,c;if(null==workflow.coordinates){workflow.windowSize=r16();var r=workflow.windowSize;d=r.winWidth/2,c=r.winHeight/2,workflow.coordinates={x:d,y:c}}else d=workflow.coordinates.x,c=workflow.coordinates.y;workflow.process[workflow.currentProcess].points[0]={x1:d,y1:c,name:"process"},workflow.labelIndex=0,workflow.tokenDetails=null,workflow.r82(),null==workflow.windowSize&&(workflow.windowSize=r16()),r152(document.getElementById("connect"),"visible");
var u=document.getElementById("hyperlink"),p=document.getElementById("popup");u.style.display="block",u.style.visibility="visible",u.style.left=workflow.windowSize.winWidth-250+"px",u.style.top=workflow.windowSize.winHeight-50+"px",p.style.display="block",p.style.visibility="visible",p.style.left=workflow.windowSize.winWidth-450+"px",p.style.top=workflow.windowSize.winHeight-50+"px"}workflow.r92()},workflow.r245=function(){workflow.firstCall=!1,null==workflow.windowSize&&(workflow.windowSize=r16()),r152(document.getElementById("connect"),"visible");var e=document.getElementById("hyperlink"),t=document.getElementById("popup");e.style.display="block",e.style.visibility="visible",e.style.left=workflow.windowSize.winWidth-250+"px",e.style.top=workflow.windowSize.winHeight-50+"px",t.style.display="block",t.style.visibility="visible",t.style.left=workflow.windowSize.winWidth-450+"px",t.style.top=workflow.windowSize.winHeight-50+"px"},workflow.r82=function(e){var t="Search Process Name";if(e&&(t=e),workflow.process[workflow.currentProcess].points[0].name=t,ctx.clearRect(0,0,canvas.width,canvas.height),workflow.tokenDetails){var r=workflow.tokenDetails.class,n=r.output,i=n.ptoken,l=codeAssist.r141(i);workflow.process[workflow.currentProcess].points[0].details=l,workflow.r82Name();for(var a=r.param,o=a.length,s=10*o,d=s*o/2,c=0;o>c;c++){var u=codeAssist.r141(a[c].ptoken);workflow.r77(u,d),d-=s}workflow.r76(),workflow.r81()}else workflow.r82Name("Output"),workflow.r77(),workflow.r76(),workflow.r81();for(var p=workflow.labelIndex-1,c=workflow.process[workflow.currentProcess].points.length-1;c>-1&&(workflow.process[workflow.currentProcess].points[c].details.label=workflow.label[p--],!(0>p));c--);},workflow.r188=function(){ctx.clearRect(0,0,canvas.width,canvas.height),workflow.labelIndex=workflow.lableIndexLast;var e=workflow.process[workflow.currentProcess].points[0],t=e.x1-workflow.coordinates.x,r=e.y1-workflow.coordinates.y;e.x1=workflow.coordinates.x,e.y1=workflow.coordinates.y,workflow.r82Name();for(var n=workflow.process[workflow.currentProcess].points.length,i=1;n>i;i++){var l=workflow.process[workflow.currentProcess].points[i];l.details.name,cp=l.cp,t&&(l.x1=l.x1-t,l.y1=l.y1-r,cp&&(cp.x=cp.x-t,cp.y=cp.y-r),l.objId||(l.x2=l.x2-t,l.y2=l.y2-r)),workflow.r78(l)}workflow.r92()},workflow.r82Name=function(e,t){var r,n,i,l,a=workflow.process[workflow.currentProcess].points[0].name,o=10*a.length,s=35;if(r=workflow.process[workflow.currentProcess].points[0].x1,i=workflow.process[workflow.currentProcess].points[0].y1,workflow.process[workflow.currentProcess].points[0].x2=r+o,n=workflow.process[workflow.currentProcess].points[0].x2,workflow.process[workflow.currentProcess].points[0].y2=i+s,l=workflow.process[workflow.currentProcess].points[0].y2,workflow.process[workflow.currentProcess].points[0].cp={x:n,y:l},!t){ctx.lineWidth="1",ctx.strokeStyle="red",ctx.beginPath(),ctx.rect(r,i,o,s),ctx.fillText(a,r+15,i+s/2),ctx.stroke();var d=r+o/2,c=workflow.process[workflow.currentProcess].points[0].y2,u=d,p=c+30;if(e&&(workflow.process[workflow.currentProcess].points[0].details={name:e,label:"Process"}),workflow.r78({x1:d,y1:c,x2:u,y2:p,details:{name:e,label:"Outcome"},shape:"diamond",color:"navy"}),ctx.fillText("If",u-2,p+15),null==workflow.dragConnection){var g={x1:r+o/2,y1:l+52,x2:r+o/2,y2:l+92},m={x1:r+o/2-12,y1:l+42,x2:r+o/2-32,y2:l+62},f={x1:r+o/2+12,y1:l+42,x2:r+o/2+32,y2:l+62};workflow.process[workflow.currentProcess].points[0].remainingSlots=[g,m,f]}}},workflow.r76=function(e,t){var r,n,i,l,a;null==workflow.dragConnection?(r=workflow.process[workflow.currentProcess].points.length,n=workflow.process[workflow.currentProcess].points[0].x1,l=workflow.process[workflow.currentProcess].points[0].y2,i=workflow.process[workflow.currentProcess].points[0].x1-40,a=workflow.process[workflow.currentProcess].points[0].y2+40,workflow.process[workflow.currentProcess].points[r]={x1:n,y1:l,x2:i,y2:a,cp:{x:i,y:a},details:{name:"onclick",label:"("+r+")"},type:"Event",shape:"arrow1",color:"green"}):(r=workflow.dragConnection,n=workflow.process[workflow.currentProcess].points[r].x1,l=workflow.process[workflow.currentProcess].points[r].y1,i=workflow.process[workflow.currentProcess].points[r].x2,a=workflow.process[workflow.currentProcess].points[r].y2),t||(ctx.beginPath(),ctx.moveTo(n,l),ctx.lineTo(i,a),workflow.r78(workflow.process[workflow.currentProcess].points[r]))},workflow.r77=function(e,t,r){var n,i,l,a,o;if(null==workflow.dragConnection){n=workflow.process[workflow.currentProcess].points.length,w1=workflow.process[workflow.currentProcess].points[0].x2-workflow.process[workflow.currentProcess].points[0].x1,i=workflow.process[workflow.currentProcess].points[0].x1+w1/2,a=workflow.process[workflow.currentProcess].points[0].y1,l=i,t&&(l=i+t),o=a-60;var s=e;e?(s=e,s.label="("+n+")"):s={name:"Input",label:"("+n+")"},workflow.process[workflow.currentProcess].points[n]={x1:i,y1:a,x2:l,y2:o,cp:{x:l,y:o},type:"Input",shape:"arrow1",color:"orange",details:s}}else n=workflow.dragConnection,i=workflow.process[workflow.currentProcess].points[n].x1,a=workflow.process[workflow.currentProcess].points[n].y1,l=workflow.process[workflow.currentProcess].points[n].x2,o=workflow.process[workflow.currentProcess].points[n].y2;r||workflow.r78(workflow.process[workflow.currentProcess].points[n],t/2)},workflow.r81=function(e,t){var r,n,i,l,a;if(null==workflow.dragConnection){var o=workflow.process[workflow.currentProcess].points[0].remainingSlots;if(r=o.length,0===r)return;n=o[0].x1,l=o[0].y1,i=o[0].x2,a=o[0].y2,o.splice(0,1),r=workflow.process[workflow.currentProcess].points.length,workflow.process[workflow.currentProcess].points[r]={x1:n,y1:l,x2:i,y2:a,cp:{x:i,y:a},details:{name:"Output",label:r},type:"Output",shape:"arrow2",color:"purple"}}else r=workflow.dragConnection,n=workflow.process[workflow.currentProcess].points[r].x1,l=workflow.process[workflow.currentProcess].points[r].y1,i=workflow.process[workflow.currentProcess].points[r].x2,a=workflow.process[workflow.currentProcess].points[r].y2;t||workflow.r78(workflow.process[workflow.currentProcess].points[r])},workflow.r78=function(e,t){var r=e.x1,n=e.x2,i=e.y1,l=e.y2,a=workflow.label[workflow.labelIndex++];"Input"===e.type&&"Outcome"===a&&(a=workflow.label[workflow.labelIndex++]),e.details.label=a;var o,s,d=e.cp,c=e.shape,u=e.color,p=r,g=i;ctx.strokeStyle=u,ctx.beginPath(),ctx.moveTo(r,i),d?(ctx.quadraticCurveTo(d.x,d.y,n,l),o=d.x,s=d.y):(ctx.lineTo(n,l),o=n,s=l);var m=5*a.length,f=(i+l)/2;if(t&&(f+=t),ctx.fillText(a,(r+n-m)/2-5,f),ctx.stroke(),c){if("diamond"===c)workflow.r75(n,l,25,25);else if("circle"===c)ctx.beginPath(),ctx.arc(n,l,5,0,2*Math.PI),ctx.stroke();else if("arrow1"===c){var y=10,h=Math.atan2(s-g,o-p);ctx.beginPath(),ctx.arc(n,l,5,0,2*Math.PI),ctx.stroke(),ctx.beginPath(),ctx.moveTo(p,g),ctx.lineTo(p+y*Math.cos(h-Math.PI/6),g+y*Math.sin(h-Math.PI/6)),ctx.moveTo(p,g),ctx.lineTo(p+y*Math.cos(h+Math.PI/6),g+y*Math.sin(h+Math.PI/6)),ctx.stroke()}else if("arrow2"===c){ctx.strokeStyle="orange",ctx.beginPath(),ctx.arc(n,l,5,0,2*Math.PI),ctx.stroke(),ctx.closePath();var y=10,h=Math.atan2(l-i,n-r);ctx.beginPath(),ctx.strokeStyle=u,ctx.moveTo(n,l),ctx.lineTo(n-y*Math.cos(h-Math.PI/6),l-y*Math.sin(h-Math.PI/6)),ctx.moveTo(n,l),ctx.lineTo(n-y*Math.cos(h+Math.PI/6),l-y*Math.sin(h+Math.PI/6)),ctx.stroke()}}else ctx.beginPath(),ctx.arc(n,l,5,0,2*Math.PI),ctx.stroke();ctx.closePath(),e.objId&&workflow.r85(n,l,10,6,.2)},workflow.r75=function(e,t,r,n){ctx.beginPath(),ctx.moveTo(e,t),ctx.lineTo(e-r/2,t+n/2),ctx.lineTo(e,t+n),ctx.lineTo(e+r/2,t+n/2),ctx.closePath(),ctx.stroke()},workflow.r85=function(e,t,r,n,i){ctx.save(),ctx.beginPath(),ctx.translate(e,t),ctx.moveTo(0,0-r);for(var l=0;n>l;l++)ctx.rotate(Math.PI/n),ctx.lineTo(0,0-r*i),ctx.rotate(Math.PI/n),ctx.lineTo(0,0-r);ctx.fill(),ctx.restore()},workflow.r70=function(e){if(workflow.counter=0,workflow.dPoint=e,targetElement.jid)return adlerEvent?(adlerEvent.beginPos=e,adlerEvent.currentPos=e,adlerEvent.targetModel=targetElement,adlerEvent.targetHTML=targetElement):adlerEvent=new AdlerEvent({type:eType,currentPos:e,targetModel:targetElement,targetHTML:targetElement}),Adler.ghost.style.left=e.x+"px",Adler.ghost.style.top=e.y+"px",Adler.ghost.style.visibility="visible",!0;if(null==workflow.process[workflow.currentProcess])return!0;null==targetView&&(targetId=targetElement.adlerId,targetView=Adler.globalCollection.getItem(targetId));for(var t,r,n=workflow.process[workflow.currentProcess].points.length-1;n>-1;n--)if(t=workflow.process[workflow.currentProcess].points[n].x2-e.x,r=workflow.process[workflow.currentProcess].points[n].y2-e.y,25>t*t+r*r)return workflow.dragConnection=n,canvas.style.cursor="move",!0;return!0},workflow.r69=function(e){return workflow.counter++,targetElement.jid?(Adler.ghost.style.left=e.x+"px",Adler.ghost.style.top=e.y+"px",adlerEvent.currentPos=e,workflow.dPoint=e,!0):workflow.dragConnection?(workflow.process[workflow.currentProcess].points[workflow.dragConnection].x2+=e.x-workflow.dPoint.x,workflow.process[workflow.currentProcess].points[workflow.dragConnection].y2+=e.y-workflow.dPoint.y,workflow.dPoint=e,workflow.r188(),!0):!0},workflow.r71=function(){for(var e=Adler.hiddenMenus.length,t=e-1;t>-1;t--){var r=Adler.hiddenMenus[t];Adler.hiddenMenus.pop(),Adler.activeMenus.push(r),AdlerBaseMenuExt.r168(r,"visibility","visible")}if(0===workflow.counter&&Adler.pen===Adler.workPen){var n=targetElement.adlerId;if(null==n)return!0;if("connect"===n)return!0;var i=document.getElementById("connect");if("hidden"===i.style.visibility)workflow.coordinates=workflow.dPoint,workflow.Init();else{var l=workflow.process[workflow.currentProcess].points[0].x1,a=workflow.process[workflow.currentProcess].points[0].y1,o=workflow.process[workflow.currentProcess].points[0].x2,s=workflow.process[workflow.currentProcess].points[0].y2;if(workflow.dPoint.x>l&&workflow.dPoint.x<o&&workflow.dPoint.y>a&&workflow.dPoint.y<s){var d=workflow.eventJS(workflow.currentProcess);return d.script,menu.submenu.dom.showNoteEditor.r10(),void 0}workflow.coordinates=workflow.dPoint;var c=workflow.process[workflow.currentProcess].tokenDetails;workflow.Init(c,workflow.currentProcess)}}mousedown=!1;var u="",p=!1;if(targetElement.jid){Adler.ghost.style.left="0px",Adler.ghost.style.top="1000px",Adler.ghost.style.visibility="hidden";for(var t=workflow.process[workflow.currentProcess].points.length-1;t>-1;t--){var g=workflow.process[workflow.currentProcess].points[t];if("Output"===g.type&&null==g.dataId){g.x2=adlerEvent.currentPos.x,g.y2=adlerEvent.currentPos.y,workflow.dragConnection=t,workflow.r81();break}}}else p=!0;if(workflow.dragConnection){var m=workflow.dragConnection,f=workflow.process[workflow.currentProcess].points[m].type,y=Adler.canvasView.actualObj,h=workflow.dPoint,v={left:h.x,top:h.y,width:1,height:1},w=AdlerBaseExt.n1(null,v);if(w&&w.length>0&&(y=w[0].actualObj),y===Adler.canvasView.actualObj||y===Adler.canvas){if("Output"!==f)return workflow.dragConnection=null,canvas.style.cursor="default",void 0;var A=document.getElementById("hyperlink"),b=A.style.left;b=parseInt(b.substring(0,b.length-2));var x=A.style.top;x=parseInt(x.substring(0,x.length-2)),b<h.x&&x<h.y&&(y=A)}var m=workflow.dragConnection,f=workflow.process[workflow.currentProcess].points[m].type;"Output"===f?(p&&workflow.r99({target:workflow.tabOutput}),workflow.dragConnection=null,workflow.r81()):("Input"===f&&0===workflow.currentProcess.indexOf("Custom")&&(workflow.dragConnection=null,workflow.r77()),u=workflow.process[workflow.currentProcess].points[m].type),workflow.dragConnection=null,canvas.style.cursor="default",targetId=y.adlerId;var S=null;if(targetView=null,"connect"===targetId?(targetId=null,S=y.value,0===S.length&&(S=" ")):null==targetId?S=y.getAttribute("data-page"):targetView=Adler.globalCollection.getItem(targetId),targetView||S){var g=workflow.process[workflow.currentProcess].points[m];g.objId=y.getAttribute("id");var k=S;targetId?(k=targetId,g.dataId=k):S?(g.dataId=null,g.pageId=k):"Output"===f||(AdlerBaseExt.r202(targetView,!0),menuSrch.showMenu(u)),workflow.r85(g.x2,g.y2,10,6,.2)}return!0}return!0},workflow.eventJS=function(e){var t=workflow.process[e].script;if(0===e.indexOf("Inline"))return{script:t,pages:null};var r,n=e.replace("-","_")+"_Event",i="",l=null;r="/**\r\n**Type your notes here \r\n **\r\n **\r\n **/\r\n\r\n  function <pageName>_"+n+"() { ";for(var a=workflow.process[e].points.length-1,o=a;o>-1;o--){var s=workflow.process[e].points[o];if("Event"===s.type){var d=s.dataId;if(d){var c=Adler.globalCollection.getItem(d);r=r+"\r\n // This function will be invoked for "+c.getObjId()+" on Event -  "+s.details.name,i=i+"  {'id':'"+c.getObjId()+"','type':'"+s.details.name+"'} "}}}for(var u=new Array,p=a+1,o=0;p>o;o++){var s=workflow.process[e].points[o];if("Input"===s.type){var d=s.dataId;if(d){var c=Adler.globalCollection.getItem(d),g=c.getObjId();u.push(c);var m="\r\n    var "+g+" = document.getElementById('<pageName>_"+g+"'); // Input";i=i+" {'id':'"+g+"','type':'input'} ",r+=m}}}if(0===e.indexOf("Custom"));else{var f=e.split("-")[0];r=r=r+"\r\n\r\n    var  out = "+f+"(";var y=u.length;for(o=0;y>o;o++){o>0&&(r+=",");var c=u[o],h=c.type.toUpperCase(),g=c.getObjId();"INPUT"===h||"TEXTAREA"===h?r=r+g+".value":"SELECT"===h?r=r+g+".options["+g+".selectedIndex].text":r+=g}r+=");\r\n"}for(var o=a;o>-1;o--){var s=workflow.process[e].points[o];if("Output"===s.type){var d=s.dataId;if(d){var c=Adler.globalCollection.getItem(d),g=c.getObjId(),m="\r\n    "+g+" = document.getElementById('<pageName>_"+g+"'); // Output";i=i+" {'id':'"+g+"','type':'output'} ",r+=m}else{var v=s.pageId;if(v){null==l&&(l=new Array);var w="";if(v.indexOf("http")>-1)w="windows.location = "+v;else{var A=getProject(v);A?(l.push({page:v,type:A.type}),w="proj"==A.type?"\r\n    gotoPage('"+v+"') // Output":"\r\n    popup('"+v+"') // Output"):console.log("project not found"+v)}r+=w}}}}if(r+="\r\n  } ",i+="] \r\n //*AdlerDomList-Ends",t){var b=t.split("//*AdlerDomList"),x=b.length;if(2===x)if(r=b[0]+"//*AdlerDomList - donot delete below 3 lines \r\n // "+i,"-Ends"===b[2]);else{var S=b[2].substring(5);r+=S}}else r=r+"\r\n//*AdlerDomList - donot delete below 3 lines \r\n // "+i;return workflow.process[e].script=r,{script:r,pages:l}},workflow.r89=function(e,t){var r=t;if(e instanceof HTMLElement){var n=e.selectedIndex,i=e.options;r=i[n].value}for(var n=workflow.process[workflow.currentProcess].points.length-1;n>0;n--){var l=workflow.process[workflow.currentProcess].points[n].type;"Event"===l&&(workflow.process[workflow.currentProcess].points[n].details.name=r,e instanceof HTMLElement||(workflow.process[workflow.currentProcess].points[n].dataId=e.getId())),workflow.r188()}},workflow.r214=function(e){var t=null,r=null,n="";if("input"===e.localName?r=e:t=e,t){var i=t.selectedIndex,l=t.options;n=l[i].value}else n=r.value;var a=parseInt(e.getAttribute("data-index")),o=e.getAttribute("data-key");workflow.process[workflow.currentProcess].points[a].condition||(workflow.process[workflow.currentProcess].points[a].condition=new Object),workflow.process[workflow.currentProcess].points[a].condition[o]=n},workflow.r239=function(e){var t=e.options,r=e.selectedIndex,n=t[r].text,i=workflow.process[n].tokenDetails;i?workflow.Init(i,n):workflow.Init()},workflow.r220=function(e){for(var t=e.target,r=t.getAttribute("id"),n=t.value,i=workflow.process[workflow.currentProcess].points.length,l=i-1;l>0;l--){var a=workflow.process[workflow.currentProcess].points[l],o=a.objId;if(o===r)return a.pageId=n,void 0}};var recordFlag=!1,elementInFocus=null;elementInFocusPoints={};var path=new Array,closedPath=0,res=new Array,resc=0,sixPoints=new Array(6),prevAngle=0,c6=0,px=new Array(3),py=new Array(3),pointsArray=new Array,pointCounter=0,polyPoints=new Array,noOfPoints=0,noOfLines=0,noOfConnectedLines=0;window.addEventListener("load",init),nnn("custom.gallery.image"),custom.gallery.image.r10=function(e,t){this.view=t;var r=t.actualObj.src,n=t.parent;if(n){var i=n.r120();n.r213("background-image","url("+r+")","Background"),n.r213("background-size",i.width+"px "+i.height+"px","Background"),n.r213("background-repeat","no-repeat","Background"),t.r62(),AdlerBaseExt.r171(n)}},custom.gallery.image.der10=function(){},custom.gallery.image.menu=function(){var e=[{id:4002,name:"image Gallery",type:custom.gallery.image,menuType:"custom",menu:custom.gallery.image,description:"image Gallery",hint:"onSearch"},{id:2304,name:"background-image",value:3,menuType:"custom",menu:custom.gallery.image,description:"make image background",hint:"onClick"},{id:4001,name:"cropImage",menuType:"custom",menu:custom.gallery.image.cropImage,description:"crop Image",hint:"onClick"}];return e},custom.gallery.image.search=function(){var e=[{mid:"4001",key:"image",weight:"2"},{mid:"4001",key:"crop",weight:"3"},{mid:"4002",key:"image",weight:"1"}];return e},custom.gallery.image.drawMenu=function(e){var t=document.createElement("ul");t.setAttribute("style","visibility:visible;width: 45%;list-style: none;overflow:scroll;height:130px");for(var r=custom.gallery.image.items,n=r.length,i=0;n>i;i++){var l=document.createElement("li");l.setAttribute("style","box-shadow:0px 3px 3px;padding:7px");var a=document.createElement("img");a.setAttribute("style","width:55px;height:25px;"),a.setAttribute("src",custom.gallery.image.items[i].thumbnail),a.setAttribute("data-image",custom.gallery.image.items[i].image),a.setAttribute("onclick","custom.gallery.image.temp(e)"),a.setAttribute("draggable","false"),AdlerBaseMenuExt.menuCollection.r189(a,custom.gallery.image.eventConfig),l.appendChild(a),t.appendChild(l)}return e&&e.appendChild(t),custom.gallery.image.actualObj=t,t},custom.gallery.image.drawView=function(e,t){try{null==t&&(t=AdlerBaseExt.r125()),e instanceof HTMLElement&&(mId=e.adlerId,e=Adler.globalCollection.getItem(mId)),t.setLeft(t.r103()),t.setTop(t.r104());for(var r=t.r131(),n=e.r131(),i=n.getNext();i;){var l=i.styleType;if("location"!==l&&"Shape"!==l){var a=r.r139(l);for(key in i)a[key]=i[key]}i=n.getNext()}return t.r80(),!0}catch(o){return console.log(o.message),console.log(o.stack),!1}},custom.gallery.image.items=[{thumbnail:"images/chart1.png",image:"images/chart1.png"},{thumbnail:"images/Photo.JPG",image:"images/Photo.JPG"},{thumbnail:"images/pie.jpeg",image:"images/pie.jpeg"}],custom.gallery.image.eventConfig={view:null,item:null,ghost:null,lastPos:null,r90:function(e){return pos=e.currentPos,this.item=targetView,this.view=AdlerBaseExt.r125(),this.ghost=document.getElementById("ghostImage"),this.ghost.style.left=pos.x+"px",this.ghost.style.top=pos.y+"px",this.ghost.style.visibility="visible",this.ghost.src=this.item.src,!0},r87:function(e){return pos=e.currentPos,this.lastPos=pos,this.ghost.style.left=pos.x+"px",this.ghost.style.top=pos.y+"px",!0},r91:function(){this.ghost.style.left="0px",this.ghost.style.top="1000px",this.ghost.style.visibility="hidden";var e=AdlerBaseExt.r148(this.lastPos.x,this.lastPos.y),t=e.length;if(0!==t){e[t-1];var r=this.item.getAttribute("data-image");return custom.gallery.image.createImage(this.item,this.view,{src:r,draggable:!1}),!0}}},custom.gallery.image.createImage=function(e,t,r,n,i){var l=!1,a=!1,o=new AdlerStyleCollection({}),s=new DivViewModel({type:"img",objStyleCollection:o,r66:r});s.setParent(t);var d=e.naturalWidth,c=e.naturalHeight,u=t.r120(),p=u.width,g=u.height,m=custom.gallery.image.checkImageSize(d,c,p,g);if(d=m.nW,c=m.nH,a=m.background,(0===c||0===d)&&(d=p,c=g,l=!0),a){var f=m.ratioWidth+"% "+m.ratioHeight+"%";t.r213("background-size",f,"Background"),t.subType="img",t.fileName=n,t.r213("background-repeat","no-repeat","Background"),t.r213("background-image","url('"+r.src+"')","Background");var y=t.actualObj.getAttribute("data-adler");if(y){var h=JSON.parse(y);h.fileName=n,h.subType="img",t.actualObj.setAttribute("data-adler",JSON.stringify(h))}else t.actualObj.setAttribute("data-adler",'{"subType":"img","fileName":"'+n+'"}');return s.r62(),null}var o=new AdlerStyleCollection({});o.addItem(new ObjStyle({width:d,height:c,unit:"px",position:"absolute",styleType:"Shape"}));var w,A;i?(w=i.x-d/2,A=i.y-c/2):(w=v.r103()-d/2,A=v.r104()-c/2),(100===ratioHeight||0>A)&&(A=0),(100===ratioWidth||0>w)&&(w=0),o.addItem(new ObjStyle({left:w,top:A,unit:"px",styleType:"Location"})),s.objStyleCollection=o,s.subType="img",s.fileName=n,s.r80(t);var h=s.actualObj.getAttribute("data-adler");if(h)h=JSON.parse(h),h.subType="img",h.fileName=n,s.actualObj.setAttribute("data-adler",JSON.stringify(h));else{var b=s.getId();s.actualObj.setAttribute("data-adler",'{"adlerId":'+b+',"subType":"img","fileName":"'+n+'"}')}return l&&custom.gallery.image.readjust(s),s},custom.gallery.image.textRead=function(e){var t=document.getElementById("canvasImage"),r=t.getContext("2d"),n=r.getImageData(e.left,e.top,e.width,e.height),i=document.createElement("canvas");i.width=e.width,i.height=e.height;var l=i.getContext("2d");l.putImageData(n,0,0);var a=i.toDataURL("image/png"),o=a.split(";");a=o[1].substring(7),img=a.substring(0,a.length-1);var s={fileData:img,fileName:"scratch.png",fileType:"image/png",folder:"/image/"},d=JSON.stringify(s),c=!0,u=menu.generic.editText.fillText;return n3("scratch.png",d,"/ocr/1",c,u),""},custom.gallery.image.fontDetails=function(e){canvas.width=canvas.width,clear.r35(),clear.r41();var t=document.getElementById("canvasImage"),r=t.getContext("2d"),n=r.getImageData(e.left,e.top,e.width,e.height),i=new Array;i[0]={x:e.width,y:e.height,count:0,offsetStart:0,offsetEnd:0,xEnd:0,yEnd:0},custom.gallery.image.i4(e.width,e.height,n.data,i);var l=0,a=1e3,o=null,s=null,d=1e3;maxItem=0;for(var c=null,u=null,p=i.length-1;p>-1;p--){var g=i[p];if(0!==g.count){if(c&&g.x-c.x>1){null==u&&(u=custom.gallery.image.i8(c.x+1,c.y-1,{w:e.width,data:n.data}),console.log(u),custom.gallery.image.i8(c.x+2,c.y-2,{w:e.width,data:n.data}),console.log(u));var m=!1;if(m);else{var f=Math.floor(100*Math.random()+1);Math.floor(10*Math.random()+1);var y=e.left+c.x,h=e.top+c.y;r.lineWidth=1,r.beginPath(),r.moveTo(y,h),r.lineTo(y,h-g.count-f),r.stroke()}}g.count>l&&(l=g.count,o=g,maxItem=p),a>g.count&&g.count>0&&(a=g.count,s=g),d>g.x&&g.x>0&&(d=g.x),c=g}}return o?{fontSize:l,color:u}:{fontSize:0}},custom.gallery.image.readjust=function(e){var t=e.r120(),r=t.width,n=t.height,i=e.actualObj,l=i.naturalWidth,a=i.naturalHeight;custom.gallery.image.checkImageSize(l,a,r,n),e.setWidth(l),e.r217(a)},custom.gallery.image.checkImageSize=function(e,t,r,n){var i=!1;return e>0&&e>r&&(e=r,t=r/e*t),t>0&&t>n&&(t=n,e=n/t*e),ratioWidth=100*e/r,ratioHeight=100*t/n,ratioWidth>80&&ratioHeight>80&&(i=!0),{nW:e,nH:t,background:i,ratioWidth:ratioWidth,ratioHeight:ratioHeight}},custom.gallery.image.data=null,custom.gallery.image.dimension=null,custom.gallery.image.finalLines=null,custom.gallery.image.i1=function(e){var t=.98*Adler.canvas.width,r=.95*Adler.canvas.height,n=t.toFixed();t=n>t?n-1:n;var i=r.toFixed();r=i>r?i-1:i;var l=document.getElementById("canvasImage");l.width=t,l.height=r,custom.gallery.image.dimension={x:0,y:0,w:t,h:r};var a=l.getContext("2d");a.drawImage(e,0,0,t,r),r228("processing Image, will take time");var o=a.getImageData(0,0,t,r),s=o.data;custom.gallery.image.data=s;var d=new Array;return d[0]={x:t,y:r,count:0,offsetStart:0,offsetEnd:0,xEnd:0,yEnd:0},custom.gallery.image.i3(t,r,s,s,d),custom.gallery.image.finalLines=custom.gallery.image.i5(t,ctx,d),l},custom.gallery.image.i2=function(e,t,r){if(e>0){var n=t[e-1],i=t[e],l=(i.x+i.xEnd)/2;i.middle=l;var a=Math.abs(i.x-n.x),o=Math.abs(i.y-n.y),s=n.count,d=i.count;s>50&&8>a&&8>o?(s>d||d===s||d>s&&(e-=1,t[e]=i,e++),r&&t.pop()):e++}else e++;return e},custom.gallery.image.i3=function(e,t,r,n,i){var l=!0,a=!1,o=-1/8;weight=1/o;var s=4*e,d=t,c=d,u=e,p=0,g=0;do{var m=(d-1)*s,f=d==t?d-1:d,y=1==d?0:d-2,h=4*y*e,v=4*f*e,w=e;do{var A=m+(4*w-4),b=h+4*(1==w?0:w-2),x=v+4*(w==e?w-1:w),S=((n[b-4]+n[b]+n[b+4]+n[A-4]+n[A+4]+n[x-4]+n[x]+n[x+4])*o+n[A])*weight,k=((n[b-3]+n[b+1]+n[b+5]+n[A-3]+n[A+5]+n[x-3]+n[x+1]+n[x+5])*o+n[A+1])*weight,T=((n[b-2]+n[b+2]+n[b+6]+n[A-2]+n[A+6]+n[x-2]+n[x+2]+n[x+6])*o+n[A+2])*weight;if(l){var I=.3*S+.59*k+.11*T||0;a&&(I=255-I),0>I&&(I=0),I>255&&(I=255),S=k=T=I}else a&&(S=255-S,k=255-k,T=255-T),0>S&&(S=0),0>k&&(k=0),0>T&&(T=0),S>255&&(S=255),k>255&&(k=255),T>255&&(T=255);if(S>10&&k>10&&T>10){var P=i[p].count;if(c!==d)P>50&&(p=custom.gallery.image.i2(p,i,!1)),c=d,g=0,i[p]={x:w,y:d,count:g,offsetStart:A,offsetEnd:A,xEnd:w,yEnd:d};else{var C=u-w;1===C?(i[p].count=g+1,g++,i[p].offsetEnd=A,i[p].x=w,i[p].y=d):(P>50&&(p=custom.gallery.image.i2(p,i,!1)),g=0,i[p]={x:w,y:d,count:g,offsetStart:A,offsetEnd:A,xEnd:w,yEnd:d})}u=w}r[A+3]=200}while(--w)}while(--d);return custom.gallery.image.i2(p,i,!0),!0},custom.gallery.image.i4=function(e,t,r,n){var i=!0,l=!1,a=-1/8;weight=1/a;var o=4*e,s=e,d=t,c=e,u=0,p=0;do{y=t;do{var g=(y-1)*o,m=y==t?y-1:y,f=1==y?0:y-2,h=4*f*e,v=4*m*e,w=g+(4*s-4),A=h+4*(1==s?0:s-2),b=v+4*(s==e?s-1:s),x=((r[A-4]+r[A]+r[A+4]+r[w-4]+r[w+4]+r[b-4]+r[b]+r[b+4])*a+r[w])*weight,S=((r[A-3]+r[A+1]+r[A+5]+r[w-3]+r[w+5]+r[b-3]+r[b+1]+r[b+5])*a+r[w+1])*weight,k=((r[A-2]+r[A+2]+r[A+6]+r[w-2]+r[w+6]+r[b-2]+r[b+2]+r[b+6])*a+r[w+2])*weight;if(i){var T=.3*x+.59*S+.11*k||0;l&&(T=255-T),0>T&&(T=0),T>255&&(T=255),x=S=k=T}else l&&(x=255-x,S=255-S,k=255-k),0>x&&(x=0),0>S&&(S=0),0>k&&(k=0),x>255&&(x=255),S>255&&(S=255),k>255&&(k=255);if(x>10&&S>10&&k>10){var I=n[u].count;if(c!==s)I>5&&custom.gallery.image.i2(u,n,!1),c=s,p=0,n[u]={x:s,y:y,count:p,offsetStart:w,offsetEnd:w,xEnd:s,yEnd:y};else{var P=d-y;1===P?(n[u].count=p+1,p++,n[u].offsetEnd=w,n[u].xEnd=s,n[u].yEnd=y):(I>5&&u++,p=0,n[u]={x:s,y:y,count:p,offsetStart:w,offsetEnd:w,xEnd:s,yEnd:y})}d=y}}while(--y)}while(--s);return custom.gallery.image.i2(u,n,!0),!0},custom.gallery.image.i5=function(e,t,r){for(var n=new Array,i=0,l=110,a=100;e>a;a+=100){for(var o=null,s=!1,d=r.length-1;d>-1;d--){var c=r[d];if(!(c.x>a||c.xEnd<a)){if(null==o);else{var u=Math.abs(c.y-o.y);if(8>u){if(o.count<c.count){if(null==c.processed){var p=n.length;n[p-1]=c,s=!1}else s&&n.pop(),s=!1;c.count<l?(c.processed=1,r.splice(d,1)):c.processed=2}o=c;continue}}if(null==c.processed){var p=n.length;n[p]=c,s=!0}else s=!1;c.count<l?(c.processed=1,r.splice(d,1)):c.processed=2,o=c}}i=a}return custom.gallery.image.finalLines=n,custom.gallery.image.r78s(),n},custom.gallery.image.r78s=function(){if(custom.gallery.image.data){Adler.Mode=0,clear.r36(),Adler.Mode=9;var e=custom.gallery.image.finalLines;if(null==e)return;for(var t=0,r=e.length-1;r>-1;r--){var n=e[r];ctx.beginPath(),ctx.moveTo(n.x+t,n.y+t),ctx.lineTo(n.xEnd+t,n.yEnd+t),ctx.stroke(),ctx.font="11px cursive",ctx.fillText("("+r+")",n.x+10*Math.floor(10*Math.random()+1),n.y)}}},custom.gallery.image.i6=function(e){var t=25,r=2*t,n=(e.x+e.x2)/2,i=(e.y+e.y2)/2,l=e.y2>e.y?e.y2:e.y,a=e.y<e.y2?e.y:e.y2;yBottomBound=l+t,yUpperBound=a-t;for(var o=new Array,s=new Array,d=custom.gallery.image.finalLines,c=d.length-1;c>-1;c--){var u=d[c];if(u.x<n&&u.xEnd>n)if(i<u.y&&u.y<yBottomBound){var p=yBottomBound-u.y;r>p&&o.push(u)}else if(i>u.y&&u.y>yUpperBound){var p=u.y-yUpperBound;r>p&&s.push(u)}}if(0===s.length){if(0===o)return r228("No Bound Found. No Action taken"),void 0;var g={x:y.x,y:a,count:y.count};s.push(g)}else if(0===o.length){var g={x:f.x,y:l,count:f.count};o.push(g)}var m=function(e,t){var r=e.length;if(2>r)return e[0];for(var n=e[r-1],i=n,l=Math.abs(n.y-t),a=r-2;a>-1;a--){n=e[a];var o=Math.abs(n.y-t);Math.abs(l)>Math.abs(o)&&(l=o,i=n)}return i},f=m(s,a),y=m(o,l),h=f.x>y.x?y.x:f.x,v=f.y,w=f.count>y.count?f.count:y.count,A=y.y-f.y;return{x:h,y:v,w:w,h:A}},custom.gallery.image.i7=function(e){for(var t={},r={},n=custom.gallery.image.finalLines,i=n.length-1;i>-1;i--){var l=n[i];if(l.x<e.x&&l.xEnd>e.x)if(e.y<l.y)t=l;else{null==r.countDiff&&(r=l);var a=Math.abs(l.count-t.count);if(!(a>8)){r=l;break}if(r.countDiff&&r.countDiff<a)break;r.countDiff=a}}null==r.x&&(r.x=t.x,r.y=0,r.count=t.count);var o=r.x>t.x?t.x:r.x,s=r.y,d=r.count>t.count?r.count:t.count,c=t.y-r.y,u=custom.gallery.image.i8(e.x,e.y);return{x:o,y:s,w:d,h:c,color:u}},custom.gallery.image.i8=function(e,t,r){var n,i;r?(n=r.data,i=r.w):(n=custom.gallery.image.data,i=custom.gallery.image.dimension.w);var l=n[4*(i*t+e)],a=n[4*(i*t+e)+1],o=n[4*(i*t+e)+2],s=n[4*(i*t+e)+3];return{r:l,g:a,b:o,a:s}},custom.gallery.image.cropImage={slantedGesture:function(e,t){var r=document.getElementById("canvasImage"),n=r.getContext("2d"),i=n.getImageData(e.x,e.y,e.w,e.h),l=document.createElement("canvas");l.width=e.w,l.height=e.h;var a=l.getContext("2d");a.putImageData(i,0,0);var o=new Image;o.src=l.toDataURL("image/png");var s=o.src,d=Adler.getNextId();o.draggable=!1,o.setAttribute("id","img"+d);var c=new AdlerStyleCollection({});c.addItem(new ObjStyle({width:e.w,height:e.h,z_index:1,unit:"px",position:"absolute",styleType:"Shape"})),c.addItem(new ObjStyle({left:e.x,top:e.y,unit:"px",styleType:"Location"}));var u=new DivViewModel({type:"img",objStyleCollection:c,r66:{id:"img"+d,src:o.src},parent:t});u.subType="img",u.r80();var p="image"+d,g=s.split(";"),m=g[0].split(":"),f=m[1].split("/")[1];p=p+"."+f,u.fileName=p;var y,h=u.actualObj.getAttribute("data-adler");h?(y=JSON.parse(h),y.subType="img",y.fileName=p):y={subType:"img",fileName:p},u.actualObj.setAttribute("data-adler",JSON.stringify(y))},r10:function(e,t){var r=t.r102();if(custom.gallery.image.data){var n=document.getElementById("canvasImage"),i=n.getContext("2d"),l=i.getImageData(r.left,r.top,r.width,r.height),a=document.createElement("canvas");a.width=r.width,a.height=r.height;var o=a.getContext("2d");o.putImageData(l,0,0);var s=new Image;s.src=a.toDataURL("image/png");var d=s.src,c=Adler.getNextId();s.draggable=!1,s.setAttribute("id","img"+c);var u=new AdlerStyleCollection({});u.addItem(new ObjStyle({width:r.width,height:r.height,z_index:1,unit:"px",position:"absolute",styleType:"Shape"})),u.addItem(new ObjStyle({left:r.left,top:r.top,unit:"px",styleType:"Location"}));var p=new DivViewModel({type:"img",objStyleCollection:u,r66:{id:"img"+c,src:s.src},parent:t.parent});p.subType="img",p.r80();var g="image"+c,m=d.split(";"),f=m[0].split(":"),y=f[1].split("/")[1];g=g+"."+y,p.fileName=g;var h,v=p.actualObj.getAttribute("data-adler");v?(h=JSON.parse(v),h.subType="img",h.fileName=g):h={subType:"img",fileName:g},p.actualObj.setAttribute("data-adler",JSON.stringify(h)),t.r62()}},der10:function(){}};var user="",USER_ID="1234",PASSWORD_HASH="",statDef,statData,pageDef,pageData,pageDocDef,pageDocData,imageAdrDef,imageAdrData,widgetDef,widgetData,userPrefDef,userPrefData,flowDef,flowData,DBDef,DBData,reqDef,reqData;modificationArray=new Array,waitTime=3e4,ajaxTimer=0,function(){setTimeout(function(){sync()},waitTime)}(),dbSyncAction={actionList:[{object:"EQ_USER_MEDICAL_PROVIDER",ops:"U",fieldList:["USER_MEDICAL_PROVIDER_ID","USER_ID","CLINIC_NAME","DOCTOR_NAME","SPECIALTY","ADDRESS","PHONE_NUMBER","EMAIL_ADDRESS","VISIT_FREQUENCY","IP_ADDRESS"],fieldValue:[["a","b"]]}]};var hex_chr="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=md5("hello"),nnn("DB"),DB.color=["#e51c23","#e91e63","#9c27b0","#673ab7","#3f51b5","#5677fc","#03a9f4","#00bcd4","#009688","#259b24","#8bc34a","#ff5722","#795548","#607d8b","#263238","#3e2723","#000000"],DB.r50em=0,DB.map={},DB.draw=function(e,t){if(10==e.patternCode)if(t!==Adler.canvasView){e.view.r80(Adler.canvasView);
var r=DB.getColor(),n=t.r120(),i=e.view.actualObj;i.style["background-color"]=r,i.style["box-shadow"]="4px 4px 4px gray",e.view.r213("width",n.width,"Shape"),e.view.r213("top",n.top+n.height,"Location"),e.view.r213("left",n.left,"Location"),DB.addNewDB(e.view.r120(),Adler.flowCtx,e.view,name)}else{e.view.r80(Adler.canvasView);var r=DB.getColor(),n=t.r120(),i=e.view.actualObj;i.style["background-color"]=r,i.style["box-shadow"]="4px 4px 4px gray";var l={x:n.left,y:n.top,x2:n.left+n.width,y2:n.top+n.height};Adler.decisionDiv.view=e.view,DB.decision("screenName")}else{var l=e.line;l||(lastPoint=e.pointsArray.length-1,l={x:e.pointsArray[0][0],y:e.pointsArray[0][1],x2:e.pointsArray[lastPoint][0],y2:e.pointsArray[lastPoint][1]},l.distance=r22(l.x2,l.x,l.y2,l.y));var a=AdlerBaseExt.r148(l.x,l.y),o=a[0];a=AdlerBaseExt.r148(l.x2,l.y2);var s=a[0];if(o===s)if(o===Adler.canvasView)DB.r58(e.line);else{if(l.distance<21){var d=Adler.dbMenu.style;if(targetView===Adler.canvasView)return"none"===d.display&&(d.display="table",Adler.move.style.visibility="hidden"),void 0;d.display="table";var c=adlerEvent.currentPos;if(d.left=c.x+10+"px",d.top=c.y-35+"px",Adler.dbMenu.view=targetView,Adler.move.view=targetView,Adler.copyPage){var u=document.getElementById("dbPaste").style;u.display="block"}var p=Adler.move.style;return p.visibility="visible",p.left=targetView.getLeft()-35+"px",p.top=targetView.getTop()-35+"px",void 0}DB.decision("addWidget",o,{left:l.x,top:l.y,width:l.x2-l.x,height:l.y2-l.y},l)}else{var g=!1;if(s===Adler.canvasView){var m={x:l.x2-40,y:l.y2-10,x2:l.x2+40,y2:l.y2+90},f=DB.map[o.name].dimension;m.x>f.left?m.x-(f.left+f.width)<15&&(m.x=f.left+f.width+35,m.x2=m.x+100):f.left-m.x<15&&(m.x=f.left-(m.x2-m.x)-35,m.x2=m.x+100),g=!0,s=DB.r58(m)}var y=AdlerStorage.findStorage(s.name),h=o.name;-1===h.indexOf(".")&&(h=ADLER_SCHEMA+"."+h),y.def.parent=h,DB.map[s.name].parent=h,g&&AdlerDBStorages.push(y),AdlerStorage.saveDefToLocal(),DB.connectLine(o,s,!0)}}},DB.config=function(){var e=localStorage["Adler-dbconfig"],t=document.getElementById("config");if(e){e=JSON.parse(e);var r=t.getElementsByTagName("input");r[0].value=e.schema,r[1].value=e.dbUrl,r[2].value=e.syncUrl,r[3].value=e.pingUrl,e.queryUrl||(e.queryUrl="ac=4"),r[4].value=e.queryUrl}t.style.display="block";var n=t.getElementsByTagName("button");n[0].onclick=function(){document.getElementById("config").style.display="none"},n[1].onclick=function(){var e=document.getElementById("config"),t=e.getElementsByTagName("input"),r={};r.schema=t[0].value,r.dbUrl=t[1].value,r.syncUrl=t[2].value,r.pingUrl=t[3].value,r.queryUrl=t[4].value,localStorage["Adler-dbconfig"]=JSON.stringify(r),e.style.display="none"}},DB.connectLine=function(e,t){var r,n,i="black";"string"==typeof e?(r=DB.map[e].dimension,n=DB.map[t].dimension,i=DB.map[e].color):(r=e.r102(),n=t.r102(),e.actualObj.color&&(i=e.actualObj.color));var l,a,o,s;r.top+r.height<n.top?(a=n.left+n.width/2,s=n.top):r.top>n.top+n.height?(a=n.left+n.width/2,s=n.top+n.height):(a=n.left,s=n.top+n.height/2,n.left+n.width<r.left&&(a=n.left+n.width)),r.left+r.width<n.left?(l=r.left+r.width,o=r.top+r.height/2):r.left>n.left+n.width?(l=r.left,o=r.top+r.height/2):(l=r.left+r.width/2,o=r.top+r.height,n.top+n.height<r.top&&(o=r.top)),Adler.flowCtx.strokeStyle=i,Adler.flowCtx.beginPath(),Adler.flowCtx.moveTo(l,o);var d=a,c=o;c>s&&(c=s),l>a&&(d=l),Adler.flowCtx.quadraticCurveTo(d,c,a,s),Adler.flowCtx.stroke();var u=Math.atan2(s-o,a-l);DB.drawArrow(l,o,((l+a)/2+d)/2,((o+s)/2+c)/2,u)},DB.drawArrow=function(e,t,r,n,i){var l=Adler.flowCtx,a=10;l.beginPath(),l.moveTo(r,n),l.lineTo(r-a*Math.cos(i-Math.PI/6),n-a*Math.sin(i-Math.PI/6)),l.moveTo(r,n),l.lineTo(r-a*Math.cos(i+Math.PI/6),n-a*Math.sin(i+Math.PI/6)),l.stroke()},DB.r58=function(e,t){var r,n,i,l,a=!1;e?(i=Math.abs(e.y-e.y2),l=Math.abs(e.x2-e.x),l>i?i=l:l=i,r=e.x,n=e.y,100>l&&(l=100),100>i&&(i=100)):(a=!0,l=t.width,i=t.height,r=t.left,n=t.top);var o=new ObjStyle({left:r,top:n,position:"absolute",styleType:"Location"}),s=new ObjStyle({width:l-10,height:i-10,padding:10,overflow:"hidden",visibility:"visible",z_index:1,styleType:"Shape"}),d=new ObjStyle({box_shadow:"4px 4px 4px gray",border_width:1,border_style:"solid",border_color:"white",unit:"px",styleType:"Border"}),c=DB.getColor(),u=new ObjStyle({background_color:c,color:"white",styleType:"Background"}),p=new AdlerStyleCollection({adlerObject:o});p.addItem(s),p.addItem(d),p.addItem(u);var g=new DivViewModel({type:"div",objStyleCollection:p,adlerType:"endObject"});return g.r80(Adler.canvasView),g.actualObj.color=c,a?g:(Adler.decisionDiv.view=g,DB.decision("screenName",g,g.r120()),g)},DB.reDraw=function(){var e=Adler.flowCtx,t=e.canvas;t.width=t.width;for(var r in DB.map){var n=DB.map[r];if(n.parent){var i=AdlerStorage.sanitizeStoreName(n.parent);DB.connectLine(i,r,!1)}e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowBlur=2,e.shadowColor="rgba(200,200,200,1)",e.fillText(r,n.dimension.left+20,n.dimension.top-10),e.stroke()}},DB.drawDB=function(){var e=localStorage["Adler-User"],t=AdlerStorage.getStoreList(e),r=Adler.flowCtx,n=r.canvas;n.width=n.width,Adler.flowCtx.strokeStyle="#000000",Adler.flowCtx.lineWidth=2,Adler.flowCtx.font="bold 12px sans-serif",DB.r50em=0;var i=t.length,l=50;y=150;for(var a=0;i>a;a++){var o="",s=t[a],d=s.storeName;if(d){var c={top:y,left:l,height:100,width:100};s.screen&&s.screen.dimension?c=s.screen.dimension:(l+=150,l>Adler.dimension.width-170&&(l=50,y+=150));var u=DB.r58(null,c),p=null;s.parent&&(p=s.parent.split(".")[1],o+="parent - "+p+"\r\n"),s.keyPath&&(o+="key:"+s.keyPath),s.description&&(o+="\r\n"+s.description),u.actualObj.innerHTML=o;var r=Adler.flowCtx;u.name=d;var g=d;r.shadowOffsetX=2,r.shadowOffsetY=2,r.shadowBlur=2,r.shadowColor="rgba(200,200,200,1)",r.fillText(g,c.left+20,c.top-10),r.stroke(),DB.map[d]={dimension:c,parent:s.parent,description:o,color:u.actualObj.color}}}Adler.dirty=!1;for(var m in DB.map){var s=DB.map[m];if(s.parent){var p=AdlerStorage.sanitizeStoreName(s.parent);DB.connectLine(p,m,!1)}}},DB.updateDimension=function(){for(var e=AdlerDBStorages.length-1;e>-1;e--){var t=AdlerDBStorages[e],r=t.def;r.screen={},r.screen.dimension=DB.map[r.storeName].dimension}AdlerStorage.saveDefToLocal()},DB.getColor=function(){var e=DB.r50em;e>DB.color.length-1&&(e=0,DB.r50em=0),DB.r50em++;var t=DB.color[e];return t},DB.findView=function(e){for(var t=Adler.globalCollection.objectArray,r=t.length-1;r>-1;r--){var n=t[r];if(n.name===e)return n}return null},DB.addNewDB=function(e,t,r,n,i){var l=localStorage["Adler-User"];ADLER_SCHEMA=l,n=AdlerStorage.sanitizeStoreName(n);var a=AdlerStorage.findStorage(n);return i&&(a.def.description=i),r.name=n,i&&(r.actualObj.innerHTML=i),t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowBlur=2,t.shadowColor="rgba(200,200,200,1)",t.fillText(n,e.left-10,e.top-30),t.stroke(),DB.map[a.def.storeName]={dimension:e,description:i,color:r.actualObj.color},a.def.columns||(AdlerDBStorages.push(a),AdlerStorage.saveDefToLocal()),a},DB.deleteDB=function(e,t){var r=t.name;delete DB.map[AdlerStorage.sanitizeStoreName(r)];var n=AdlerStorage.findStorage(r);AdlerStorage.deleteDB(r),DeleteDBDef({dbId:n.def.storeName}),t.r62(),DB.reDraw(),AdlerStorage.saveDefToLocal()},DB.decision=function(e){var t=Adler.decisionDiv;if(!t.view){var r=Adler.canvasView.r120();t.view=AdlerBaseExt.r53({x:r.left,y:r.top,w:r.width,h:r.height,view:Adler.canvasView,ln:{r64:"E"},type:"div",dontDraw:!1,border:!1})}var n=t.view.r120(),i=n.left+20,l=n.top+20;if(Adler.dimension.width-i-300<5&&(i=Adler.dimension.width-300),Adler.dimension.height-l-300<5&&(l=Adler.dimension.height-300),t.style.left=i+"px",t.style.top=l+"px",t.type=e,t.style.display="block",t.style.visibility="visible","screenName"===e){var a=document.getElementById("decisionScreen");a.style.display="block",a.style.visibility="visible";var o=document.getElementById("decisionName");o.focus()}else{var s=document.getElementById("decisionWidget");s.style.display="block",s.style.visibility="visible",t.line=line}},DB.generateDDL=function(){for(var e=["CHAR","VARCHAR","ENUM","LONGBLOB","Rating","Array","Heading","TEXT","MEDIUMTEXT","LONGTEXT","INT","TINYINT","SMALLINT","MEDIUMINT","BIGINT","FLOAT","DOUBLE","DECIMAL","DATE","DATETIME","TIMESTAMP","TIME","YEAR"],t=" 'STATUS'                                  VARCHAR(1) NOT NULL DEFAULT 'A',\r\n 'TIME_ZONE'                               SMALLINT,\r\n 'IP_ADDRESS'                              VARCHAR(60) DEFAULT NULL,\r\n 'CREATED_BY'                              VARCHAR(10) DEFAULT NULL,\r\n 'CREATION_DATE'                           TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n 'UPDATED_BY'                              VARCHAR(10) DEFAULT NULL,\r\n 'UPDATION_DATE'                           DATETIME DEFAULT NULL,\r\n",r="",n=" ",i=AdlerDBStorages.length-1;i>-1;i--){var l=AdlerDBStorages[i];if(l){var a=l.def,o=a.columns;if(o){r+="\r\n CREATE TABLE '"+a.storeName+"' ( \r\n";for(var s=o.length,d=0;s>d;d++){var c=o[d];if(c){var u=c.length;r+=" '"+c+"'";for(var p=40;p>u;p--)r+=n;var g={prec:100,nill:"NULL","default":""};if(a.others&&(g=a.others[d]),-1===g.prec&&(g.prec=100),a.dataTypes){var m="",f=a.dataTypes[d];m=f>9&&15>f?e[f]:e[a.dataTypes[d]]+"("+g.prec+") ",m+=" "+g.nill,m+=g.default?" "+g.default+",\r\n":" ,\r\n",r+=m}}}if(r+=t+" PRIMARY KEY ('"+o[0]+"') \r\n",a.parent){var y=AdlerStorage.findStorage(a.parent);y.def.columns&&(r+=",\r\n FOREIGN KEY ('"+y.def.columns[0]+"') REFERENCES "+a.parent+"('"+y.def.columns[0]+"') \r\n")}r+=" ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n\r\n"}}}var h=localStorage["Adler-User"]+".sql",v={fileData:r,fileName:h,fileType:"",folder:"/"};jsonString=JSON.stringify(v),n3("DDL",jsonString,"/upload/1",!1),window.open(window.location.origin+"/AdlerGen/"+h)};
